var XO=Object.defineProperty,ek=Object.defineProperties;var tk=Object.getOwnPropertyDescriptors;var UD=Object.getOwnPropertySymbols,nk=Object.getPrototypeOf,rk=Object.prototype.hasOwnProperty,ik=Object.prototype.propertyIsEnumerable,ok=Reflect.get;var BD=(t,e,n)=>e in t?XO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||={})rk.call(e,n)&&BD(t,n,e[n]);if(UD)for(var n of UD(e))ik.call(e,n)&&BD(t,n,e[n]);return t},ee=(t,e)=>ek(t,tk(e));var ei=(t,e,n)=>ok(nk(t),n,e);var v=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});var zg;function Kl(){return zg}function Vn(t){let e=zg;return zg=t,e}var $D=Symbol("NotFound");function gs(t){return t===$D||t?.name==="\u0275NotFound"}function Xl(t,e){return Object.is(t,e)}var _t=null,Ql=!1,qg=1,sk=null,Et=Symbol("SIGNAL");function ae(t){let e=_t;return _t=t,e}function ed(){return _t}var eo={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ms(t){if(Ql)throw new Error("");if(_t===null)return;_t.consumerOnSignalRead(t);let e=_t.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=_t.recomputing;if(r&&(n=e!==void 0?e.nextProducer:_t.producers,n!==void 0&&n.producer===t)){_t.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===_t&&(!r||ck(i,_t)))return;let o=vs(_t),s={producer:t,consumer:_t,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};_t.producersTail=s,e!==void 0?e.nextProducer=s:_t.producers=s,o&&zD(t,s)}function HD(){qg++}function td(t){if(!(vs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===qg)){if(!t.producerMustRecompute(t)&&!fc(t)){Jl(t);return}t.producerRecomputeValue(t),Jl(t)}}function Gg(t){if(t.consumers===void 0)return;let e=Ql;Ql=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||ak(r)}}finally{Ql=e}}function Wg(){return _t?.consumerAllowSignalWrites!==!1}function ak(t){t.dirty=!0,Gg(t),t.consumerMarkedDirty?.(t)}function Jl(t){t.dirty=!1,t.lastCleanEpoch=qg}function to(t){return t&&(t.producersTail=void 0,t.recomputing=!0),ae(t)}function ys(t,e){if(ae(e),!t)return;t.recomputing=!1;let n=t.producersTail,r=n!==void 0?n.nextProducer:t.producers;if(r!==void 0){if(vs(t))do r=Kg(r);while(r!==void 0);n!==void 0?n.nextProducer=void 0:t.producers=void 0}}function fc(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(td(n),r!==n.version))return!0}return!1}function pc(t){if(vs(t)){let e=t.producers;for(;e!==void 0;)e=Kg(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function zD(t,e){let n=t.consumersTail,r=vs(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)zD(i.producer,i)}function Kg(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!vs(e)){let o=e.producers;for(;o!==void 0;)o=Kg(o)}return n}function vs(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function nd(t){sk?.(t)}function ck(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function rd(t,e){let n=Object.create(uk);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(td(n),ms(n),n.value===hc)throw n.error;return n.value};return r[Et]=n,nd(n),r}var Yl=Symbol("UNSET"),Zl=Symbol("COMPUTING"),hc=Symbol("ERRORED"),uk=ee(O({},eo),{value:Yl,dirty:!0,error:null,equal:Xl,kind:"computed",producerMustRecompute(t){return t.value===Yl||t.value===Zl},producerRecomputeValue(t){if(t.value===Zl)throw new Error("");let e=t.value;t.value=Zl;let n=to(t),r,i=!1;try{r=t.computation(),ae(null),i=e!==Yl&&e!==hc&&r!==hc&&t.equal(e,r)}catch(o){r=hc,t.error=o}finally{ys(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function lk(){throw new Error}var qD=lk;function GD(t){qD(t)}function Qg(t){qD=t}var dk=null;function Yg(t,e){let n=Object.create(id);n.value=t,e!==void 0&&(n.equal=e);let r=()=>WD(n);return r[Et]=n,nd(n),[r,s=>_s(n,s),s=>Zg(n,s)]}function WD(t){return ms(t),t.value}function _s(t,e){Wg()||GD(t),t.equal(t.value,e)||(t.value=e,hk(t))}function Zg(t,e){Wg()||GD(t),_s(t,e(t.value))}var id=ee(O({},eo),{equal:Xl,value:void 0,kind:"signal"});function hk(t){t.version++,HD(),Gg(t),dk?.(t)}function re(t){return typeof t=="function"}function Es(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var od=Es(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function no(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ke=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(re(r))try{r()}catch(o){e=o instanceof od?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{KD(o)}catch(s){e=e??[],s instanceof od?e=[...e,...s.errors]:e.push(s)}}if(e)throw new od(e)}}add(e){var n;if(e&&e!==this)if(this.closed)KD(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&no(n,e)}remove(e){let{_finalizers:n}=this;n&&no(n,e),e instanceof t&&e._removeParent(this)}};ke.EMPTY=(()=>{let t=new ke;return t.closed=!0,t})();var Jg=ke.EMPTY;function sd(t){return t instanceof ke||t&&"closed"in t&&re(t.remove)&&re(t.add)&&re(t.unsubscribe)}function KD(t){re(t)?t():t.unsubscribe()}var _n={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Is={setTimeout(t,e,...n){let{delegate:r}=Is;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Is;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ad(t){Is.setTimeout(()=>{let{onUnhandledError:e}=_n;if(e)e(t);else throw t})}function gc(){}var QD=Xg("C",void 0,void 0);function YD(t){return Xg("E",void 0,t)}function ZD(t){return Xg("N",t,void 0)}function Xg(t,e,n){return{kind:t,value:e,error:n}}var ro=null;function ws(t){if(_n.useDeprecatedSynchronousErrorHandling){let e=!ro;if(e&&(ro={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ro;if(ro=null,n)throw r}}else t()}function JD(t){_n.useDeprecatedSynchronousErrorHandling&&ro&&(ro.errorThrown=!0,ro.error=t)}var io=class extends ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,sd(e)&&e.add(this)):this.destination=gk}static create(e,n,r){return new bs(e,n,r)}next(e){this.isStopped?tm(ZD(e),this):this._next(e)}error(e){this.isStopped?tm(YD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?tm(QD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},fk=Function.prototype.bind;function em(t,e){return fk.call(t,e)}var nm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){cd(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){cd(r)}else cd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){cd(n)}}},bs=class extends io{constructor(e,n,r){super();let i;if(re(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&_n.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&em(e.next,o),error:e.error&&em(e.error,o),complete:e.complete&&em(e.complete,o)}):i=e}this.destination=new nm(i)}};function cd(t){_n.useDeprecatedSynchronousErrorHandling?JD(t):ad(t)}function pk(t){throw t}function tm(t,e){let{onStoppedNotification:n}=_n;n&&Is.setTimeout(()=>n(t,e))}var gk={closed:!0,next:gc,error:pk,complete:gc};var Ds=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Zt(t){return t}function rm(...t){return im(t)}function im(t){return t.length===0?Zt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var oe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=yk(n)?n:new bs(n,r,i);return ws(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=XD(r),new r((i,o)=>{let s=new bs({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ds](){return this}pipe(...n){return im(n)(this)}toPromise(n){return n=XD(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function XD(t){var e;return(e=t??_n.Promise)!==null&&e!==void 0?e:Promise}function mk(t){return t&&re(t.next)&&re(t.error)&&re(t.complete)}function yk(t){return t&&t instanceof io||mk(t)&&sd(t)}function om(t){return re(t?.lift)}function ge(t){return e=>{if(om(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function he(t,e,n,r,i){return new sm(t,e,n,r,i)}var sm=class extends io{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Cs(){return ge((t,e)=>{let n=null;t._refCount++;let r=he(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ts=class extends oe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,om(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ke;let n=this.getSubject();e.add(this.source.subscribe(he(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ke.EMPTY)}return e}refCount(){return Cs()(this)}};var e0=Es(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ue=(()=>{class t extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ud(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new e0}next(n){ws(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ws(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ws(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Jg:(this.currentObservers=null,o.push(n),new ke(()=>{this.currentObservers=null,no(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new oe;return n.source=this,n}}return t.create=(e,n)=>new ud(e,n),t})(),ud=class extends Ue{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Jg}};var tt=class extends Ue{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var am={now(){return(am.delegate||Date).now()},delegate:void 0};var ld=class extends ke{constructor(e,n){super()}schedule(e,n=0){return this}};var mc={setInterval(t,e,...n){let{delegate:r}=mc;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=mc;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ss=class extends ld{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return mc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&mc.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,no(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var As=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};As.now=am.now;var Rs=class extends As{constructor(e,n=As.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var cm=new Rs(Ss);var dd=class extends Ss{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var hd=class extends Rs{};var um=new hd(dd);var Ht=new oe(t=>t.complete());function t0(t){return t&&re(t.schedule)}function n0(t){return t[t.length-1]}function fd(t){return re(n0(t))?t.pop():void 0}function ti(t){return t0(n0(t))?t.pop():void 0}function lm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function i0(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function r0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function oo(t){return this instanceof oo?(this.v=t,this):new oo(t)}function o0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(T){return Promise.resolve(T).then(y,p)}}function a(y,T){r[y]&&(i[y]=function(R){return new Promise(function(M,L){o.push([y,R,M,L])>1||u(y,R)})},T&&(i[y]=T(i[y])))}function u(y,T){try{l(r[y](T))}catch(R){m(o[0][3],R)}}function l(y){y.value instanceof oo?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,T){y(T),o.shift(),o.length&&u(o[0][0],o[0][1])}}function s0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof r0=="function"?r0(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var pd=t=>t&&typeof t.length=="number"&&typeof t!="function";function gd(t){return re(t?.then)}function md(t){return re(t[Ds])}function yd(t){return Symbol.asyncIterator&&re(t?.[Symbol.asyncIterator])}function vd(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function vk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var _d=vk();function Ed(t){return re(t?.[_d])}function Id(t){return o0(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield oo(n.read());if(i)return yield oo(void 0);yield yield oo(r)}}finally{n.releaseLock()}})}function wd(t){return re(t?.getReader)}function Ge(t){if(t instanceof oe)return t;if(t!=null){if(md(t))return _k(t);if(pd(t))return Ek(t);if(gd(t))return Ik(t);if(yd(t))return a0(t);if(Ed(t))return wk(t);if(wd(t))return bk(t)}throw vd(t)}function _k(t){return new oe(e=>{let n=t[Ds]();if(re(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ek(t){return new oe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Ik(t){return new oe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ad)})}function wk(t){return new oe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function a0(t){return new oe(e=>{Dk(t,e).catch(n=>e.error(n))})}function bk(t){return a0(Id(t))}function Dk(t,e){var n,r,i,o;return i0(this,void 0,void 0,function*(){try{for(n=s0(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function zt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function ni(t,e=0){return ge((n,r)=>{n.subscribe(he(r,i=>zt(r,t,()=>r.next(i),e),()=>zt(r,t,()=>r.complete(),e),i=>zt(r,t,()=>r.error(i),e)))})}function ri(t,e=0){return ge((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function c0(t,e){return Ge(t).pipe(ri(e),ni(e))}function u0(t,e){return Ge(t).pipe(ri(e),ni(e))}function l0(t,e){return new oe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function d0(t,e){return new oe(n=>{let r;return zt(n,e,()=>{r=t[_d](),zt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>re(r?.return)&&r.return()})}function bd(t,e){if(!t)throw new Error("Iterable cannot be null");return new oe(n=>{zt(n,e,()=>{let r=t[Symbol.asyncIterator]();zt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function h0(t,e){return bd(Id(t),e)}function f0(t,e){if(t!=null){if(md(t))return c0(t,e);if(pd(t))return l0(t,e);if(gd(t))return u0(t,e);if(yd(t))return bd(t,e);if(Ed(t))return d0(t,e);if(wd(t))return h0(t,e)}throw vd(t)}function Ae(t,e){return e?f0(t,e):Ge(t)}function G(...t){let e=ti(t);return Ae(t,e)}function Ns(t,e){let n=re(t)?t:()=>t,r=i=>i.error(n());return new oe(e?i=>e.schedule(r,0,i):r)}function dm(t){return!!t&&(t instanceof oe||re(t.lift)&&re(t.subscribe))}var mr=Es(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ce(t,e){return ge((n,r)=>{let i=0;n.subscribe(he(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:Ck}=Array;function Tk(t,e){return Ck(e)?t(...e):t(e)}function Dd(t){return ce(e=>Tk(t,e))}var{isArray:Sk}=Array,{getPrototypeOf:Ak,prototype:Rk,keys:Nk}=Object;function Cd(t){if(t.length===1){let e=t[0];if(Sk(e))return{args:e,keys:null};if(Mk(e)){let n=Nk(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Mk(t){return t&&typeof t=="object"&&Ak(t)===Rk}function Td(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function yc(...t){let e=ti(t),n=fd(t),{args:r,keys:i}=Cd(t);if(r.length===0)return Ae([],e);let o=new oe(Pk(r,e,i?s=>Td(i,s):Zt));return n?o.pipe(Dd(n)):o}function Pk(t,e,n=Zt){return r=>{p0(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)p0(e,()=>{let l=Ae(t[u],e),h=!1;l.subscribe(he(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function p0(t,e,n){t?zt(n,t,e):e()}function g0(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=R=>l<r?T(R):u.push(R),T=R=>{o&&e.next(R),l++;let M=!1;Ge(n(R,h++)).subscribe(he(e,L=>{i?.(L),o?y(L):e.next(L)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;u.length&&l<r;){let L=u.shift();s?zt(e,s,()=>T(L)):T(L)}m()}catch(L){e.error(L)}}))};return t.subscribe(he(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Be(t,e,n=1/0){return re(e)?Be((r,i)=>ce((o,s)=>e(r,o,i,s))(Ge(t(r,i))),n):(typeof e=="number"&&(n=e),ge((r,i)=>g0(r,i,t,n)))}function Ms(t=1/0){return Be(Zt,t)}function m0(){return Ms(1)}function Ps(...t){return m0()(Ae(t,ti(t)))}function vc(t){return new oe(e=>{Ge(t()).subscribe(e)})}function hm(...t){let e=fd(t),{args:n,keys:r}=Cd(t),i=new oe(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Ge(n[h]).subscribe(he(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Td(r,a):a),o.complete())}))}});return e?i.pipe(Dd(e)):i}function qt(t,e){return ge((n,r)=>{let i=0;n.subscribe(he(r,o=>t.call(e,o,i++)&&r.next(o)))})}function yr(t){return ge((e,n)=>{let r=null,i=!1,o;r=e.subscribe(he(n,void 0,void 0,s=>{o=Ge(t(s,yr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function y0(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(he(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function ii(t,e){return re(e)?Be(t,e,1):Be(t,1)}function oi(t){return ge((e,n)=>{let r=!1;e.subscribe(he(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function vr(t){return t<=0?()=>Ht:ge((e,n)=>{let r=0;e.subscribe(he(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Sd(t=xk){return ge((e,n)=>{let r=!1;e.subscribe(he(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function xk(){return new mr}function _c(t){return ge((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function _r(t,e){let n=arguments.length>=2;return r=>r.pipe(t?qt((i,o)=>t(i,o,r)):Zt,vr(1),n?oi(e):Sd(()=>new mr))}function xs(t){return t<=0?()=>Ht:ge((e,n)=>{let r=[];e.subscribe(he(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function fm(t,e){let n=arguments.length>=2;return r=>r.pipe(t?qt((i,o)=>t(i,o,r)):Zt,xs(1),n?oi(e):Sd(()=>new mr))}function pm(t,e){return ge(y0(t,e,arguments.length>=2,!0))}function gm(...t){let e=ti(t);return ge((n,r)=>{(e?Ps(t,n,e):Ps(t,n)).subscribe(r)})}function kt(t,e){return ge((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(he(r,u=>{i?.unsubscribe();let l=0,h=o++;Ge(t(u,h)).subscribe(i=he(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ad(t){return ge((e,n)=>{Ge(t).subscribe(he(n,()=>n.complete(),gc)),!n.closed&&e.subscribe(n)})}function rt(t,e,n){let r=re(t)||e||n?{next:t,error:e,complete:n}:t;return r?ge((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(he(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Zt}function v0(t){let e=ae(null);try{return t()}finally{ae(e)}}var xd="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",j=class extends Error{code;constructor(e,n){super(lo(e,n)),this.code=e}};function Ok(t){return`NG0${Math.abs(t)}`}function lo(t,e){return`${Ok(t)}${e?": "+e:""}`}var br=globalThis;function Ie(t){for(let e in t)if(t[e]===Ie)return e;throw Error("")}function I0(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ir(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Ir).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Am(t,e){return t?e?`${t} ${e}`:t:e||""}var kk=Ie({__forward_ref__:Ie});function In(t){return t.__forward_ref__=In,t.toString=function(){return Ir(this())},t}function dt(t){return Rm(t)?t():t}function Rm(t){return typeof t=="function"&&t.hasOwnProperty(kk)&&t.__forward_ref__===In}function w0(t,e){t==null&&Nm(e,t,null,"!=")}function Nm(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function wn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Dc(t){return Fk(t,Od)}function Mm(t){return Dc(t)!==null}function Fk(t,e){return t.hasOwnProperty(e)&&t[e]||null}function Lk(t){let e=t?.[Od]??null;return e||null}function ym(t){return t&&t.hasOwnProperty(Nd)?t[Nd]:null}var Od=Ie({\u0275prov:Ie}),Nd=Ie({\u0275inj:Ie}),U=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Pm(t){return t&&!!t.\u0275providers}var xm=Ie({\u0275cmp:Ie}),Om=Ie({\u0275dir:Ie}),km=Ie({\u0275pipe:Ie}),Fm=Ie({\u0275mod:Ie}),wc=Ie({\u0275fac:Ie}),ho=Ie({__NG_ELEMENT_ID__:Ie}),_0=Ie({__NG_ENV_ID__:Ie});function Cc(t){return typeof t=="string"?t:t==null?"":String(t)}function Md(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Cc(t)}var Lm=Ie({ngErrorCode:Ie}),b0=Ie({ngErrorMessage:Ie}),Ic=Ie({ngTokenPath:Ie});function Vm(t,e){return D0("",-200,e)}function kd(t,e){throw new j(-201,!1)}function Vk(t,e){t[Ic]??=[];let n=t[Ic],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(w0(e.provide,"Token with multi: true should have a provide property"),r=Md(e.provide)):r=Md(e),n[0]!==r&&t[Ic].unshift(r)}function jk(t,e){let n=t[Ic],r=t[Lm],i=t[b0]||t.message;return t.message=Bk(i,r,n,e),t}function D0(t,e,n){let r=new j(e,t);return r[Lm]=e,r[b0]=t,n&&(r[Ic]=n),r}function Uk(t){return t[Lm]}function Bk(t,e,n=[],r=null){let i="";n&&n.length>1&&(i=` Path: ${n.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return lo(e,`${t}${o}${i}`)}var vm;function C0(){return vm}function Ft(t){let e=vm;return vm=t,e}function jm(t,e,n){let r=Dc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;kd(t,"Injector")}var $k={},so=$k,_m="__NG_DI_FLAG__",Em=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=ao(n)||0;try{return this.injector.get(e,r&8?null:so,r)}catch(i){if(gs(i))return i;throw i}}};function Hk(t,e=0){let n=Kl();if(n===void 0)throw new j(-203,!1);if(n===null)return jm(t,void 0,e);{let r=zk(e),i=n.retrieve(t,r);if(gs(i)){if(r.optional)return null;throw i}return i}}function z(t,e=0){return(C0()||Hk)(dt(t),e)}function P(t,e){return z(t,ao(e))}function ao(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function zk(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Im(t){let e=[];for(let n=0;n<t.length;n++){let r=dt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=qk(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(z(i,o))}else e.push(z(r))}return e}function Um(t,e){return t[_m]=e,t.prototype[_m]=e,t}function qk(t){return t[_m]}function si(t,e){let n=t.hasOwnProperty(wc);return n?t[wc]:null}function T0(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function S0(t){return t.flat(Number.POSITIVE_INFINITY)}function Fd(t,e){t.forEach(n=>Array.isArray(n)?Fd(n,e):e(n))}function Bm(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Tc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function A0(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function R0(t,e,n){let r=ks(t,e);return r>=0?t[r|1]=n:(r=~r,A0(t,r,e,n)),r}function Ld(t,e){let n=ks(t,e);if(n>=0)return t[n|1]}function ks(t,e){return Gk(t,e,1)}function Gk(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var ci={},Jt=[],Dr=new U(""),$m=new U("",-1),Hm=new U(""),bc=class{get(e,n=so){if(n===so){let i=D0("",-201);throw i.name="\u0275NotFound",i}return n}};function zm(t){return t[Fm]||null}function Cr(t){return t[xm]||null}function qm(t){return t[Om]||null}function N0(t){return t[km]||null}function Gt(t){return{\u0275providers:t}}function M0(t){return Gt([{provide:Dr,multi:!0,useValue:t}])}function P0(...t){return{\u0275providers:Gm(!0,t),\u0275fromNgModule:!0}}function Gm(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Fd(e,s=>{let a=s;Pd(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&x0(i,o),n}function x0(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Wm(i,o=>{e(o,r)})}}function Pd(t,e,n,r){if(t=dt(t),!t)return!1;let i=null,o=ym(t),s=!o&&Cr(t);if(!o&&!s){let u=t.ngModule;if(o=ym(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Pd(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Fd(o.imports,h=>{Pd(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&x0(l,e)}if(!a){let l=si(i)||(()=>new i);e({provide:i,useFactory:l,deps:Jt},i),e({provide:Hm,useValue:i,multi:!0},i),e({provide:Dr,useValue:()=>z(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Wm(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Wm(t,e){for(let n of t)Pm(n)&&(n=n.\u0275providers),Array.isArray(n)?Wm(n,e):e(n)}var Wk=Ie({provide:String,useValue:Ie});function O0(t){return t!==null&&typeof t=="object"&&Wk in t}function Kk(t){return!!(t&&t.useExisting)}function Qk(t){return!!(t&&t.useFactory)}function co(t){return typeof t=="function"}function k0(t){return!!t.useClass}var Sc=new U(""),Rd={},E0={},mm;function Ac(){return mm===void 0&&(mm=new bc),mm}var $e=class{},uo=class extends $e{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,bm(e,s=>this.processProvider(s)),this.records.set($m,Os(void 0,this)),i.has("environment")&&this.records.set($e,Os(void 0,this));let o=this.records.get(Sc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Hm,Jt,{self:!0}))}retrieve(e,n){let r=ao(n)||0;try{return this.get(e,so,r)}catch(i){if(gs(i))return i;throw i}}destroy(){Ec(this),this._destroyed=!0;let e=ae(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ae(e)}}onDestroy(e){return Ec(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ec(this);let n=Vn(this),r=Ft(void 0),i;try{return e()}finally{Vn(n),Ft(r)}}get(e,n=so,r){if(Ec(this),e.hasOwnProperty(_0))return e[_0](this);let i=ao(r),o,s=Vn(this),a=Ft(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=e1(e)&&Dc(e);h&&this.injectableDefInScope(h)?l=Os(wm(e),Rd):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Ac():this.parent;return n=i&8&&n===so?null:n,u.get(e,n)}catch(u){let l=Uk(u);throw l===-200||l===-201?new j(l,null):u}finally{Ft(a),Vn(s)}}resolveInjectorInitializers(){let e=ae(null),n=Vn(this),r=Ft(void 0),i;try{let o=this.get(Dr,Jt,{self:!0});for(let s of o)s()}finally{Vn(n),Ft(r),ae(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ir(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=dt(e);let n=co(e)?e:dt(e&&e.provide),r=Zk(e);if(!co(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Os(void 0,Rd,!0),i.factory=()=>Im(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=ae(null);try{if(n.value===E0)throw Vm(Ir(e));return n.value===Rd&&(n.value=E0,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&Xk(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ae(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=dt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function wm(t){let e=Dc(t),n=e!==null?e.factory:si(t);if(n!==null)return n;if(t instanceof U)throw new j(204,!1);if(t instanceof Function)return Yk(t);throw new j(204,!1)}function Yk(t){if(t.length>0)throw new j(204,!1);let n=Lk(t);return n!==null?()=>n.factory(t):()=>new t}function Zk(t){if(O0(t))return Os(void 0,t.useValue);{let e=Km(t);return Os(e,Rd)}}function Km(t,e,n){let r;if(co(t)){let i=dt(t);return si(i)||wm(i)}else if(O0(t))r=()=>dt(t.useValue);else if(Qk(t))r=()=>t.useFactory(...Im(t.deps||[]));else if(Kk(t))r=(i,o)=>z(dt(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=dt(t&&(t.useClass||t.provide));if(Jk(t))r=()=>new i(...Im(t.deps));else return si(i)||wm(i)}return r}function Ec(t){if(t.destroyed)throw new j(205,!1)}function Os(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Jk(t){return!!t.deps}function Xk(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function e1(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function bm(t,e){for(let n of t)Array.isArray(n)?bm(n,e):n&&Pm(n)?bm(n.\u0275providers,e):e(n)}function We(t,e){let n;t instanceof uo?(Ec(t),n=t):n=new Em(t);let r,i=Vn(n),o=Ft(void 0);try{return e()}finally{Vn(i),Ft(o)}}function F0(){return C0()!==void 0||Kl()!=null}var bn=0,J=1,te=2,it=3,sn=4,an=5,Rc=6,Fs=7,It=8,fo=9,jn=10,Le=11,Ls=12,Qm=13,po=14,cn=15,ui=16,go=17,Un=18,Nc=19,Ym=20,Er=21,Vd=22,Mc=23,Xt=24,mo=25,wt=26,L0=1;var li=7,Pc=8,yo=9,Lt=10;function Bn(t){return Array.isArray(t)&&typeof t[L0]=="object"}function Dn(t){return Array.isArray(t)&&t[L0]===!0}function Zm(t){return(t.flags&4)!==0}function di(t){return t.componentOffset>-1}function xc(t){return(t.flags&1)===1}function $n(t){return!!t.template}function Vs(t){return(t[te]&512)!==0}function vo(t){return(t[te]&256)===256}var V0="svg",j0="math";function un(t){for(;Array.isArray(t);)t=t[bn];return t}function Jm(t,e){return un(e[t])}function Cn(t,e){return un(e[t.index])}function jd(t,e){return t.data[e]}function Xm(t,e){return t[e]}function ey(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function ln(t,e){let n=e[t];return Bn(n)?n:n[bn]}function U0(t){return(t[te]&4)===4}function Ud(t){return(t[te]&128)===128}function B0(t){return Dn(t[it])}function Oc(t,e){return e==null?null:t[e]}function ty(t){t[go]=0}function ny(t){t[te]&1024||(t[te]|=1024,Ud(t)&&js(t))}function $0(t,e){for(;t>0;)e=e[po],t--;return e}function kc(t){return!!(t[te]&9216||t[Xt]?.dirty)}function Bd(t){t[jn].changeDetectionScheduler?.notify(8),t[te]&64&&(t[te]|=1024),kc(t)&&js(t)}function js(t){t[jn].changeDetectionScheduler?.notify(0);let e=ai(t);for(;e!==null&&!(e[te]&8192||(e[te]|=8192,!Ud(e)));)e=ai(e)}function ry(t,e){if(vo(t))throw new j(911,!1);t[Er]===null&&(t[Er]=[]),t[Er].push(e)}function H0(t,e){if(t[Er]===null)return;let n=t[Er].indexOf(e);n!==-1&&t[Er].splice(n,1)}function ai(t){let e=t[it];return Dn(e)?e[it]:e}function iy(t){return t[Fs]??=[]}function oy(t){return t.cleanup??=[]}function z0(t,e,n,r){let i=iy(e);i.push(n),t.firstCreatePass&&oy(t).push(r,i.length-1)}var ue={lFrame:cC(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Fc=(function(t){return t[t.Off=0]="Off",t[t.Exhaustive=1]="Exhaustive",t[t.OnlyDirtyViews=2]="OnlyDirtyViews",t})(Fc||{}),t1=0,Dm=!1;function q0(){return ue.lFrame.elementDepthCount}function G0(){ue.lFrame.elementDepthCount++}function W0(){ue.lFrame.elementDepthCount--}function sy(){return ue.bindingsEnabled}function K0(){return ue.skipHydrationRootTNode!==null}function Q0(t){return ue.skipHydrationRootTNode===t}function Y0(){ue.skipHydrationRootTNode=null}function ve(){return ue.lFrame.lView}function bt(){return ue.lFrame.tView}function Dt(t){return ue.lFrame.contextLView=t,t[It]}function Ct(t){return ue.lFrame.contextLView=null,t}function Tt(){let t=ay();for(;t!==null&&t.type===64;)t=t.parent;return t}function ay(){return ue.lFrame.currentTNode}function Z0(){let t=ue.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Us(t,e){let n=ue.lFrame;n.currentTNode=t,n.isParent=e}function cy(){return ue.lFrame.isParent}function J0(){ue.lFrame.isParent=!1}function X0(){return ue.lFrame.contextLView}function uy(t){Nm("Must never be called in production mode"),t1=t}function ly(){return Dm}function dy(t){let e=Dm;return Dm=t,e}function eC(){let t=ue.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function tC(t){return ue.lFrame.bindingIndex=t}function Lc(){return ue.lFrame.bindingIndex++}function nC(t){let e=ue.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function rC(){return ue.lFrame.inI18n}function iC(t,e){let n=ue.lFrame;n.bindingIndex=n.bindingRootIndex=t,$d(e)}function oC(){return ue.lFrame.currentDirectiveIndex}function $d(t){ue.lFrame.currentDirectiveIndex=t}function sC(t){let e=ue.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function hy(){return ue.lFrame.currentQueryIndex}function Hd(t){ue.lFrame.currentQueryIndex=t}function n1(t){let e=t[J];return e.type===2?e.declTNode:e.type===1?t[an]:null}function fy(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=n1(o),i===null||(o=o[po],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ue.lFrame=aC();return r.currentTNode=e,r.lView=t,!0}function zd(t){let e=aC(),n=t[J];ue.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function aC(){let t=ue.lFrame,e=t===null?null:t.child;return e===null?cC(t):e}function cC(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function uC(){let t=ue.lFrame;return ue.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var py=uC;function qd(){let t=uC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function lC(t){return(ue.lFrame.contextLView=$0(t,ue.lFrame.contextLView))[It]}function _o(){return ue.lFrame.selectedIndex}function hi(t){ue.lFrame.selectedIndex=t}function Gd(){let t=ue.lFrame;return jd(t.tView,t.selectedIndex)}function dC(){return ue.lFrame.currentNamespace}var hC=!0;function Wd(){return hC}function Kd(t){hC=t}var r1={elements:void 0};function Qd(){return r1}function Cm(t,e=null,n=null,r){let i=gy(t,e,n,r);return i.resolveInjectorInitializers(),i}function gy(t,e=null,n=null,r,i=new Set){let o=[n||Jt,P0(t)];return r=r||(typeof t=="object"?void 0:Ir(t)),new uo(o,e||Ac(),r||null,i)}var Fe=class t{static THROW_IF_NOT_FOUND=so;static NULL=new bc;static create(e,n){if(Array.isArray(e))return Cm({name:""},n,e,"");{let r=e.name??"";return Cm({name:r},e.parent,e.providers,r)}}static \u0275prov=$({token:t,providedIn:"any",factory:()=>z($m)});static __NG_ELEMENT_ID__=-1},He=new U(""),Hn=(()=>{class t{static __NG_ELEMENT_ID__=i1;static __NG_ENV_ID__=n=>n}return t})(),Tm=class extends Hn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return vo(this._lView)}onDestroy(e){let n=this._lView;return ry(n,e),()=>H0(n,e)}};function i1(){return new Tm(ve())}var En=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Vt=new U("",{providedIn:"root",factory:()=>{let t=P($e),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(En),e.handleError(n))}}}),fC={provide:Dr,useValue:()=>void P(En),multi:!0},o1=new U("",{providedIn:"root",factory:()=>{let t=P(He).defaultView;if(!t)return;let e=P(Vt),n=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),P(Hn).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function my(){return Gt([M0(()=>void P(o1))])}function yy(t){return typeof t=="function"&&t[Et]!==void 0}function dn(t,e){let[n,r,i]=Yg(t,e?.equal),o=n,s=o[Et];return o.set=r,o.update=i,o.asReadonly=pC.bind(o),o}function pC(){let t=this[Et];if(t.readonlyFn===void 0){let e=()=>this();e[Et]=t,t.readonlyFn=e}return t.readonlyFn}function vy(t){return yy(t)&&typeof t.set=="function"}var wr=class{},Vc=new U("",{providedIn:"root",factory:()=>!1});var _y=new U(""),Ey=new U("");var Yd=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=s1}return t})();function s1(){return new Yd(ve(),Tt())}var zn=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new tt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new oe(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}return t})(),Bs=(()=>{class t{internalPendingTasks=P(zn);scheduler=P(wr);errorHandler=P(Vt);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}return t})();function jc(...t){}var Iy=(()=>{class t{static \u0275prov=$({token:t,providedIn:"root",factory:()=>new Sm})}return t})(),Sm=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function Gs(t){return{toString:t}.toString()}var Zd="__parameters__";function p1(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function GC(t,e,n){return Gs(()=>{let r=p1(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Zd)?u[Zd]:Object.defineProperty(u,Zd,{value:[]})[Zd];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Wt=Um(GC("Optional"),8);var WC=Um(GC("SkipSelf"),4);function g1(t){return typeof t=="function"}var ih=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function KC(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Sr=(()=>{let t=()=>QC;return t.ngInherit=!0,t})();function QC(t){return t.type.prototype.ngOnChanges&&(t.setInput=y1),m1}function m1(){let t=ZC(this),e=t?.current;if(e){let n=t.previous;if(n===ci)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function y1(t,e,n,r,i){let o=this.declaredInputs[r],s=ZC(t)||v1(t,{previous:ci,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new ih(l&&l.currentValue,n,u===ci),KC(t,e,i,n)}var YC="__ngSimpleChanges__";function ZC(t){return t[YC]||null}function v1(t,e){return t[YC]=e}var gC=[];var De=function(t,e=null,n){for(let r=0;r<gC.length;r++){let i=gC[r];i(t,e,n)}};function _1(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=QC(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function JC(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function eh(t,e,n){XC(t,e,3,n)}function th(t,e,n,r){(t[te]&3)===n&&XC(t,e,n,r)}function wy(t,e){let n=t[te];(n&3)===e&&(n&=16383,n+=1,t[te]=n)}function XC(t,e,n,r){let i=r!==void 0?t[go]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[go]+=65536),(a<o||o==-1)&&(E1(t,n,e,u),t[go]=(t[go]&4294901760)+u+2),u++}function mC(t,e){De(4,t,e);let n=ae(null);try{e.call(t)}finally{ae(n),De(5,t,e)}}function E1(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[te]>>14<t[go]>>16&&(t[te]&3)===e&&(t[te]+=16384,mC(a,o)):mC(a,o)}var Hs=-1,wo=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function I1(t){return(t.flags&8)!==0}function w1(t){return(t.flags&16)!==0}function b1(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];D1(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function eT(t){return t===3||t===4||t===6}function D1(t){return t.charCodeAt(0)===64}function $c(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?yC(t,n,i,null,e[++r]):yC(t,n,i,null,null))}}return t}function yC(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function tT(t){return t!==Hs}function oh(t){return t&32767}function C1(t){return t>>16}function sh(t,e){let n=C1(t),r=e;for(;n>0;)r=r[po],n--;return r}var xy=!0;function ah(t){let e=xy;return xy=t,e}var T1=256,nT=T1-1,rT=5,S1=0,qn={};function A1(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ho)&&(r=n[ho]),r==null&&(r=n[ho]=S1++);let i=r&nT,o=1<<i;e.data[t+(i>>rT)]|=o}function ch(t,e){let n=iT(t,e);if(n!==-1)return n;let r=e[J];r.firstCreatePass&&(t.injectorIndex=e.length,by(r.data,t),by(e,null),by(r.blueprint,null));let i=iv(t,e),o=t.injectorIndex;if(tT(i)){let s=oh(i),a=sh(i,e),u=a[J].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function by(t,e){t.push(0,0,0,0,0,0,0,0,e)}function iT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function iv(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=uT(i),r===null)return Hs;if(n++,i=i[po],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Hs}function Oy(t,e,n){A1(t,e,n)}function R1(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(eT(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function oT(t,e,n){if(n&8||t!==void 0)return t;kd(e,"NodeInjector")}function sT(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[fo],o=Ft(void 0);try{return i?i.get(e,r,n&8):jm(e,r,n&8)}finally{Ft(o)}}return oT(r,e,n)}function aT(t,e,n,r=0,i){if(t!==null){if(e[te]&2048&&!(r&2)){let s=x1(t,e,n,r,qn);if(s!==qn)return s}let o=cT(t,e,n,r,qn);if(o!==qn)return o}return sT(e,n,r,i)}function cT(t,e,n,r,i){let o=M1(n);if(typeof o=="function"){if(!fy(e,t,r))return r&1?oT(i,n,r):sT(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))kd(n);else return s}finally{py()}}else if(typeof o=="number"){let s=null,a=iT(t,e),u=Hs,l=r&1?e[cn][an]:null;for((a===-1||r&4)&&(u=a===-1?iv(t,e):e[a+8],u===Hs||!_C(r,!1)?a=-1:(s=e[J],a=oh(u),e=sh(u,e)));a!==-1;){let h=e[J];if(vC(o,a,h.data)){let p=N1(a,e,n,s,r,l);if(p!==qn)return p}u=e[a+8],u!==Hs&&_C(r,e[J].data[a+8]===l)&&vC(o,a,e)?(s=h,a=oh(u),e=sh(u,e)):a=-1}}return i}function N1(t,e,n,r,i,o){let s=e[J],a=s.data[t+8],u=r==null?di(a)&&xy:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=nh(a,s,n,u,l);return h!==null?Hc(e,s,h,a,i):qn}function nh(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let T=s[y];if(y<u&&n===T||y>=u&&T.type===n)return y}if(i){let y=s[u];if(y&&$n(y)&&y.type===n)return u}return null}function Hc(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof wo){let a=o;if(a.resolving){let y=Md(s[n]);throw Vm(y)}let u=ah(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],h,p=a.injectImpl?Ft(a.injectImpl):null,m=fy(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&_1(n,s[n],e)}finally{p!==null&&Ft(p),ah(u),a.resolving=!1,py()}}return o}function M1(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ho)?t[ho]:void 0;return typeof e=="number"?e>=0?e&nT:P1:e}function vC(t,e,n){let r=1<<t;return!!(n[e+(t>>rT)]&r)}function _C(t,e){return!(t&2)&&!(t&1&&e)}var Io=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return aT(this._tNode,this._lView,e,ao(r),n)}};function P1(){return new Io(Tt(),ve())}function Ar(t){return Gs(()=>{let e=t.prototype.constructor,n=e[wc]||ky(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[wc]||ky(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ky(t){return Rm(t)?()=>{let e=ky(dt(t));return e&&e()}:si(t)}function x1(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[te]&2048&&!Vs(s);){let a=cT(o,s,n,r|2,qn);if(a!==qn)return a;let u=o.parent;if(!u){let l=s[Ym];if(l){let h=l.get(n,qn,r);if(h!==qn)return h}u=uT(s),s=s[po]}o=u}return i}function uT(t){let e=t[J],n=e.type;return n===2?e.declTNode:n===1?t[an]:null}function Wc(t){return R1(Tt(),t)}function O1(){return Ws(Tt(),ve())}function Ws(t,e){return new hn(Cn(t,e))}var hn=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=O1}return t})();function k1(t){return t instanceof hn?t.nativeElement:t}function F1(){return this._results[Symbol.iterator]()}var uh=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ue}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=S0(e);(this._changesDetected=!T0(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=F1};function lT(t){return(t.flags&128)===128}var ov=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(ov||{}),dT=new Map,L1=0;function V1(){return L1++}function j1(t){dT.set(t[Nc],t)}function Fy(t){dT.delete(t[Nc])}var EC="__ngContext__";function zs(t,e){Bn(e)?(t[EC]=e[Nc],j1(e)):t[EC]=e}function hT(t){return pT(t[Ls])}function fT(t){return pT(t[sn])}function pT(t){for(;t!==null&&!Dn(t);)t=t[sn];return t}var Ly;function sv(t){Ly=t}function gT(){if(Ly!==void 0)return Ly;if(typeof document<"u")return document;throw new j(210,!1)}var Ih=new U("",{providedIn:"root",factory:()=>U1}),U1="ng",wh=new U(""),gi=new U("",{providedIn:"platform",factory:()=>"unknown"});var bh=new U("",{providedIn:"root",factory:()=>gT().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var B1="h",$1="b";var mT=!1,yT=new U("",{providedIn:"root",factory:()=>mT});var av=new U("");var H1=(t,e,n,r)=>{};function z1(t,e,n,r){H1(t,e,n,r)}function cv(t){return(t.flags&32)===32}var q1=()=>null;function vT(t,e,n=!1){return q1(t,e,n)}function _T(t,e){let n=t.contentQueries;if(n!==null){let r=ae(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Hd(o),a.contentQueries(2,e[s],s)}}}finally{ae(r)}}}function Vy(t,e,n){Hd(0);let r=ae(null);try{e(t,n)}finally{ae(r)}}function ET(t,e,n){if(Zm(e)){let r=ae(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{ae(r)}}}var Tr=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(Tr||{});var Jd;function G1(){if(Jd===void 0&&(Jd=null,br.trustedTypes))try{Jd=br.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Jd}function IC(t){return G1()?.createScriptURL(t)||t}var lh=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xd})`}};function Kc(t){return t instanceof lh?t.changingThisBreaksApplicationSecurity:t}function uv(t,e){let n=IT(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${xd})`)}return n===e}function IT(t){return t instanceof lh&&t.getTypeName()||null}var W1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function wT(t){return t=String(t),t.match(W1)?t:"unsafe:"+t}var Dh=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(Dh||{});function bT(t){let e=CT();return e?e.sanitize(Dh.URL,t)||"":uv(t,"URL")?Kc(t):wT(Cc(t))}function DT(t){let e=CT();if(e)return IC(e.sanitize(Dh.RESOURCE_URL,t)||"");if(uv(t,"ResourceURL"))return IC(Kc(t));throw new j(904,!1)}function K1(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?DT:bT}function lv(t,e,n){return K1(e,n)(t)}function CT(){let t=ve();return t&&t[jn].sanitizer}function dv(t){return t.ownerDocument}function TT(t){return t instanceof Function?t():t}function Q1(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var ST="ng-template";function Y1(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Q1(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(hv(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function hv(t){return t.type===4&&t.value!==ST}function Z1(t,e,n){let r=t.type===4&&!n?ST:t.value;return e===r}function J1(t,e,n){let r=4,i=t.attrs,o=i!==null?tF(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Tn(r)&&!Tn(u))return!1;if(s&&Tn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!Z1(t,u,n)||u===""&&e.length===1){if(Tn(r))return!1;s=!0}}else if(r&8){if(i===null||!Y1(t,i,u,n)){if(Tn(r))return!1;s=!0}}else{let l=e[++a],h=X1(u,i,hv(t),n);if(h===-1){if(Tn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Tn(r))return!1;s=!0}}}}return Tn(r)||s}function Tn(t){return(t&1)===0}function X1(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return nF(e,t)}function eF(t,e,n=!1){for(let r=0;r<e.length;r++)if(J1(t,e[r],n))return!0;return!1}function tF(t){for(let e=0;e<t.length;e++){let n=t[e];if(eT(n))return e}return t.length}function nF(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function wC(t,e){return t?":not("+e.trim()+")":e}function rF(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Tn(s)&&(e+=wC(o,i),i=""),r=s,o=o||!Tn(r);n++}return i!==""&&(e+=wC(o,i)),e}function iF(t){return t.map(rF).join(",")}function oF(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Tn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Rr={};function sF(t,e){return t.createText(e)}function aF(t,e,n){t.setValue(e,n)}function AT(t,e,n){return t.createElement(e,n)}function dh(t,e,n,r,i){t.insertBefore(e,n,r,i)}function RT(t,e,n){t.appendChild(e,n)}function bC(t,e,n,r,i){r!==null?dh(t,e,n,r,i):RT(t,e,n)}function cF(t,e,n){t.removeChild(null,e,n)}function uF(t,e,n){t.setAttribute(e,"style",n)}function lF(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function NT(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&b1(t,e,r),i!==null&&lF(t,e,i),o!==null&&uF(t,e,o)}function fv(t,e,n,r,i,o,s,a,u,l,h){let p=wt+r,m=p+i,y=dF(p,m),T=typeof l=="function"?l():l;return y[J]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:T,incompleteFirstPass:!1,ssrId:h}}function dF(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Rr);return n}function hF(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=fv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function pv(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[bn]=i,p[te]=r|4|128|8|64|1024,(l!==null||t&&t[te]&2048)&&(p[te]|=2048),ty(p),p[it]=p[po]=t,p[It]=n,p[jn]=s||t&&t[jn],p[Le]=a||t&&t[Le],p[fo]=u||t&&t[fo]||null,p[an]=o,p[Nc]=V1(),p[Rc]=h,p[Ym]=l,p[cn]=e.type==2?t[cn]:p,p}function fF(t,e,n){let r=Cn(e,t),i=hF(n),o=t[jn].rendererFactory,s=gv(t,pv(t,i,null,MT(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function MT(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function PT(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function gv(t,e){return t[Ls]?t[Qm][sn]=e:t[Ls]=e,t[Qm]=e,e}function pe(t=1){xT(bt(),ve(),_o()+t,!1)}function xT(t,e,n,r){if(!r)if((e[te]&3)===3){let o=t.preOrderCheckHooks;o!==null&&eh(e,o,n)}else{let o=t.preOrderHooks;o!==null&&th(e,o,0,n)}hi(n)}var Ch=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Ch||{});function jy(t,e,n,r){let i=ae(null);try{let[o,s,a]=t.inputs[n],u=null;(s&Ch.SignalBased)!==0&&(u=e[o][Et]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):KC(e,u,o,r)}finally{ae(i)}}var Gn=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Gn||{}),pF;function mv(t,e){return pF(t,e)}function $s(t,e,n,r,i){if(r!=null){let o,s=!1;Dn(r)?o=r:Bn(r)&&(s=!0,r=r[bn]);let a=un(r);t===0&&n!==null?i==null?RT(e,n,a):dh(e,n,a,i||null,!0):t===1&&n!==null?dh(e,n,a,i||null,!0):t===2?cF(e,a,s):t===3&&e.destroyNode(a),o!=null&&TF(e,t,o,n,i)}}function gF(t,e){OT(t,e),e[bn]=null,e[an]=null}function mF(t,e,n,r,i,o){r[bn]=i,r[an]=e,Th(t,r,n,1,i,o)}function OT(t,e){e[jn].changeDetectionScheduler?.notify(9),Th(t,e,e[Le],2,null,null)}function yF(t){let e=t[Ls];if(!e)return Dy(t[J],t);for(;e;){let n=null;if(Bn(e))n=e[Ls];else{let r=e[Lt];r&&(n=r)}if(!n){for(;e&&!e[sn]&&e!==t;)Bn(e)&&Dy(e[J],e),e=e[it];e===null&&(e=t),Bn(e)&&Dy(e[J],e),n=e&&e[sn]}e=n}}function yv(t,e){let n=t[yo],r=n.indexOf(e);n.splice(r,1)}function kT(t,e){if(vo(e))return;let n=e[Le];n.destroyNode&&Th(t,e,n,3,null,null),yF(e)}function Dy(t,e){if(vo(e))return;let n=ae(null);try{e[te]&=-129,e[te]|=256,e[Xt]&&pc(e[Xt]),_F(t,e),vF(t,e),e[J].type===1&&e[Le].destroy();let r=e[ui];if(r!==null&&Dn(e[it])){r!==e[it]&&yv(r,e);let i=e[Un];i!==null&&i.detachView(t)}Fy(e)}finally{ae(n)}}function vF(t,e){let n=t.cleanup,r=e[Fs];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[Fs]=null);let i=e[Er];if(i!==null){e[Er]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Mc];if(o!==null){e[Mc]=null;for(let s of o)s.destroy()}}function _F(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof wo)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];De(4,a,u);try{u.call(a)}finally{De(5,a,u)}}else{De(4,i,o);try{o.call(i)}finally{De(5,i,o)}}}}}function EF(t,e,n){return IF(t,e.parent,n)}function IF(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[bn];if(di(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Tr.None||i===Tr.Emulated)return null}return Cn(r,n)}function wF(t,e,n){return DF(t,e,n)}function bF(t,e,n){return t.type&40?Cn(t,n):null}var DF=bF,DC;function vv(t,e,n,r){let i=EF(t,r,e),o=e[Le],s=r.parent||e[an],a=wF(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)bC(o,i,n[u],a,!1);else bC(o,i,n,a,!1);DC!==void 0&&DC(o,r,e,n,i)}function Uc(t,e){if(e!==null){let n=e.type;if(n&3)return Cn(e,t);if(n&4)return Uy(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Uc(t,r);{let i=t[e.index];return Dn(i)?Uy(-1,i):un(i)}}else{if(n&128)return Uc(t,e.next);if(n&32)return mv(e,t)()||un(t[e.index]);{let r=FT(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ai(t[cn]);return Uc(i,r)}else return Uc(t,e.next)}}}return null}function FT(t,e){if(e!==null){let r=t[cn][an],i=e.projection;return r.projection[i]}return null}function Uy(t,e){let n=Lt+t+1;if(n<e.length){let r=e[n],i=r[J].firstChild;if(i!==null)return Uc(r,i)}return e[li]}function _v(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&zs(un(a),r),n.flags|=2),!cv(n))if(u&8)_v(t,e,n.child,r,i,o,!1),$s(e,t,i,a,o);else if(u&32){let l=mv(n,r),h;for(;h=l();)$s(e,t,i,h,o);$s(e,t,i,a,o)}else u&16?CF(t,e,r,n,i,o):$s(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Th(t,e,n,r,i,o){_v(n,r,t.firstChild,e,i,o,!1)}function CF(t,e,n,r,i,o){let s=n[cn],u=s[an].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];$s(e,t,i,h,o)}else{let l=u,h=s[it];lT(r)&&(l.flags|=128),_v(t,e,l,h,i,o,!0)}}function TF(t,e,n,r,i){let o=n[li],s=un(n);o!==s&&$s(e,t,r,o,i);for(let a=Lt;a<n.length;a++){let u=n[a];Th(u[J],u,t,e,r,o)}}function SF(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Gn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Gn.Important),t.setStyle(n,r,i,o))}}function LT(t,e,n,r,i){let o=_o(),s=r&2;try{hi(-1),s&&e.length>wt&&xT(t,e,wt,!1),De(s?2:0,i,n),n(r,i)}finally{hi(o),De(s?3:1,i,n)}}function Ev(t,e,n){OF(t,e,n),(n.flags&64)===64&&kF(t,e,n)}function VT(t,e,n=Cn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function AF(t,e,n,r){let o=r.get(yT,mT)||n===Tr.ShadowDom,s=t.selectRootElement(e,o);return RF(s),s}function RF(t){NF(t)}var NF=()=>null;function MF(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function jT(t,e,n,r,i,o){let s=e[J];if(Iv(t,s,e,n,r)){di(t)&&xF(e,t.index);return}t.type&3&&(n=MF(n)),PF(t,e,n,r,i,o)}function PF(t,e,n,r,i,o){if(t.type&3){let s=Cn(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function xF(t,e){let n=ln(e,t);n[te]&16||(n[te]|=64)}function OF(t,e,n){let r=n.directiveStart,i=n.directiveEnd;di(n)&&fF(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||ch(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=Hc(e,t,s,n);if(zs(u,e),o!==null&&jF(e,s-r,u,a,n,o),$n(a)){let l=ln(n.index,e);l[It]=Hc(e,t,s,n)}}}function kF(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=oC();try{hi(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];$d(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&FF(u,l)}}finally{hi(-1),$d(s)}}function FF(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function UT(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];eF(e,o.selectors,!1)&&(r??=[],$n(o)?r.unshift(o):r.push(o))}return r}function LF(t,e,n,r,i,o){let s=Cn(t,e);VF(e[Le],s,o,t.value,n,r,i)}function VF(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Cc(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function jF(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];jy(r,n,u,l)}}function UF(t,e,n,r,i){let o=wt+n,s=e[J],a=i(s,e,t,r,n);e[o]=a,Us(t,!0);let u=t.type===2;return u?(NT(e[Le],a,t),(q0()===0||xc(t))&&zs(a,e),G0()):zs(a,e),Wd()&&(!u||!cv(t))&&vv(s,e,a,t),t}function BF(t){let e=t;return cy()?J0():(e=e.parent,Us(e,!1)),e}function $F(t,e){let n=t[fo];if(!n)return;n.get(Vt,null)?.(e)}function Iv(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];jy(p,n[l],h,i),a=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];jy(h,l,r,i),a=!0}return a}function HF(t,e){let n=ln(e,t),r=n[J];zF(r,n);let i=n[bn];i!==null&&n[Rc]===null&&(n[Rc]=vT(i,n[fo])),De(18),wv(r,n,n[It]),De(19,n[It])}function zF(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function wv(t,e,n){zd(e);try{let r=t.viewQuery;r!==null&&Vy(1,r,n);let i=t.template;i!==null&&LT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Un]?.finishViewCreation(t),t.staticContentQueries&&_T(t,e),t.staticViewQueries&&Vy(2,t.viewQuery,n);let o=t.components;o!==null&&qF(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[te]&=-5,qd()}}function qF(t,e){for(let n=0;n<e.length;n++)HF(t,e[n])}function GF(t,e,n,r){let i=ae(null);try{let o=e.tView,a=t[te]&4096?4096:16,u=pv(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[ui]=l;let h=t[Un];return h!==null&&(u[Un]=h.createEmbeddedView(o)),wv(o,u,n),u}finally{ae(i)}}function CC(t,e){return!e||e.firstChild===null||lT(t)}var TC=!1,WF=new U("");function zc(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(un(o)),Dn(o)&&BT(o,r);let s=n.type;if(s&8)zc(t,e,n.child,r);else if(s&32){let a=mv(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=FT(e,n);if(Array.isArray(a))r.push(...a);else{let u=ai(e[cn]);zc(u[J],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function BT(t,e){for(let n=Lt;n<t.length;n++){let r=t[n],i=r[J].firstChild;i!==null&&zc(r[J],r,i,e)}t[li]!==t[bn]&&e.push(t[li])}function $T(t){if(t[mo]!==null){for(let e of t[mo])e.impl.addSequence(e);t[mo].length=0}}var HT=[];function KF(t){return t[Xt]??QF(t)}function QF(t){let e=HT.pop()??Object.create(ZF);return e.lView=t,e}function YF(t){t.lView[Xt]!==t&&(t.lView=null,HT.push(t))}var ZF=ee(O({},eo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{js(t.lView)},consumerOnSignalRead(){this.lView[Xt]=this}});function JF(t){let e=t[Xt]??Object.create(XF);return e.lView=t,e}var XF=ee(O({},eo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=ai(t.lView);for(;e&&!zT(e[J]);)e=ai(e);e&&ny(e)},consumerOnSignalRead(){this.lView[Xt]=this}});function zT(t){return t.type!==2}function qT(t){if(t[Mc]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Mc])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[te]&8192)}}var eL=100;function bv(t,e=0){let r=t[jn].rendererFactory,i=!1;i||r.begin?.();try{tL(t,e)}finally{i||r.end?.()}}function tL(t,e){let n=ly();try{dy(!0),By(t,e);let r=0;for(;kc(t);){if(r===eL)throw new j(103,!1);r++,By(t,1)}}finally{dy(n)}}function GT(t,e){uy(e?Fc.Exhaustive:Fc.OnlyDirtyViews);try{bv(t)}finally{uy(Fc.Off)}}function nL(t,e,n,r){if(vo(e))return;let i=e[te],o=!1,s=!1;zd(e);let a=!0,u=null,l=null;o||(zT(t)?(l=KF(e),u=to(l)):ed()===null?(a=!1,l=JF(e),u=to(l)):e[Xt]&&(pc(e[Xt]),e[Xt]=null));try{ty(e),tC(t.bindingStartIndex),n!==null&&LT(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&eh(e,y,null)}else{let y=t.preOrderHooks;y!==null&&th(e,y,0,null),wy(e,0)}if(s||rL(e),qT(e),WT(e,0),t.contentQueries!==null&&_T(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&eh(e,y)}else{let y=t.contentHooks;y!==null&&th(e,y,1),wy(e,1)}oL(t,e);let p=t.components;p!==null&&QT(e,p,0);let m=t.viewQuery;if(m!==null&&Vy(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&eh(e,y)}else{let y=t.viewHooks;y!==null&&th(e,y,2),wy(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Vd]){for(let y of e[Vd])y();e[Vd]=null}o||($T(e),e[te]&=-73)}catch(h){throw o||js(e),h}finally{l!==null&&(ys(l,u),a&&YF(l)),qd()}}function WT(t,e){for(let n=hT(t);n!==null;n=fT(n))for(let r=Lt;r<n.length;r++){let i=n[r];KT(i,e)}}function rL(t){for(let e=hT(t);e!==null;e=fT(e)){if(!(e[te]&2))continue;let n=e[yo];for(let r=0;r<n.length;r++){let i=n[r];ny(i)}}}function iL(t,e,n){De(18);let r=ln(e,t);KT(r,n),De(19,r[It])}function KT(t,e){Ud(t)&&By(t,e)}function By(t,e){let r=t[J],i=t[te],o=t[Xt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&fc(o)),s||=!1,o&&(o.dirty=!1),t[te]&=-9217,s)nL(r,t,r.template,t[It]);else if(i&8192){let a=ae(null);try{qT(t),WT(t,1);let u=r.components;u!==null&&QT(t,u,1),$T(t)}finally{ae(a)}}}function QT(t,e,n){for(let r=0;r<e.length;r++)iL(t,e[r],n)}function oL(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)hi(~i);else{let o=i,s=n[++r],a=n[++r];iC(s,o);let u=e[o];De(24,u),a(2,u),De(25,u)}}}finally{hi(-1)}}function Dv(t,e){let n=ly()?64:1088;for(t[jn].changeDetectionScheduler?.notify(e);t;){t[te]|=n;let r=ai(t);if(Vs(t)&&!r)return t;t=r}return null}function YT(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function sL(t,e,n,r=!0){let i=e[J];if(aL(i,e,t,n),r){let s=Uy(n,t),a=e[Le],u=a.parentNode(t[li]);u!==null&&mF(i,t[an],a,e,u,s)}let o=e[Rc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function $y(t,e){if(t.length<=Lt)return;let n=Lt+e,r=t[n];if(r){let i=r[ui];i!==null&&i!==t&&yv(i,r),e>0&&(t[n-1][sn]=r[sn]);let o=Tc(t,Lt+e);gF(r[J],r);let s=o[Un];s!==null&&s.detachView(o[J]),r[it]=null,r[sn]=null,r[te]&=-129}return r}function aL(t,e,n,r){let i=Lt+r,o=n.length;r>0&&(n[i-1][sn]=e),r<o-Lt?(e[sn]=n[i],Bm(n,Lt+r,e)):(n.push(e),e[sn]=null),e[it]=n;let s=e[ui];s!==null&&n!==s&&ZT(s,e);let a=e[Un];a!==null&&a.insertView(t),Bd(e),e[te]|=128}function ZT(t,e){let n=t[yo],r=e[it];if(Bn(r))t[te]|=2;else{let i=r[it][cn];e[cn]!==i&&(t[te]|=2)}n===null?t[yo]=[e]:n.push(e)}var fi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[J];return zc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[It]}set context(e){this._lView[It]=e}get destroyed(){return vo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[it];if(Dn(e)){let n=e[Pc],r=n?n.indexOf(this):-1;r>-1&&($y(e,r),Tc(n,r))}this._attachedToViewContainer=!1}kT(this._lView[J],this._lView)}onDestroy(e){ry(this._lView,e)}markForCheck(){Dv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[te]&=-129}reattach(){Bd(this._lView),this._lView[te]|=128}detectChanges(){this._lView[te]|=1024,bv(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Vs(this._lView),n=this._lView[ui];n!==null&&!e&&yv(n,this._lView),OT(this._lView[J],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let n=Vs(this._lView),r=this._lView[ui];r!==null&&!n&&ZT(r,this._lView),Bd(this._lView)}};var pi=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=cL;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=GF(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new fi(o)}}return t})();function cL(){return Cv(Tt(),ve())}function Cv(t,e){return t.type&4?new pi(e,t,Ws(t,e)):null}function Tv(t,e,n,r,i){let o=t.data[e];if(o===null)o=uL(t,e,n,r,i),rC()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=Z0();o.injectorIndex=s===null?-1:s.injectorIndex}return Us(o,!0),o}function uL(t,e,n,r,i){let o=ay(),s=cy(),a=s?o:o&&o.parent,u=t.data[e]=dL(t,a,n,e,r,i);return lL(t,u,o,s),u}function lL(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function dL(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return K0()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var pQ=new RegExp(`^(\\d+)*(${$1}|${B1})*(.*)`);var hL=()=>null;function SC(t,e){return hL(t,e)}var JT=class{},Sh=class{},Hy=class{resolveComponentFactory(e){throw new j(917,!1)}},Qc=class{static NULL=new Hy},bo=class{},mi=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>fL()}return t})();function fL(){let t=ve(),e=Tt(),n=ln(e.index,t);return(Bn(n)?n:t)[Le]}var XT=(()=>{class t{static \u0275prov=$({token:t,providedIn:"root",factory:()=>null})}return t})();var rh={},zy=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,rh,r);return i!==rh||n===rh?i:this.parentInjector.get(e,n,r)}};function AC(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Am(i,a);else if(o==2){let u=a,l=e[++s];r=Am(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Q(t,e=0){let n=ve();if(n===null)return z(t,e);let r=Tt();return aT(r,n,dt(t),e)}function Sv(){let t="invalid";throw new Error(t)}function eS(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}mL(t,e,n,a,o,u,l)}o!==null&&r!==null&&pL(n,r,o)}function pL(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new j(-301,!1);r.push(e[i],o)}}function gL(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function mL(t,e,n,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&$n(y)&&(u=!0,gL(t,n,m)),Oy(ch(n,e),t,y.type)}wL(n,t.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=PT(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(n.mergedAttrs=$c(n.mergedAttrs,y.hostAttrs),vL(t,n,e,p,y),IL(p,y,i),s!==null&&s.has(y)){let[R,M]=s.get(y);n.directiveToIndex.set(y.type,[p,R+n.directiveStart,M+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let T=y.type.prototype;!l&&(T.ngOnChanges||T.ngOnInit||T.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(T.ngOnChanges||T.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}yL(t,n,o)}function yL(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))RC(0,e,i,r),RC(1,e,i,r),MC(e,r,!1);else{let o=n.get(i);NC(0,e,o,r),NC(1,e,o,r),MC(e,r,!0)}}}function RC(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),tS(e,o)}}function NC(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),tS(e,s)}}function tS(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function MC(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||hv(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function vL(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=si(i.type,!0)),s=new wo(o,$n(i),Q,null);t.blueprint[r]=s,n[r]=s,_L(t,e,r,PT(t,n,i.hostVars,Rr),i)}function _L(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;EL(s)!=a&&s.push(a),s.push(n,r,o)}}function EL(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function IL(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;$n(e)&&(n[""]=t)}}function wL(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function nS(t,e,n,r,i,o,s,a){let u=e[J],l=u.consts,h=Oc(l,s),p=Tv(u,t,n,r,h);return o&&eS(u,e,p,Oc(l,a),i),p.mergedAttrs=$c(p.mergedAttrs,p.attrs),p.attrs!==null&&AC(p,p.attrs,!1),p.mergedAttrs!==null&&AC(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function rS(t,e){JC(t,e),Zm(e)&&t.queries.elementEnd(e)}function Av(t){return oS(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function iS(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function oS(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function bL(t,e,n){return t[e]=n}function Do(t,e,n){if(n===Rr)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function DL(t,e,n,r){let i=Do(t,e,n);return Do(t,e+1,r)||i}function Cy(t,e,n){return function r(i){let o=di(t)?ln(t.index,e):e;Dv(o,5);let s=e[It],a=PC(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=PC(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function PC(t,e,n,r){let i=ae(null);try{return De(6,e,n),n(r)!==!1}catch(o){return $F(t,o),!1}finally{De(7,e,n),ae(i)}}function CL(t,e,n,r,i,o,s,a){let u=xc(t),l=!1,h=null;if(!r&&u&&(h=TL(e,n,o,t.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=Cn(t,n),m=r?r(p):p;z1(n,m,o,a);let y=i.listen(m,o,a),T=r?R=>r(un(R[t.index])):t.index;sS(T,e,n,o,a,y,!1)}return l}function TL(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Fs],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function sS(t,e,n,r,i,o,s){let a=e.firstCreatePass?oy(e):null,u=iy(n),l=u.length;u.push(i,o),a&&a.push(r,t,l,(l+1)*(s?-1:1))}function xC(t,e,n,r,i,o){let s=e[n],a=e[J],l=a.data[n].outputs[r],p=s[l].subscribe(o);sS(t.index,a,e,i,o,p,!0)}var qy=Symbol("BINDING");var hh=class extends Qc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Cr(e);return new Co(n,this.ngModule)}};function SL(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Ch.SignalBased)!==0};return i&&(o.transform=i),o})}function AL(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function RL(t,e,n){let r=e instanceof $e?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new zy(n,r):n}function NL(t){let e=t.get(bo,null);if(e===null)throw new j(407,!1);let n=t.get(XT,null),r=t.get(wr,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function ML(t,e){let n=aS(t);return AT(e,n,n==="svg"?V0:n==="math"?j0:null)}function aS(t){return(t.selectors[0][0]||"div").toLowerCase()}var Co=class extends Sh{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=SL(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=AL(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=iF(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){De(22);let a=ae(null);try{let u=this.componentDef,l=PL(r,u,s,o),h=RL(u,i||this.ngModule,e),p=NL(h),m=p.rendererFactory.createRenderer(null,u),y=r?AF(m,r,u.encapsulation,h):ML(u,m),T=s?.some(OC)||o?.some(L=>typeof L!="function"&&L.bindings.some(OC)),R=pv(null,l,null,512|MT(u),null,null,p,m,h,null,vT(y,h,!0));R[wt]=y,zd(R);let M=null;try{let L=nS(wt,R,2,"#host",()=>l.directiveRegistry,!0,0);y&&(NT(m,y,L),zs(y,R)),Ev(l,R,L),ET(l,L,R),rS(l,L),n!==void 0&&OL(L,this.ngContentSelectors,n),M=ln(L.index,R),R[It]=M[It],wv(l,R,null)}catch(L){throw M!==null&&Fy(M),Fy(R),L}finally{De(23),qd()}return new fh(this.componentType,R,!!T)}finally{ae(a)}}};function PL(t,e,n,r){let i=t?["ng-version","20.2.1"]:oF(e.selectors[0]),o=null,s=null,a=0;if(n)for(let h of n)a+=h[qy].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){a+=m[qy].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=qm(p);u.push(m)}return fv(0,null,xL(o,s),1,a,u,null,null,null,[i],null)}function xL(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function OC(t){let e=t[qy].kind;return e==="input"||e==="twoWay"}var fh=class extends JT{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=jd(n[J],wt),this.location=Ws(this._tNode,n),this.instance=ln(this._tNode.index,n)[It],this.hostView=this.changeDetectorRef=new fi(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Iv(r,i[J],i,e,n);this.previousInputValues.set(e,n);let s=ln(r.index,i);Dv(s,1)}get injector(){return new Io(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function OL(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Nr=(()=>{class t{static __NG_ELEMENT_ID__=kL}return t})();function kL(){let t=Tt();return uS(t,ve())}var FL=Nr,cS=class extends FL{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ws(this._hostTNode,this._hostLView)}get injector(){return new Io(this._hostTNode,this._hostLView)}get parentInjector(){let e=iv(this._hostTNode,this._hostLView);if(tT(e)){let n=sh(e,this._hostLView),r=oh(e),i=n[J].data[r+8];return new Io(i,n)}else return new Io(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=kC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Lt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=SC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,CC(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let u=e&&!g1(e),l;if(u)l=n;else{let M=n||{};l=M.index,r=M.injector,i=M.projectableNodes,o=M.environmentInjector||M.ngModuleRef,s=M.directives,a=M.bindings}let h=u?e:new Co(Cr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let L=(u?p:this.parentInjector).get($e,null);L&&(o=L)}let m=Cr(h.componentType??{}),y=SC(this._lContainer,m?.id??null),T=y?.firstChild??null,R=h.create(p,i,T,o,s,a);return this.insertImpl(R.hostView,l,CC(this._hostTNode,y)),R}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(B0(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[it],l=new cS(u,u[an],u[it]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return sL(s,i,o,r),e.attachToViewContainerRef(),Bm(Ty(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=kC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=$y(this._lContainer,n);r&&(Tc(Ty(this._lContainer),n),kT(r[J],r))}detach(e){let n=this._adjustIndex(e,-1),r=$y(this._lContainer,n);return r&&Tc(Ty(this._lContainer),n)!=null?new fi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function kC(t){return t[Pc]}function Ty(t){return t[Pc]||(t[Pc]=[])}function uS(t,e){let n,r=e[t.index];return Dn(r)?n=r:(n=YT(r,e,null,t),e[t.index]=n,gv(e,n)),VL(n,e,t,r),new cS(n,t,e)}function LL(t,e){let n=t[Le],r=n.createComment(""),i=Cn(e,t),o=n.parentNode(i);return dh(n,o,r,n.nextSibling(i),!1),r}var VL=BL,jL=()=>!1;function UL(t,e,n){return jL(t,e,n)}function BL(t,e,n,r){if(t[li])return;let i;n.type&8?i=un(r):i=LL(e,n),t[li]=i}var Gy=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Wy=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Rv(e,n).matches!==null&&this.queries[n].setDirty()}},Ky=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=QL(e):this.predicate=e}},Qy=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Yy=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,$L(n,o)),this.matchTNodeWithReadOption(e,n,nh(n,e,o,!1,!1))}else r===pi?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,nh(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===hn||i===Nr||i===pi&&n.type&4)this.addMatch(n.index,-2);else{let o=nh(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function $L(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function HL(t,e){return t.type&11?Ws(t,e):t.type&4?Cv(t,e):null}function zL(t,e,n,r){return n===-1?HL(e,t):n===-2?qL(t,e,r):Hc(t,t[J],n,e)}function qL(t,e,n){if(n===hn)return Ws(e,t);if(n===pi)return Cv(e,t);if(n===Nr)return uS(e,t)}function lS(t,e,n,r){let i=e[Un].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(zL(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Zy(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=lS(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=Lt;p<h.length;p++){let m=h[p];m[ui]===m[it]&&Zy(m[J],m,l,r)}if(h[yo]!==null){let p=h[yo];for(let m=0;m<p.length;m++){let y=p[m];Zy(y[J],y,l,r)}}}}}return r}function GL(t,e){return t[Un].queries[e].queryList}function WL(t,e,n){let r=new uh((n&4)===4);return z0(t,e,r,r.destroy),(e[Un]??=new Wy).queries.push(new Gy(r))-1}function KL(t,e,n){let r=bt();return r.firstCreatePass&&(YL(r,new Ky(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),WL(r,ve(),e)}function QL(t){return t.split(",").map(e=>e.trim())}function YL(t,e,n){t.queries===null&&(t.queries=new Qy),t.queries.track(new Yy(e,n))}function Rv(t,e){return t.queries.getByIndex(e)}function ZL(t,e){let n=t[J],r=Rv(n,e);return r.crossesNgTemplate?Zy(n,t,e,[]):lS(n,t,r,e)}var FC=new Set;function Ao(t){FC.has(t)||(FC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var To=class{},Ah=class{};var ph=class extends To{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new hh(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=zm(e);this._bootstrapComponents=TT(o.bootstrap),this._r3Injector=gy(e,n,[{provide:To,useValue:this},{provide:Qc,useValue:this.componentFactoryResolver},...r],Ir(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},gh=class extends Ah{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new ph(this.moduleType,e,[])}};var qc=class extends To{injector;componentFactoryResolver=new hh(this);instance=null;constructor(e){super();let n=new uo([...e.providers,{provide:To,useValue:this},{provide:Qc,useValue:this.componentFactoryResolver}],e.parent||Ac(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ks(t,e,n=null){return new qc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var JL=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Gm(!1,n.type),i=r.length>0?Ks([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=$({token:t,providedIn:"environment",factory:()=>new t(z($e))})}return t})();function Sn(t){return Gs(()=>{let e=dS(t),n=ee(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ov.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(JL).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Tr.Emulated,styles:t.styles||Jt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Ao("NgStandalone"),hS(n);let r=t.dependencies;return n.directiveDefs=LC(r,XL),n.pipeDefs=LC(r,N0),n.id=nV(n),n})}function XL(t){return Cr(t)||qm(t)}function Wn(t){return Gs(()=>({type:t.type,bootstrap:t.bootstrap||Jt,declarations:t.declarations||Jt,imports:t.imports||Jt,exports:t.exports||Jt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function eV(t,e){if(t==null)return ci;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Ch.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function tV(t){if(t==null)return ci;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function ze(t){return Gs(()=>{let e=dS(t);return hS(e),e})}function Nv(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function dS(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||ci,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Jt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:eV(t.inputs,e),outputs:tV(t.outputs),debugInfo:null}}function hS(t){t.features?.forEach(e=>e(t))}function LC(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function nV(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function rV(t){return Object.getPrototypeOf(t.prototype).constructor}function fn(t){let e=rV(t.type),n=!0,r=[t];for(;e;){let i;if($n(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Sy(t.inputs),s.declaredInputs=Sy(t.declaredInputs),s.outputs=Sy(t.outputs);let a=i.hostBindings;a&&cV(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&sV(t,u),l&&aV(t,l),iV(t,i),I0(t.outputs,i.outputs),$n(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===fn&&(n=!1)}}e=Object.getPrototypeOf(e)}oV(r)}function iV(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function oV(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=$c(i.hostAttrs,n=$c(n,i.hostAttrs))}}function Sy(t){return t===ci?{}:t===Jt?[]:t}function sV(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function aV(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function cV(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function uV(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=$c(t.mergedAttrs,t.attrs);let h=t.tView=fv(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),h.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),Us(t,!1);let u=dV(n,e,t,r);Wd()&&vv(n,e,u,t),zs(u,e);let l=YT(u,e,u,t);e[r+wt]=l,gv(e,l),UL(l,t,e)}function lV(t,e,n,r,i,o,s,a,u,l,h){let p=n+wt,m;return e.firstCreatePass?(m=Tv(e,p,4,s||null,a||null),sy()&&eS(e,t,m,Oc(e.consts,l),UT),JC(e,m)):m=e.data[p],uV(m,t,e,n,r,i,o,u),xc(m)&&Ev(e,t,m),l!=null&&VT(t,m,h),m}function Kn(t,e,n,r,i,o,s,a){let u=ve(),l=bt(),h=Oc(l.consts,o);return lV(u,l,t,e,n,r,i,h,void 0,s,a),Kn}var dV=hV;function hV(t,e,n,r){return Kd(!0),e[Le].createComment("")}var Rh=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Rh||{}),Ro=new U(""),fS=!1,Jy=class extends Ue{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,F0()&&(this.destroyRef=P(Hn,{optional:!0})??void 0,this.pendingTasks=P(zn,{optional:!0})??void 0)}emit(e){let n=ae(null);try{super.next(e)}finally{ae(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ke&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ke=Jy;function pS(t){let e,n;function r(){t=jc;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function VC(t){return queueMicrotask(()=>t()),()=>{t=jc}}var Mv="isAngularZone",mh=Mv+"_ID",fV=0,_e=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ke(!1);onMicrotaskEmpty=new Ke(!1);onStable=new Ke(!1);onError=new Ke(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=fS}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,mV(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Mv)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new j(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,pV,jc,jc);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},pV={};function Pv(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function gV(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){pS(()=>{t.callbackScheduled=!1,Xy(t),t.isCheckStableRunning=!0,Pv(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Xy(t)}function mV(t){let e=()=>{gV(t)},n=fV++;t._inner=t._inner.fork({name:"angular",properties:{[Mv]:!0,[mh]:n,[mh+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(yV(u))return r.invokeTask(o,s,a,u);try{return jC(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),UC(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return jC(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!vV(u)&&e(),UC(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Xy(t),Pv(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Xy(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function jC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function UC(t){t._nesting--,Pv(t)}var yh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ke;onMicrotaskEmpty=new Ke;onStable=new Ke;onError=new Ke;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function yV(t){return gS(t,"__ignore_ng_zone__")}function vV(t){return gS(t,"__scheduler_tick__")}function gS(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var xv=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}return t})(),mS=[0,1,2,3],yS=(()=>{class t{ngZone=P(_e);scheduler=P(wr);errorHandler=P(En,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){P(Ro,{optional:!0})}execute(){let n=this.sequences.size>0;n&&De(16),this.executing=!0;for(let r of mS)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&De(17)}register(n){let{view:r}=n;r!==void 0?((r[mo]??=[]).push(n),js(r),r[te]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Rh.AFTER_NEXT_RENDER,n):n()}static \u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}return t})(),vh=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[mo];e&&(this.view[mo]=e.filter(n=>n!==this))}};function Nh(t,e){let n=e?.injector??P(Fe);return Ao("NgAfterNextRender"),EV(t,n,e,!0)}function _V(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function EV(t,e,n,r){let i=e.get(xv);i.impl??=e.get(yS);let o=e.get(Ro,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(Hn):null,a=e.get(Yd,null,{optional:!0}),u=new vh(i.impl,_V(t),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var Ov=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var kv=new U("");function yi(t){return!!t&&typeof t.then=="function"}function Fv(t){return!!t&&typeof t.subscribe=="function"}var Lv=new U("");function Mh(t){return Gt([{provide:Lv,multi:!0,useValue:t}])}var Vv=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=P(Lv,{optional:!0})??[];injector=P(Fe);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=We(this.injector,i);if(yi(o))n.push(o);else if(Fv(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Yc=new U("");function vS(){Qg(()=>{let t="";throw new j(600,t)})}function _S(t){return t.isBoundToModule}var IV=10;var vi=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=P(Vt);afterRenderManager=P(xv);zonelessEnabled=P(Vc);rootEffectScheduler=P(Iy);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ue;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=P(zn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ce(n=>!n))}constructor(){P(Ro,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=P($e);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Fe.NULL){return this._injector.get(_e).run(()=>{De(10);let s=n instanceof Sh;if(!this._injector.get(Vv).done){let T="";throw new j(405,T)}let u;s?u=n:u=this._injector.get(Qc).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let l=_S(u)?void 0:this._injector.get(To),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(kv,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),Bc(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),De(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){De(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Rh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new j(101,!1);let n=ae(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ae(n),this.afterTick.next(),De(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(bo,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<IV;)De(14),this.synchronizeOnce(),De(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!kc(i))continue;let o=r&&!this.zonelessEnabled?0:1;bv(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>kc(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Bc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Yc,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Bc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new j(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Bc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function No(t,e,n,r){let i=ve(),o=Lc();if(Do(i,o,e)){let s=bt(),a=Gd();LF(a,i,t,e,n,r)}return No}var jv=new U("",{providedIn:"root",factory:()=>!1}),Uv=new U("",{providedIn:"root",factory:()=>wV}),wV=4e3;var IQ=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function ht(t,e,n){let r=ve(),i=Lc();if(Do(r,i,e)){let o=bt(),s=Gd();jT(s,r,t,e,r[Le],n)}return ht}function BC(t,e,n,r,i){Iv(e,t,n,i?"class":"style",r)}function H(t,e,n,r){let i=ve(),o=i[J],s=t+wt,a=o.firstCreatePass?nS(s,i,2,e,UT,sy(),n,r):o.data[s];if(UF(a,i,t,e,bV),xc(a)){let u=i[J];Ev(u,i,a),ET(u,a,i)}return r!=null&&VT(i,a),H}function F(){let t=bt(),e=Tt(),n=BF(e);return t.firstCreatePass&&rS(t,n),Q0(n)&&Y0(),W0(),n.classesWithoutHost!=null&&I1(n)&&BC(t,n,ve(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&w1(n)&&BC(t,n,ve(),n.stylesWithoutHost,!1),F}function Me(t,e,n,r){return H(t,e,n,r),F(),Me}var bV=(t,e,n,r,i)=>(Kd(!0),AT(e[Le],r,dC()));function Mo(){return ve()}var Eo=void 0;function DV(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var CV=["en",[["a","p"],["AM","PM"],Eo],[["AM","PM"],Eo,Eo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Eo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Eo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Eo,"{1} 'at' {0}",Eo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",DV],Ay={};function en(t){let e=TV(t),n=$C(e);if(n)return n;let r=e.split("-")[0];if(n=$C(r),n)return n;if(r==="en")return CV;throw new j(701,!1)}function $C(t){return t in Ay||(Ay[t]=br.ng&&br.ng.common&&br.ng.common.locales&&br.ng.common.locales[t]),Ay[t]}var qe=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(qe||{});function TV(t){return t.toLowerCase().replace(/_/g,"-")}var Zc="en-US";var SV=Zc;function ES(t){typeof t=="string"&&(SV=t.toLowerCase().replace(/_/g,"-"))}function ft(t,e,n){let r=ve(),i=bt(),o=Tt();return IS(i,r,r[Le],o,t,e,n),ft}function IS(t,e,n,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=Cy(r,e,o),CL(r,t,e,s,n,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=Cy(r,e,o),xC(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=Cy(r,e,o),xC(r,e,p,i,i,u)}}function Po(t=1){return lC(t)}function Bv(t,e,n){KL(t,e,n)}function Ph(t){let e=ve(),n=bt(),r=hy();Hd(r+1);let i=Rv(n,r);if(t.dirty&&U0(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=ZL(e,r);t.reset(o,k1),t.notifyOnChanges()}return!0}return!1}function xh(){return GL(ve(),hy())}function Jc(t){let e=X0();return Xm(e,wt+t)}function Xd(t,e){return t<<17|e<<2}function So(t){return t>>17&32767}function AV(t){return(t&2)==2}function RV(t,e){return t&131071|e<<17}function ev(t){return t|2}function qs(t){return(t&131068)>>2}function Ry(t,e){return t&-131069|e<<2}function NV(t){return(t&1)===1}function tv(t){return t|1}function MV(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=So(s),u=qs(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||ks(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=So(t[a+1]);t[r+1]=Xd(m,a),m!==0&&(t[m+1]=Ry(t[m+1],r)),t[a+1]=RV(t[a+1],r)}else t[r+1]=Xd(a,0),a!==0&&(t[a+1]=Ry(t[a+1],r)),a=r;else t[r+1]=Xd(u,0),a===0?a=r:t[u+1]=Ry(t[u+1],r),u=r;l&&(t[r+1]=ev(t[r+1])),HC(t,h,r,!0),HC(t,h,r,!1),PV(e,h,t,r,o),s=Xd(a,u),o?e.classBindings=s:e.styleBindings=s}function PV(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&ks(o,e)>=0&&(n[r+1]=tv(n[r+1]))}function HC(t,e,n,r){let i=t[n+1],o=e===null,s=r?So(i):qs(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];xV(u,e)&&(a=!0,t[s+1]=r?tv(l):ev(l)),s=r?So(l):qs(l)}a&&(t[n+1]=r?ev(i):tv(i))}function xV(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ks(t,e)>=0:!1}function Xc(t,e){return OV(t,e,null,!0),Xc}function OV(t,e,n,r){let i=ve(),o=bt(),s=nC(2);if(o.firstUpdatePass&&FV(o,t,s,r),e!==Rr&&Do(i,s,e)){let a=o.data[_o()];BV(o,a,i,i[Le],t,i[s+1]=$V(e,n),r,s)}}function kV(t,e){return e>=t.expandoStartIndex}function FV(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[_o()],s=kV(t,n);HV(o,r)&&e===null&&!s&&(e=!1),e=LV(i,o,e,r),MV(i,o,e,n,s,r)}}function LV(t,e,n,r){let i=sC(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Ny(null,t,e,n,r),n=Gc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Ny(i,t,e,n,r),o===null){let u=VV(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Ny(null,t,e,u[1],r),u=Gc(u,e.attrs,r),jV(t,e,r,u))}else o=UV(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function VV(t,e,n){let r=n?e.classBindings:e.styleBindings;if(qs(r)!==0)return t[So(r)]}function jV(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[So(i)]=r}function UV(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Gc(r,s,n)}return Gc(r,e.attrs,n)}function Ny(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Gc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Gc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),R0(t,s,n?!0:e[++o]))}return t===void 0?null:t}function BV(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=NV(l)?zC(u,e,n,i,qs(l),s):void 0;if(!_h(h)){_h(o)||AV(l)&&(o=zC(u,null,n,i,a,s));let p=Jm(_o(),n);SF(r,s,p,i,o)}}function zC(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Rr&&(m=p?Jt:void 0);let y=p?Ld(m,r):h===r?m:void 0;if(l&&!_h(y)&&(y=Ld(u,r)),_h(y)&&(a=y,s))return a;let T=t[i+1];i=s?So(T):qs(T)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Ld(u,r))}return a}function _h(t){return t!==void 0}function $V(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ir(Kc(t)))),t}function HV(t,e){return(t.flags&(e?8:16))!==0}function W(t,e=""){let n=ve(),r=bt(),i=t+wt,o=r.firstCreatePass?Tv(r,i,1,e,null):r.data[i],s=zV(r,n,o,e,t);n[i]=s,Wd()&&vv(r,n,s,o),Us(o,!1)}var zV=(t,e,n,r,i)=>(Kd(!0),sF(e[Le],r));function qV(t,e,n,r=""){return Do(t,Lc(),n)?e+Cc(n)+r:Rr}function jt(t){return Qn("",t),jt}function Qn(t,e,n){let r=ve(),i=qV(r,t,e,n);return i!==Rr&&GV(r,_o(),i),Qn}function GV(t,e,n){let r=Jm(e,t);aF(t[Le],r,n)}function Mr(t,e,n){vy(e)&&(e=e());let r=ve(),i=Lc();if(Do(r,i,e)){let o=bt(),s=Gd();jT(s,r,t,e,r[Le],n)}return Mr}function _i(t,e){let n=vy(t);return n&&t.set(e),n}function Pr(t,e){let n=ve(),r=bt(),i=Tt();return IS(r,n,n[Le],i,t,e),Pr}function WV(t,e,n){let r=bt();if(r.firstCreatePass){let i=$n(t);nv(n,r.data,r.blueprint,i,!0),nv(e,r.data,r.blueprint,i,!1)}}function nv(t,e,n,r,i){if(t=dt(t),Array.isArray(t))for(let o=0;o<t.length;o++)nv(t[o],e,n,r,i);else{let o=bt(),s=ve(),a=Tt(),u=co(t)?t:dt(t.provide),l=Km(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(co(t)||!t.multi){let y=new wo(l,i,Q,null),T=Py(u,e,i?h:h+m,p);T===-1?(Oy(ch(a,s),o,u),My(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[T]=y,s[T]=y)}else{let y=Py(u,e,h+m,p),T=Py(u,e,h,h+m),R=y>=0&&n[y],M=T>=0&&n[T];if(i&&!M||!i&&!R){Oy(ch(a,s),o,u);let L=YV(i?QV:KV,n.length,i,r,l,t);!i&&M&&(n[T].providerFactory=L),My(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(L),s.push(L)}else{let L=wS(n[i?T:y],l,!i&&r);My(o,t,y>-1?y:T,L)}!i&&r&&M&&n[T].componentProviders++}}}function My(t,e,n,r){let i=co(e),o=k0(e);if(i||o){let u=(o?dt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function wS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Py(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function KV(t,e,n,r,i){return rv(this.multi,[])}function QV(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=Hc(r,r[J],this.providerFactory.index,i);s=u.slice(0,a),rv(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],rv(o,s);return s}function rv(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function YV(t,e,n,r,i,o){let s=new wo(t,n,Q,null);return s.multi=[],s.index=e,s.componentProviders=0,wS(s,i,r&&!n),s}function Ei(t,e=[]){return n=>{n.providersResolver=(r,i)=>WV(r,i?i(t):t,e)}}function ZV(t,e){let n=t[e];return n===Rr?void 0:n}function JV(t,e,n,r,i,o,s){let a=e+n;return DL(t,a,i,o)?bL(t,a+2,s?r.call(s,i,o):r(i,o)):ZV(t,a+2)}function $v(t,e){let n=bt(),r,i=t+wt;n.firstCreatePass?(r=XV(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=si(r.type,!0)),s,a=Ft(Q);try{let u=ah(!1),l=o();return ah(u),ey(n,ve(),i,l),l}finally{Ft(a)}}function XV(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Hv(t,e,n,r){let i=t+wt,o=ve(),s=Xm(o,i);return e2(o,i)?JV(o,eC(),e,s.transform,n,r,s):s.transform(n,r)}function e2(t,e){return t[J].data[e].pure}var Eh=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},zv=(()=>{class t{compileModuleSync(n){return new gh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=zm(n),o=TT(i.declarations).reduce((s,a)=>{let u=Cr(a);return u&&s.push(new Co(u)),s},[]);return new Eh(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var t2=(()=>{class t{zone=P(_e);changeDetectionScheduler=P(wr);applicationRef=P(vi);applicationErrorHandler=P(Vt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),bS=new U("",{factory:()=>!1});function qv({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new _e(ee(O({},Wv()),{scheduleInRootZone:n})),[{provide:_e,useFactory:t},{provide:Dr,multi:!0,useFactory:()=>{let r=P(t2,{optional:!0});return()=>r.initialize()}},{provide:Dr,multi:!0,useFactory:()=>{let r=P(n2);return()=>{r.initialize()}}},e===!0?{provide:_y,useValue:!0}:[],{provide:Ey,useValue:n??fS},{provide:Vt,useFactory:()=>{let r=P(_e),i=P($e),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(En),o.handleError(s))})}}}]}function Gv(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=qv({ngZoneFactory:()=>{let i=Wv(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Ao("NgZone_CoalesceEvent"),new _e(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Gt([{provide:bS,useValue:!0},{provide:Vc,useValue:!1},r])}function Wv(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var n2=(()=>{class t{subscription=new ke;initialized=!1;zone=P(_e);pendingTasks=P(zn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var DS=(()=>{class t{applicationErrorHandler=P(Vt);appRef=P(vi);taskService=P(zn);ngZone=P(_e);zonelessEnabled=P(Vc);tracing=P(Ro,{optional:!0});disableScheduling=P(_y,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ke;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(mh):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(Ey,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof yh||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?VC:pS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(mh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,VC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function r2(){return typeof $localize<"u"&&$localize.locale||Zc}var eu=new U("",{providedIn:"root",factory:()=>P(eu,{optional:!0,skipSelf:!0})||r2()});function ot(t){return v0(t)}function Qs(t,e){return rd(t,e?.equal)}var CS=class{[Et];constructor(e){this[Et]=e}destroy(){this[Et].destroy()}};var NS=Symbol("InputSignalNode#UNSET"),m2=ee(O({},id),{transformFn:void 0,applyValueToInputSignal(t,e){_s(t,e)}});function MS(t,e){let n=Object.create(m2);n.value=t,n.transformFn=e?.transform;function r(){if(ms(n),n.value===NS){let i=null;throw new j(-950,i)}return n.value}return r[Et]=n,r}var kh=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Wc(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},y2=new U("");y2.__NG_ELEMENT_ID__=t=>{let e=Tt();if(e===null)throw new j(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new j(204,!1)};function TS(t,e){return MS(t,e)}function v2(t){return MS(NS,t)}var PS=(TS.required=v2,TS);var xo=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},xS=new xo("20.2.1");var Kv=new U(""),_2=new U("");function tu(t){return!t.moduleRef}function E2(t){let e=tu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(_e);return n.run(()=>{tu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Vt),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),tu(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Kv);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Kv);s.add(o),t.moduleRef.onDestroy(()=>{Bc(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return w2(r,n,()=>{let o=e.get(zn),s=o.add(),a=e.get(Vv);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(eu,Zc);if(ES(u||Zc),!e.get(_2,!0))return tu(t)?e.get(vi):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(tu(t)){let h=e.get(vi);return t.rootComponent!==void 0&&h.bootstrap(t.rootComponent),h}else return I2?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var I2;function w2(t,e,n){try{let r=n();return yi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Oh=null;function b2(t=[],e){return Fe.create({name:e,providers:[{provide:Sc,useValue:"platform"},{provide:Kv,useValue:new Set([()=>Oh=null])},...t]})}function D2(t=[]){if(Oh)return Oh;let e=b2(t);return Oh=e,vS(),C2(e),e}function C2(t){let e=t.get(wh,null);We(t,()=>{e?.forEach(n=>n())})}function Xv(){return!1}var Oo=(()=>{class t{static __NG_ELEMENT_ID__=T2}return t})();function T2(t){return S2(Tt(),ve(),(t&16)===16)}function S2(t,e,n){if(di(t)&&!n){let r=ln(t.index,e);return new fi(r,r)}else if(t.type&175){let r=e[cn];return new fi(r,e)}return null}var Qv=class{constructor(){}supports(e){return Av(e)}create(e){return new Yv(e)}},A2=(t,e)=>e,Yv=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||A2}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<SS(r,i,o)?n:r,a=SS(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,T=y+m;h<=T&&T<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Av(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,iS(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Zv(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Fh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Fh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Zv=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},Jv=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Fh=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Jv,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function SS(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function AS(){return new e_([new Qv])}var e_=(()=>{class t{factories;static \u0275prov=$({token:t,providedIn:"root",factory:AS});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||AS()),deps:[[t,new WC,new Wt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new j(901,!1)}}return t})();function OS(t){De(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=D2(r),o=[qv({}),{provide:wr,useExisting:DS},fC,...n||[]],s=new qc({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return E2({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{De(9)}}function xr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function kS(t){let e=Cr(t);if(!e)return null;let n=new Co(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var VS=null;function pn(){return VS}function t_(t){VS??=t}var nu=class{},ru=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>P(jS),providedIn:"platform"})}return t})(),n_=new U(""),jS=(()=>{class t extends ru{_location;_history;_doc=P(He);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pn().getBaseHref(this._doc)}onPopState(n){let r=pn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=pn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Vh(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function FS(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function An(t){return t&&t[0]!=="?"?`?${t}`:t}var Rn=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>P(Uh),providedIn:"root"})}return t})(),jh=new U(""),Uh=(()=>{class t extends Rn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(He).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Vh(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+An(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+An(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+An(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(z(ru),z(jh,8))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ii=(()=>{class t{_subject=new Ue;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=M2(FS(LS(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+An(r))}normalize(n){return t.stripTrailingSlash(N2(this._basePath,LS(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+An(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+An(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=An;static joinWithSlash=Vh;static stripTrailingSlash=FS;static \u0275fac=function(r){return new(r||t)(z(Rn))};static \u0275prov=$({token:t,factory:()=>R2(),providedIn:"root"})}return t})();function R2(){return new Ii(z(Rn))}function N2(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function LS(t){return t.replace(/\/index.html$/,"")}function M2(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var s_=(()=>{class t extends Rn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Vh(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+An(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+An(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(z(ru),z(jh,8))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();var At=(function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t})(At||{}),Ce=(function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t})(Ce||{}),Kt=(function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t})(Kt||{}),kr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function HS(t){return en(t)[qe.LocaleId]}function zS(t,e,n){let r=en(t),i=[r[qe.DayPeriodsFormat],r[qe.DayPeriodsStandalone]],o=gn(i,e);return gn(o,n)}function qS(t,e,n){let r=en(t),i=[r[qe.DaysFormat],r[qe.DaysStandalone]],o=gn(i,e);return gn(o,n)}function GS(t,e,n){let r=en(t),i=[r[qe.MonthsFormat],r[qe.MonthsStandalone]],o=gn(i,e);return gn(o,n)}function WS(t,e){let r=en(t)[qe.Eras];return gn(r,e)}function iu(t,e){let n=en(t);return gn(n[qe.DateFormat],e)}function ou(t,e){let n=en(t);return gn(n[qe.TimeFormat],e)}function su(t,e){let r=en(t)[qe.DateTimeFormat];return gn(r,e)}function au(t,e){let n=en(t),r=n[qe.NumberSymbols][e];if(typeof r>"u"){if(e===kr.CurrencyDecimal)return n[qe.NumberSymbols][kr.Decimal];if(e===kr.CurrencyGroup)return n[qe.NumberSymbols][kr.Group]}return r}function KS(t){if(!t[qe.ExtraData])throw new j(2303,!1)}function QS(t){let e=en(t);return KS(e),(e[qe.ExtraData][2]||[]).map(r=>typeof r=="string"?r_(r):[r_(r[0]),r_(r[1])])}function YS(t,e,n){let r=en(t);KS(r);let i=[r[qe.ExtraData][0],r[qe.ExtraData][1]],o=gn(i,e)||[];return gn(o,n)||[]}function gn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new j(2304,!1)}function r_(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var P2=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Bh={},x2=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function ZS(t,e,n,r){let i=$2(t);e=Or(n,e)||e;let s=[],a;for(;e;)if(a=x2.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=XS(r,u),i=B2(i,r));let l="";return s.forEach(h=>{let p=j2(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Gh(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Or(t,e){let n=HS(t);if(Bh[n]??={},Bh[n][e])return Bh[n][e];let r="";switch(e){case"shortDate":r=iu(t,Kt.Short);break;case"mediumDate":r=iu(t,Kt.Medium);break;case"longDate":r=iu(t,Kt.Long);break;case"fullDate":r=iu(t,Kt.Full);break;case"shortTime":r=ou(t,Kt.Short);break;case"mediumTime":r=ou(t,Kt.Medium);break;case"longTime":r=ou(t,Kt.Long);break;case"fullTime":r=ou(t,Kt.Full);break;case"short":let i=Or(t,"shortTime"),o=Or(t,"shortDate");r=$h(su(t,Kt.Short),[i,o]);break;case"medium":let s=Or(t,"mediumTime"),a=Or(t,"mediumDate");r=$h(su(t,Kt.Medium),[s,a]);break;case"long":let u=Or(t,"longTime"),l=Or(t,"longDate");r=$h(su(t,Kt.Long),[u,l]);break;case"full":let h=Or(t,"fullTime"),p=Or(t,"fullDate");r=$h(su(t,Kt.Full),[h,p]);break}return r&&(Bh[n][e]=r),r}function $h(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Nn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function O2(t,e){return Nn(t,3).substring(0,e)}function Qe(t,e,n=0,r=!1,i=!1){return function(o,s){let a=k2(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return O2(a,e);let u=au(s,kr.MinusSign);return Nn(a,e,u,r,i)}}function k2(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new j(2301,!1)}}function Re(t,e,n=At.Format,r=!1){return function(i,o){return F2(i,o,t,e,n,r)}}function F2(t,e,n,r,i,o){switch(n){case 2:return GS(e,i,r)[t.getMonth()];case 1:return qS(e,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let l=QS(e),h=YS(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,T]=m,R=s>=y.hours&&a>=y.minutes,M=s<T.hours||s===T.hours&&a<T.minutes;if(y.hours<T.hours){if(R&&M)return!0}else if(R||M)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return zS(e,i,r)[s<12?0:1];case 3:return WS(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new j(2302,!1)}}function Hh(t){return function(e,n,r){let i=-1*r,o=au(n,kr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+Nn(s,2,o)+Nn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Nn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Nn(s,2,o)+":"+Nn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Nn(s,2,o)+":"+Nn(Math.abs(i%60),2,o);default:throw new j(2302,!1)}}}var L2=0,qh=4;function V2(t){let e=Gh(t,L2,1).getDay();return Gh(t,0,1+(e<=qh?qh:qh+7)-e)}function JS(t){let e=t.getDay(),n=e===0?-3:qh-e;return Gh(t.getFullYear(),t.getMonth(),t.getDate()+n)}function i_(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=JS(n),s=V2(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Nn(i,t,au(r,kr.MinusSign))}}function zh(t,e=!1){return function(n,r){let o=JS(n).getFullYear();return Nn(o,t,au(r,kr.MinusSign),e)}}var o_={};function j2(t){if(o_[t])return o_[t];let e;switch(t){case"G":case"GG":case"GGG":e=Re(3,Ce.Abbreviated);break;case"GGGG":e=Re(3,Ce.Wide);break;case"GGGGG":e=Re(3,Ce.Narrow);break;case"y":e=Qe(0,1,0,!1,!0);break;case"yy":e=Qe(0,2,0,!0,!0);break;case"yyy":e=Qe(0,3,0,!1,!0);break;case"yyyy":e=Qe(0,4,0,!1,!0);break;case"Y":e=zh(1);break;case"YY":e=zh(2,!0);break;case"YYY":e=zh(3);break;case"YYYY":e=zh(4);break;case"M":case"L":e=Qe(1,1,1);break;case"MM":case"LL":e=Qe(1,2,1);break;case"MMM":e=Re(2,Ce.Abbreviated);break;case"MMMM":e=Re(2,Ce.Wide);break;case"MMMMM":e=Re(2,Ce.Narrow);break;case"LLL":e=Re(2,Ce.Abbreviated,At.Standalone);break;case"LLLL":e=Re(2,Ce.Wide,At.Standalone);break;case"LLLLL":e=Re(2,Ce.Narrow,At.Standalone);break;case"w":e=i_(1);break;case"ww":e=i_(2);break;case"W":e=i_(1,!0);break;case"d":e=Qe(2,1);break;case"dd":e=Qe(2,2);break;case"c":case"cc":e=Qe(7,1);break;case"ccc":e=Re(1,Ce.Abbreviated,At.Standalone);break;case"cccc":e=Re(1,Ce.Wide,At.Standalone);break;case"ccccc":e=Re(1,Ce.Narrow,At.Standalone);break;case"cccccc":e=Re(1,Ce.Short,At.Standalone);break;case"E":case"EE":case"EEE":e=Re(1,Ce.Abbreviated);break;case"EEEE":e=Re(1,Ce.Wide);break;case"EEEEE":e=Re(1,Ce.Narrow);break;case"EEEEEE":e=Re(1,Ce.Short);break;case"a":case"aa":case"aaa":e=Re(0,Ce.Abbreviated);break;case"aaaa":e=Re(0,Ce.Wide);break;case"aaaaa":e=Re(0,Ce.Narrow);break;case"b":case"bb":case"bbb":e=Re(0,Ce.Abbreviated,At.Standalone,!0);break;case"bbbb":e=Re(0,Ce.Wide,At.Standalone,!0);break;case"bbbbb":e=Re(0,Ce.Narrow,At.Standalone,!0);break;case"B":case"BB":case"BBB":e=Re(0,Ce.Abbreviated,At.Format,!0);break;case"BBBB":e=Re(0,Ce.Wide,At.Format,!0);break;case"BBBBB":e=Re(0,Ce.Narrow,At.Format,!0);break;case"h":e=Qe(3,1,-12);break;case"hh":e=Qe(3,2,-12);break;case"H":e=Qe(3,1);break;case"HH":e=Qe(3,2);break;case"m":e=Qe(4,1);break;case"mm":e=Qe(4,2);break;case"s":e=Qe(5,1);break;case"ss":e=Qe(5,2);break;case"S":e=Qe(6,1);break;case"SS":e=Qe(6,2);break;case"SSS":e=Qe(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Hh(0);break;case"ZZZZZ":e=Hh(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Hh(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Hh(2);break;default:return null}return o_[t]=e,e}function XS(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function U2(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function B2(t,e,n){let i=t.getTimezoneOffset(),o=XS(e,i);return U2(t,-1*(o-i))}function $2(t){if(US(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Gh(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(P2))return H2(r)}let e=new Date(t);if(!US(e))throw new j(2302,!1);return e}function H2(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function US(t){return t instanceof Date&&!isNaN(t.valueOf())}var Wh=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Qh=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Wh(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),BS(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);BS(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Q(Nr),Q(pi),Q(e_))};static \u0275dir=ze({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function BS(t,e){t.context.$implicit=e.item}var ko=(()=>{class t{_viewContainer;_context=new Kh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){$S(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){$S(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Q(Nr),Q(pi))};static \u0275dir=ze({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Kh=class{$implicit=null;ngIf=null};function $S(t,e){if(t&&!t.createEmbeddedView)throw new j(2020,!1)}function z2(t,e){return new j(2100,!1)}var q2="mediumDate",eA=new U(""),tA=new U(""),a_=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??q2,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return ZS(n,s,o||this.locale,a)}catch(s){throw z2(t,s.message)}}static \u0275fac=function(r){return new(r||t)(Q(eu,16),Q(eA,24),Q(tA,24))};static \u0275pipe=Nv({name:"date",type:t,pure:!0})}return t})();var Yn=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Wn({type:t});static \u0275inj=wn({})}return t})();function c_(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var cu=class{};var nA="browser";var rA=(()=>{class t{static \u0275prov=$({token:t,providedIn:"root",factory:()=>new u_(P(He),window)})}return t})(),u_=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,n){this.window.scrollTo(ee(O({},n),{left:e[0],top:e[1]}))}scrollToAnchor(e,n){let r=G2(this.document,e);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(lo(2400,!1))}}scrollToElement(e,n){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(ee(O({},n),{left:i-s[0],top:o-s[1]}))}};function G2(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Jh=new U(""),p_=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(z(Jh),z(_e))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),uu=class{_doc;constructor(e){this._doc=e}manager},l_="ng-app-id";function iA(t){for(let e of t)e.remove()}function oA(t,e){let n=e.createElement("style");return n.textContent=t,n}function W2(t,e,n,r){let i=t.head?.querySelectorAll(`style[${l_}="${e}"],link[${l_}="${e}"]`);if(i)for(let o of i)o.removeAttribute(l_),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function h_(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var g_=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,W2(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,oA);r?.forEach(i=>this.addUsage(i,this.external,h_))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(iA(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])iA(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,oA(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,h_(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(z(He),z(Ih),z(bh,8),z(gi))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),d_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},m_=/%COMP%/g;var aA="%COMP%",K2=`_nghost-${aA}`,Q2=`_ngcontent-${aA}`,Y2=!0,Z2=new U("",{providedIn:"root",factory:()=>Y2});function J2(t){return Q2.replace(m_,t)}function X2(t){return K2.replace(m_,t)}function cA(t,e){return e.map(n=>n.replace(m_,t))}var y_=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;animationDisabled;maxAnimationTimeout;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;registry;constructor(n,r,i,o,s,a,u,l=null,h,p,m=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.animationDisabled=h,this.maxAnimationTimeout=p,this.tracingService=m,this.platformIsServer=!1,this.defaultRenderer=new lu(n,s,u,this.platformIsServer,this.tracingService,this.registry=Qd(),this.maxAnimationTimeout)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Zh?i.applyToHost(n):i instanceof du&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Tr.Emulated:o=new Zh(u,l,r,this.appId,h,s,a,p,m,this.registry,this.animationDisabled,this.maxAnimationTimeout);break;case Tr.ShadowDom:return new f_(u,l,n,r,s,a,this.nonce,p,m,this.registry,this.maxAnimationTimeout);default:o=new du(u,l,r,h,s,a,p,m,this.registry,this.animationDisabled,this.maxAnimationTimeout);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(z(p_),z(g_),z(Ih),z(Z2),z(He),z(gi),z(_e),z(bh),z(jv),z(Uv),z(Ro,8))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),lu=class{eventManager;doc;ngZone;platformIsServer;tracingService;registry;maxAnimationTimeout;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o,s,a){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o,this.registry=s,this.maxAnimationTimeout=a}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(d_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(sA(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(sA(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){let{elements:r}=this.registry;if(r){r.animate(n,()=>n.remove(),this.maxAnimationTimeout);return}n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=d_[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=d_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Gn.DashCase|Gn.Important)?e.style.setProperty(n,r,i&Gn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Gn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=pn().getGlobalEventTarget(this.doc,e),!e))throw new j(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function sA(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var f_=class extends lu{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,u,l,h,p){super(e,o,s,u,l,h,p),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=i.styles;m=cA(i.id,m);for(let T of m){let R=document.createElement("style");a&&R.setAttribute("nonce",a),R.textContent=T,this.shadowRoot.appendChild(R)}let y=i.getExternalStyles?.();if(y)for(let T of y){let R=h_(T,o);a&&R.setAttribute("nonce",a),this.shadowRoot.appendChild(R)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},du=class extends lu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;_animationDisabled;constructor(e,n,r,i,o,s,a,u,l,h,p,m){super(e,o,s,a,u,l,p),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this._animationDisabled=h;let y=r.styles;this.styles=m?cA(m,y):y,this.styleUrls=r.getExternalStyles?.(m)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){if(this.removeStylesOnCompDestroy){if(!this._animationDisabled&&this.registry.elements){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)},this.maxAnimationTimeout)});return}this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}},Zh=class extends du{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u,l,h,p,m){let y=i+"-"+r.id;super(e,n,r,o,s,a,u,l,h,p,m,y),this.contentAttr=J2(y),this.hostAttr=X2(y)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Xh=class t extends nu{supportsDOMEvents=!0;static makeCurrent(){t_(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=ej();return n==null?null:tj(n)}resetBaseElement(){hu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return c_(document.cookie,e)}},hu=null;function ej(){return hu=hu||document.head.querySelector("base"),hu?hu.getAttribute("href"):null}function tj(t){return new URL(t,document.baseURI).pathname}var nj=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),lA=(()=>{class t extends uu{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(z(He))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),uA=["alt","control","meta","shift"],rj={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ij={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},dA=(()=>{class t extends uu{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pn().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),uA.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=rj[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),uA.forEach(s=>{if(s!==i){let a=ij[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(z(He))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();function v_(t,e){let n=O({rootComponent:t},oj(e));return OS(n)}function oj(t){return{appProviders:[...lj,...t?.providers??[]],platformProviders:uj}}function sj(){Xh.makeCurrent()}function aj(){return new En}function cj(){return sv(document),document}var uj=[{provide:gi,useValue:nA},{provide:wh,useValue:sj,multi:!0},{provide:He,useFactory:cj}];var lj=[{provide:Sc,useValue:"root"},{provide:En,useFactory:aj},{provide:Jh,useClass:lA,multi:!0,deps:[He]},{provide:Jh,useClass:dA,multi:!0,deps:[He]},y_,g_,p_,{provide:bo,useExisting:y_},{provide:cu,useClass:nj},[]];var hA=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(z(He))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var se="primary",Cu=Symbol("RouteTitle"),b_=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Vo(t){return new b_(t)}function EA(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function hj(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Zn(t[n],e[n]))return!1;return!0}function Zn(t,e){let n=t?D_(t):void 0,r=e?D_(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!IA(t[i],e[i]))return!1;return!0}function D_(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function IA(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function wA(t){return t.length>0?t[t.length-1]:null}function Fr(t){return dm(t)?t:yi(t)?Ae(Promise.resolve(t)):G(t)}var fj={exact:DA,subset:CA},bA={exact:pj,subset:gj,ignored:()=>!0};function fA(t,e,n){return fj[n.paths](t.root,e.root,n.matrixParams)&&bA[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function pj(t,e){return Zn(t,e)}function DA(t,e,n){if(!Fo(t.segments,e.segments)||!nf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!DA(t.children[r],e.children[r],n))return!1;return!0}function gj(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>IA(t[n],e[n]))}function CA(t,e,n){return TA(t,e,e.segments,n)}function TA(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Fo(i,n)||e.hasChildren()||!nf(i,n,r))}else if(t.segments.length===n.length){if(!Fo(t.segments,n)||!nf(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!CA(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Fo(t.segments,i)||!nf(t.segments,i,r)||!t.children[se]?!1:TA(t.children[se],e,o,r)}}function nf(t,e,n){return e.every((r,i)=>bA[n](t[i].parameters,r.parameters))}var Xn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ee([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Vo(this.queryParams),this._queryParamMap}toString(){return vj.serialize(this)}},Ee=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rf(this)}},wi=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Vo(this.parameters),this._parameterMap}toString(){return AA(this)}};function mj(t,e){return Fo(t,e)&&t.every((n,r)=>Zn(n.parameters,e[r].parameters))}function Fo(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function yj(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===se&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==se&&(n=n.concat(e(i,r)))}),n}var jo=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>new bi,providedIn:"root"})}return t})(),bi=class{parse(e){let n=new T_(e);return new Xn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${fu(e.root,!0)}`,r=Ij(e.queryParams),i=typeof e.fragment=="string"?`#${_j(e.fragment)}`:"";return`${n}${r}${i}`}},vj=new bi;function rf(t){return t.segments.map(e=>AA(e)).join("/")}function fu(t,e){if(!t.hasChildren())return rf(t);if(e){let n=t.children[se]?fu(t.children[se],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==se&&r.push(`${i}:${fu(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=yj(t,(r,i)=>i===se?[fu(t.children[se],!1)]:[`${i}:${fu(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[se]!=null?`${rf(t)}/${n[0]}`:`${rf(t)}/(${n.join("//")})`}}function SA(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ef(t){return SA(t).replace(/%3B/gi,";")}function _j(t){return encodeURI(t)}function C_(t){return SA(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function of(t){return decodeURIComponent(t)}function pA(t){return of(t.replace(/\+/g,"%20"))}function AA(t){return`${C_(t.path)}${Ej(t.parameters)}`}function Ej(t){return Object.entries(t).map(([e,n])=>`;${C_(e)}=${C_(n)}`).join("")}function Ij(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ef(n)}=${ef(i)}`).join("&"):`${ef(n)}=${ef(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var wj=/^[^\/()?;#]+/;function __(t){let e=t.match(wj);return e?e[0]:""}var bj=/^[^\/()?;=#]+/;function Dj(t){let e=t.match(bj);return e?e[0]:""}var Cj=/^[^=?&#]+/;function Tj(t){let e=t.match(Cj);return e?e[0]:""}var Sj=/^[^&#]+/;function Aj(t){let e=t.match(Sj);return e?e[0]:""}var T_=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[se]=new Ee(e,n)),r}parseSegment(){let e=__(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new wi(of(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Dj(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=__(this.remaining);i&&(r=i,this.capture(r))}e[of(n)]=of(r)}parseQueryParam(e){let n=Tj(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=Aj(this.remaining);s&&(r=s,this.capture(r))}let i=pA(n),o=pA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=__(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=se);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[se]:new Ee([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function RA(t){return t.segments.length>0?new Ee([],{[se]:t}):t}function NA(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=NA(i);if(r===se&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Ee(t.segments,e);return Rj(n)}function Rj(t){if(t.numberOfChildren===1&&t.children[se]){let e=t.children[se];return new Ee(t.segments.concat(e.segments),e.children)}return t}function Di(t){return t instanceof Xn}function MA(t,e,n=null,r=null){let i=PA(t);return xA(i,e,n,r)}function PA(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new Ee(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=RA(r);return e??i}function xA(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return E_(i,i,i,n,r);let o=Nj(e);if(o.toRoot())return E_(i,i,new Ee([],{}),n,r);let s=Mj(o,i,t),a=s.processChildren?gu(s.segmentGroup,s.index,o.commands):kA(s.segmentGroup,s.index,o.commands);return E_(i,s.segmentGroup,a,n,r)}function sf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function yu(t){return typeof t=="object"&&t!=null&&t.outlets}function E_(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=OA(t,e,n);let a=RA(NA(s));return new Xn(a,o,i)}function OA(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=OA(o,e,n)}),new Ee(t.segments,r)}var af=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&sf(r[0]))throw new j(4003,!1);let i=r.find(yu);if(i&&i!==wA(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Nj(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new af(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new af(n,e,r)}var Js=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Mj(t,e,n){if(t.isAbsolute)return new Js(e,!0,0);if(!n)return new Js(e,!1,NaN);if(n.parent===null)return new Js(n,!0,0);let r=sf(t.commands[0])?0:1,i=n.segments.length-1+r;return Pj(n,i,t.numberOfDoubleDots)}function Pj(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new Js(r,!1,i-o)}function xj(t){return yu(t[0])?t[0].outlets:{[se]:t}}function kA(t,e,n){if(t??=new Ee([],{}),t.segments.length===0&&t.hasChildren())return gu(t,e,n);let r=Oj(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Ee(t.segments.slice(0,r.pathIndex),{});return o.children[se]=new Ee(t.segments.slice(r.pathIndex),t.children),gu(o,0,i)}else return r.match&&i.length===0?new Ee(t.segments,{}):r.match&&!t.hasChildren()?S_(t,e,n):r.match?gu(t,0,i):S_(t,e,n)}function gu(t,e,n){if(n.length===0)return new Ee(t.segments,{});{let r=xj(n),i={};if(Object.keys(r).some(o=>o!==se)&&t.children[se]&&t.numberOfChildren===1&&t.children[se].segments.length===0){let o=gu(t.children[se],e,n);return new Ee(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=kA(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ee(t.segments,i)}}function Oj(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(yu(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!mA(u,l,s))return o;r+=2}else{if(!mA(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function S_(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(yu(o)){let u=kj(o.outlets);return new Ee(r,u)}if(i===0&&sf(n[0])){let u=t.segments[e];r.push(new wi(u.path,gA(n[0]))),i++;continue}let s=yu(o)?o.outlets[se]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&sf(a)?(r.push(new wi(s,gA(a))),i+=2):(r.push(new wi(s,{})),i++)}return new Ee(r,{})}function kj(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=S_(new Ee([],{}),0,r))}),e}function gA(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function mA(t,e,n){return t==n.path&&Zn(e,n.parameters)}var Xs="imperative",nt=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(nt||{}),nn=class{id;url;constructor(e,n){this.id=e,this.url=n}},Ci=class extends nn{type=nt.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},mn=class extends nn{urlAfterRedirects;type=nt.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ut=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(Ut||{}),ta=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(ta||{}),Jn=class extends nn{reason;code;type=nt.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},er=class extends nn{reason;code;type=nt.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},na=class extends nn{error;target;type=nt.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},vu=class extends nn{urlAfterRedirects;state;type=nt.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cf=class extends nn{urlAfterRedirects;state;type=nt.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uf=class extends nn{urlAfterRedirects;state;shouldActivate;type=nt.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},lf=class extends nn{urlAfterRedirects;state;type=nt.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},df=class extends nn{urlAfterRedirects;state;type=nt.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hf=class{route;type=nt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ff=class{route;type=nt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},pf=class{snapshot;type=nt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gf=class{snapshot;type=nt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mf=class{snapshot;type=nt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yf=class{snapshot;type=nt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ra=class{routerEvent;position;anchor;type=nt.Scroll;constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},_u=class{},ia=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function Fj(t){return!(t instanceof _u)&&!(t instanceof ia)}function Lj(t,e){return t.providers&&!t._injector&&(t._injector=Ks(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Mn(t){return t.outlet||se}function Vj(t,e){let n=t.filter(r=>Mn(r)===e);return n.push(...t.filter(r=>Mn(r)!==e)),n}function aa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var vf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return aa(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Uo(this.rootInjector)}},Uo=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new vf(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(z($e))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_f=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=A_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=A_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=R_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return R_(e,this._root).map(n=>n.value)}};function A_(t,e){if(t===e.value)return e;for(let n of e.children){let r=A_(t,n);if(r)return r}return null}function R_(t,e){if(t===e.value)return[e];for(let n of e.children){let r=R_(t,n);if(r.length)return r.unshift(e),r}return[]}var tn=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Zs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Eu=class extends _f{snapshot;constructor(e,n){super(e),this.snapshot=n,L_(this,e)}toString(){return this.snapshot.toString()}};function FA(t){let e=jj(t),n=new tt([new wi("",{})]),r=new tt({}),i=new tt({}),o=new tt({}),s=new tt(""),a=new tr(n,r,o,s,i,se,t,e.root);return a.snapshot=e.root,new Eu(new tn(a,[]),e)}function jj(t){let e={},n={},r={},o=new Lo([],e,r,"",n,se,t,null,{});return new Iu("",new tn(o,[]))}var tr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ce(l=>l[Cu]))??G(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ce(e=>Vo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ce(e=>Vo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ef(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),t.params),data:O(O({},e.data),t.data),resolve:O(O(O(O({},t.data),e.data),i?.data),t._resolvedData)}:r={params:O({},t.params),data:O({},t.data),resolve:O(O({},t.data),t._resolvedData??{})},i&&VA(i)&&(r.resolve[Cu]=i.title),r}var Lo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Cu]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Vo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Vo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Iu=class extends _f{url;constructor(e,n){super(n),this.url=e,L_(this,n)}toString(){return LA(this._root)}};function L_(t,e){e.value._routerState=t,e.children.forEach(n=>L_(t,n))}function LA(t){let e=t.children.length>0?` { ${t.children.map(LA).join(", ")} } `:"";return`${t.value}${e}`}function I_(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Zn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Zn(e.params,n.params)||t.paramsSubject.next(n.params),hj(e.url,n.url)||t.urlSubject.next(n.url),Zn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function N_(t,e){let n=Zn(t.params,e.params)&&mj(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||N_(t.parent,e.parent))}function VA(t){return typeof t.title=="string"||t.title===null}var jA=new U(""),Tu=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=se;activateEvents=new Ke;deactivateEvents=new Ke;attachEvents=new Ke;detachEvents=new Ke;routerOutletData=PS(void 0);parentContexts=P(Uo);location=P(Nr);changeDetector=P(Oo);inputBinder=P(Su,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new M_(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ze({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Sr]})}return t})(),M_=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===tr?this.route:e===Uo?this.childContexts:e===jA?this.outletData:this.parent.get(e,n)}},Su=new U(""),V_=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=yc([r.queryParams,r.params,r.data]).pipe(kt(([o,s,a],u)=>(a=O(O(O({},o),s),a),u===0?G(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=kS(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),j_=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Sn({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Me(0,"router-outlet")},dependencies:[Tu],encapsulation:2})}return t})();function U_(t){let e=t.children&&t.children.map(U_),n=e?ee(O({},t),{children:e}):O({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==se&&(n.component=j_),n}function Uj(t,e,n){let r=wu(t,e._root,n?n._root:void 0);return new Eu(r,e)}function wu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Bj(t,e,n);return new tn(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>wu(t,a)),s}}let r=$j(e.value),i=e.children.map(o=>wu(t,o));return new tn(r,i)}}function Bj(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return wu(t,r,i);return wu(t,r)})}function $j(t){return new tr(new tt(t.url),new tt(t.params),new tt(t.queryParams),new tt(t.fragment),new tt(t.data),t.outlet,t.component,t)}var oa=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},UA="ngNavigationCancelingError";function If(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Di(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=BA(!1,Ut.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function BA(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[UA]=!0,n.cancellationCode=e,n}function Hj(t){return $A(t)&&Di(t.url)}function $A(t){return!!t&&t[UA]}var zj=(t,e,n,r)=>ce(i=>(new P_(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),P_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),I_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Zs(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Zs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Zs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Zs(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new yf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new gf(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(I_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),I_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},wf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ea=class{component;route;constructor(e,n){this.component=e,this.route=n}};function qj(t,e,n){let r=t._root,i=e?e._root:null;return pu(r,i,n,[r.value])}function Gj(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ca(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Mm(t)?t:e.get(t):r}function pu(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Zs(e);return t.children.forEach(s=>{Wj(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>mu(a,n.getContext(s),i)),i}function Wj(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Kj(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new wf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?pu(t,e,a?a.children:null,r,i):pu(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ea(a.outlet.component,s))}else s&&mu(e,a,i),i.canActivateChecks.push(new wf(r)),o.component?pu(t,null,a?a.children:null,r,i):pu(t,null,n,r,i);return i}function Kj(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Fo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Fo(t.url,e.url)||!Zn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!N_(t,e)||!Zn(t.queryParams,e.queryParams);case"paramsChange":default:return!N_(t,e)}}function mu(t,e,n){let r=Zs(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?mu(s,e.children.getContext(o),n):mu(s,null,n):mu(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ea(e.outlet.component,i)):n.canDeactivateChecks.push(new ea(null,i)):n.canDeactivateChecks.push(new ea(null,i))}function Au(t){return typeof t=="function"}function Qj(t){return typeof t=="boolean"}function Yj(t){return t&&Au(t.canLoad)}function Zj(t){return t&&Au(t.canActivate)}function Jj(t){return t&&Au(t.canActivateChild)}function Xj(t){return t&&Au(t.canDeactivate)}function eU(t){return t&&Au(t.canMatch)}function HA(t){return t instanceof mr||t?.name==="EmptyError"}var tf=Symbol("INITIAL_VALUE");function sa(){return kt(t=>yc(t.map(e=>e.pipe(vr(1),gm(tf)))).pipe(ce(e=>{for(let n of e)if(n!==!0){if(n===tf)return tf;if(n===!1||tU(n))return n}return!0}),qt(e=>e!==tf),vr(1)))}function tU(t){return Di(t)||t instanceof oa}function nU(t,e){return Be(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?G(ee(O({},n),{guardsResult:!0})):rU(s,r,i,t).pipe(Be(a=>a&&Qj(a)?iU(r,o,t,e):G(a)),ce(a=>ee(O({},n),{guardsResult:a})))})}function rU(t,e,n,r){return Ae(t).pipe(Be(i=>uU(i.component,i.route,n,e,r)),_r(i=>i!==!0,!0))}function iU(t,e,n,r){return Ae(e).pipe(ii(i=>Ps(sU(i.route.parent,r),oU(i.route,r),cU(t,i.path,n),aU(t,i.route,n))),_r(i=>i!==!0,!0))}function oU(t,e){return t!==null&&e&&e(new mf(t)),G(!0)}function sU(t,e){return t!==null&&e&&e(new pf(t)),G(!0)}function aU(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return G(!0);let i=r.map(o=>vc(()=>{let s=aa(e)??n,a=ca(o,s),u=Zj(a)?a.canActivate(e,t):We(s,()=>a(e,t));return Fr(u).pipe(_r())}));return G(i).pipe(sa())}function cU(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Gj(s)).filter(s=>s!==null).map(s=>vc(()=>{let a=s.guards.map(u=>{let l=aa(s.node)??n,h=ca(u,l),p=Jj(h)?h.canActivateChild(r,t):We(l,()=>h(r,t));return Fr(p).pipe(_r())});return G(a).pipe(sa())}));return G(o).pipe(sa())}function uU(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return G(!0);let s=o.map(a=>{let u=aa(e)??i,l=ca(a,u),h=Xj(l)?l.canDeactivate(t,e,n,r):We(u,()=>l(t,e,n,r));return Fr(h).pipe(_r())});return G(s).pipe(sa())}function lU(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return G(!0);let o=i.map(s=>{let a=ca(s,t),u=Yj(a)?a.canLoad(e,n):We(t,()=>a(e,n));return Fr(u)});return G(o).pipe(sa(),zA(r))}function zA(t){return rm(rt(e=>{if(typeof e!="boolean")throw If(t,e)}),ce(e=>e===!0))}function dU(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return G(!0);let o=i.map(s=>{let a=ca(s,t),u=eU(a)?a.canMatch(e,n):We(t,()=>a(e,n));return Fr(u)});return G(o).pipe(sa(),zA(r))}var bu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Du=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Ys(t){return Ns(new bu(t))}function hU(t){return Ns(new j(4e3,!1))}function fU(t){return Ns(BA(!1,Ut.GuardRejected))}var x_=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return G(r);if(i.numberOfChildren>1||!i.children[se])return hU(`${e.redirectTo}`);i=i.children[se]}}applyRedirectCommands(e,n,r,i,o){return pU(n,i,o).pipe(ce(s=>{if(s instanceof Xn)throw new Du(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Du(a);return a}))}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Xn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ee(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function pU(t,e,n){if(typeof t=="string")return G(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return Fr(We(n,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var O_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gU(t,e,n,r,i){let o=qA(t,e,n);return o.matched?(r=Lj(e,r),dU(r,e,n,i).pipe(ce(s=>s===!0?o:O({},O_)))):G(o)}function qA(t,e,n){if(e.path==="**")return mU(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?O({},O_):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||EA)(n,t,e);if(!i)return O({},O_);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?O(O({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function mU(t){return{matched:!0,parameters:t.length>0?wA(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function yA(t,e,n,r){return n.length>0&&_U(t,n,r)?{segmentGroup:new Ee(e,vU(r,new Ee(n,t.children))),slicedSegments:[]}:n.length===0&&EU(t,n,r)?{segmentGroup:new Ee(t.segments,yU(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ee(t.segments,t.children),slicedSegments:n}}function yU(t,e,n,r){let i={};for(let o of n)if(Df(t,e,o)&&!r[Mn(o)]){let s=new Ee([],{});i[Mn(o)]=s}return O(O({},r),i)}function vU(t,e){let n={};n[se]=e;for(let r of t)if(r.path===""&&Mn(r)!==se){let i=new Ee([],{});n[Mn(r)]=i}return n}function _U(t,e,n){return n.some(r=>Df(t,e,r)&&Mn(r)!==se)}function EU(t,e,n){return n.some(r=>Df(t,e,r))}function Df(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function IU(t,e,n){return e.length===0&&!t.children[n]}var k_=class{};function wU(t,e,n,r,i,o,s="emptyOnly"){return new F_(t,e,n,r,i,s,o).recognize()}var bU=31,F_=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new x_(this.urlSerializer,this.urlTree)}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=yA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ce(({children:n,rootSnapshot:r})=>{let i=new tn(r,n),o=new Iu("",i),s=MA(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Lo([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),se,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,se,n).pipe(ce(r=>({children:r,rootSnapshot:n})),yr(r=>{if(r instanceof Du)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof bu?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(ce(s=>s instanceof tn?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ae(o).pipe(ii(s=>{let a=r.children[s],u=Vj(n,s);return this.processSegmentGroup(e,u,a,s,i)}),pm((s,a)=>(s.push(...a),s)),oi(null),fm(),Be(s=>{if(s===null)return Ys(r);let a=GA(s);return DU(a),G(a)}))}processSegment(e,n,r,i,o,s,a){return Ae(n).pipe(ii(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(yr(l=>{if(l instanceof bu)return G(null);throw l}))),_r(u=>!!u),yr(u=>{if(HA(u))return IU(r,i,o)?G(new k_):Ys(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return Mn(r)!==s&&(s===se||!Df(i,o,r))?Ys(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Ys(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=qA(n,i,o);if(!u)return Ys(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>bU&&(this.allowRedirects=!1));let y=new Lo(o,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,vA(i),Mn(i),i.component??i._loadedComponent??null,i,_A(i)),T=Ef(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(T.params),y.data=Object.freeze(T.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(kt(M=>this.applyRedirects.lineralizeSegments(i,M)),Be(M=>this.processSegment(e,r,n,M.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=gU(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(kt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(kt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,T=new Lo(m,p,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,vA(r),Mn(r),r.component??r._loadedComponent??null,r,_A(r)),R=Ef(T,s,this.paramsInheritanceStrategy);T.params=Object.freeze(R.params),T.data=Object.freeze(R.data);let{segmentGroup:M,slicedSegments:L}=yA(n,m,y,l);if(L.length===0&&M.hasChildren())return this.processChildren(h,l,M,T).pipe(ce(X=>new tn(T,X)));if(l.length===0&&L.length===0)return G(new tn(T,[]));let Z=Mn(r)===o;return this.processSegment(h,l,M,L,Z?se:o,!0,T).pipe(ce(X=>new tn(T,X instanceof tn?[X]:[])))}))):Ys(n)))}getChildConfig(e,n,r){return n.children?G({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?G({routes:n._loadedRoutes,injector:n._loadedInjector}):lU(e,n,r,this.urlSerializer).pipe(Be(i=>i?this.configLoader.loadChildren(e,n).pipe(rt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):fU(n))):G({routes:[],injector:e})}};function DU(t){t.sort((e,n)=>e.value.outlet===se?-1:n.value.outlet===se?1:e.value.outlet.localeCompare(n.value.outlet))}function CU(t){let e=t.value.routeConfig;return e&&e.path===""}function GA(t){let e=[],n=new Set;for(let r of t){if(!CU(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=GA(r.children);e.push(new tn(r.value,i))}return e.filter(r=>!n.has(r))}function vA(t){return t.data||{}}function _A(t){return t.resolve||{}}function TU(t,e,n,r,i,o){return Be(s=>wU(t,e,n,r,s.extractedUrl,i,o).pipe(ce(({state:a,tree:u})=>ee(O({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function SU(t,e){return Be(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return G(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of WA(u))s.add(l);let a=0;return Ae(s).pipe(ii(u=>o.has(u)?AU(u,r,t,e):(u.data=Ef(u,u.parent,t).resolve,G(void 0))),rt(()=>a++),xs(1),Be(u=>a===s.size?G(n):Ht))})}function WA(t){let e=t.children.map(n=>WA(n)).flat();return[t,...e]}function AU(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!VA(i)&&(o[Cu]=i.title),vc(()=>(t.data=Ef(t,t.parent,n).resolve,RU(o,t,e,r).pipe(ce(s=>(t._resolvedData=s,t.data=O(O({},t.data),s),null)))))}function RU(t,e,n,r){let i=D_(t);if(i.length===0)return G({});let o={};return Ae(i).pipe(Be(s=>NU(t[s],e,n,r).pipe(_r(),rt(a=>{if(a instanceof oa)throw If(new bi,a);o[s]=a}))),xs(1),ce(()=>o),yr(s=>HA(s)?Ht:Ns(s)))}function NU(t,e,n,r){let i=aa(e)??r,o=ca(t,i),s=o.resolve?o.resolve(e,n):We(i,()=>o(e,n));return Fr(s)}function w_(t){return kt(e=>{let n=t(e);return n?Ae(n).pipe(ce(()=>e)):G(e)})}var B_=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===se);return r}getResolvedTitleForRoute(n){return n.data[Cu]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>P(KA),providedIn:"root"})}return t})(),KA=(()=>{class t extends B_{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(z(hA))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ti=new U("",{providedIn:"root",factory:()=>({})}),Bo=new U(""),Cf=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=P(zv);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return G(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Fr(We(n,()=>r.loadComponent())).pipe(ce(YA),kt(ZA),rt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),_c(()=>{this.componentLoaders.delete(r)})),o=new Ts(i,()=>new Ue).pipe(Cs());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=QA(r,this.compiler,n,this.onLoadEndListener).pipe(_c(()=>{this.childrenLoaders.delete(r)})),s=new Ts(o,()=>new Ue).pipe(Cs());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function QA(t,e,n,r){return Fr(We(n,()=>t.loadChildren())).pipe(ce(YA),kt(ZA),Be(i=>i instanceof Ah||Array.isArray(i)?G(i):Ae(e.compileModuleAsync(i))),ce(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Bo,[],{optional:!0,self:!0}).flat()),{routes:s.map(U_),injector:o}}))}function MU(t){return t&&typeof t=="object"&&"default"in t}function YA(t){return MU(t)?t.default:t}function ZA(t){return G(t)}var Tf=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>P(PU),providedIn:"root"})}return t})(),PU=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$_=new U(""),H_=new U("");function JA(t,e,n){let r=t.get(H_),i=t.get(He);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),xU(t)));a.ready.catch(l=>{});let{onViewTransitionCreated:u}=r;return u&&We(t,()=>u({transition:a,from:e,to:n})),s}function xU(t){return new Promise(e=>{Nh({read:()=>setTimeout(e)},{injector:t})})}var z_=new U(""),Sf=(()=>{class t{currentNavigation=dn(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Ue;transitionAbortWithErrorSubject=new Ue;configLoader=P(Cf);environmentInjector=P($e);destroyRef=P(Hn);urlSerializer=P(jo);rootContexts=P(Uo);location=P(Ii);inputBindingEnabled=P(Su,{optional:!0})!==null;titleStrategy=P(B_);options=P(Ti,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=P(Tf);createViewTransition=P($_,{optional:!0});navigationErrorHandler=P(z_,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>G(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new hf(i)),r=i=>this.events.next(new ff(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;ot(()=>{this.transitions?.next(ee(O({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(n){return this.transitions=new tt(null),this.transitions.pipe(qt(r=>r!==null),kt(r=>{let i=!1;return G(r).pipe(kt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ut.SupersededByNewNavigation),Ht;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ee(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new er(o.id,this.urlSerializer.serialize(o.rawUrl),"",ta.IgnoredSameUrlNavigation)),o.resolve(!1),Ht;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return G(o).pipe(kt(u=>(this.events.next(new Ci(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Ht:Promise.resolve(u))),TU(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),rt(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let l=new vu(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:m}=o,y=new Ci(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let T=FA(this.rootComponentType).snapshot;return this.currentTransition=r=ee(O({},o),{targetSnapshot:T,urlAfterRedirects:l,extras:ee(O({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(R=>(R.finalUrl=l,R)),G(r)}else return this.events.next(new er(o.id,this.urlSerializer.serialize(o.extractedUrl),"",ta.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Ht}),rt(o=>{let s=new cf(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),ce(o=>(this.currentTransition=r=ee(O({},o),{guards:qj(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),nU(this.environmentInjector,o=>this.events.next(o)),rt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw If(this.urlSerializer,o.guardsResult);let s=new uf(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),qt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Ut.GuardRejected),!1)),w_(o=>{if(o.guards.canActivateChecks.length!==0)return G(o).pipe(rt(s=>{let a=new lf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),kt(s=>{let a=!1;return G(s).pipe(SU(this.paramsInheritanceStrategy,this.environmentInjector),rt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Ut.NoDataFromResolver)}}))}),rt(s=>{let a=new df(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),w_(o=>{let s=a=>{let u=[];if(a.routeConfig?.loadComponent){let l=aa(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(rt(h=>{a.component=h}),ce(()=>{})))}for(let l of a.children)u.push(...s(l));return u};return yc(s(o.targetSnapshot.root)).pipe(oi(null),vr(1))}),w_(()=>this.afterPreactivation()),kt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Ae(a).pipe(ce(()=>r)):G(r)}),ce(o=>{let s=Uj(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ee(O({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),rt(()=>{this.events.next(new _u)}),zj(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),vr(1),Ad(new oe(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(qt(()=>!i&&!r.targetRouterState),rt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Ut.Aborted)}))),rt({next:o=>{i=!0,this.lastSuccessfulNavigation=ot(this.currentNavigation),this.events.next(new mn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Ad(this.transitionAbortWithErrorSubject.pipe(rt(o=>{throw o}))),_c(()=>{i||this.cancelNavigationTransition(r,"",Ut.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),yr(o=>{if(this.destroyed)return r.resolve(!1),Ht;if(i=!0,$A(o))this.events.next(new Jn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),Hj(o)?this.events.next(new ia(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new na(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=We(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof oa){let{message:u,cancellationCode:l}=If(this.urlSerializer,a);this.events.next(new Jn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new ia(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Ht}))}))}cancelNavigationTransition(n,r,i){let o=new Jn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=ot(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function OU(t){return t!==Xs}var XA=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>P(kU),providedIn:"root"})}return t})(),bf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},kU=(()=>{class t extends bf{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ar(t)))(i||t)}})();static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),eR=(()=>{class t{urlSerializer=P(jo);options=P(Ti,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=P(Ii);urlHandlingStrategy=P(Tf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Xn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof Xn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=FA(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>P(FU),providedIn:"root"})}return t})(),FU=(()=>{class t extends eR{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Ci?this.updateStateMemento():n instanceof er?this.commitTransition(r):n instanceof vu?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof _u?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Jn&&n.code!==Ut.SupersededByNewNavigation&&n.code!==Ut.Redirect?this.restoreHistory(r):n instanceof na?this.restoreHistory(r,!0):n instanceof mn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,u=O(O({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",u)}else{let a=O(O({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ar(t)))(i||t)}})();static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Af(t,e){t.events.pipe(qt(n=>n instanceof mn||n instanceof Jn||n instanceof na||n instanceof er),ce(n=>n instanceof mn||n instanceof er?0:(n instanceof Jn?n.code===Ut.Redirect||n.code===Ut.SupersededByNewNavigation:!1)?2:1),qt(n=>n!==2),vr(1)).subscribe(()=>{e()})}var LU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},VU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Rt=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=P(Ov);stateManager=P(eR);options=P(Ti,{optional:!0})||{};pendingTasks=P(zn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=P(Sf);urlSerializer=P(jo);location=P(Ii);urlHandlingStrategy=P(Tf);injector=P($e);_events=new Ue;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=P(XA);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=P(Bo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!P(Su,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ke;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=ot(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Jn&&r.code!==Ut.Redirect&&r.code!==Ut.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof mn)this.navigated=!0;else if(r instanceof ia){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=O({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||OU(i.source)},s);this.scheduleNavigation(a,Xs,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Fj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Xs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=O({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(Vt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return ot(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(U_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=PA(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return xA(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Di(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Xs,null,r)}navigate(n,r={skipLocationChange:!1}){return jU(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=O({},LU):r===!1?i=O({},VU):i=r,Di(n))return fA(this.currentUrlTree,n,i);let o=this.parseUrl(n);return fA(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return Af(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jU(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new j(4008,!1)}var ua=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=dn(null);get href(){return ot(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ue;applicationErrorHandler=P(Vt);options=P(Ti,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(P(new kh("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof mn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Di(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Di(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(Q(Rt),Q(tr),Wc("tabindex"),Q(mi),Q(hn),Q(Rn))};static \u0275dir=ze({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&ft("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&No("href",i.reactiveHref(),lv)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",xr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",xr],replaceUrl:[2,"replaceUrl","replaceUrl",xr],routerLink:"routerLink"},features:[Sr]})}return t})();var Ru=class{};var tR=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,i,o){this.router=n,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(qt(n=>n instanceof mn),ii(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ks(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ae(i).pipe(Ms())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=G(null);let o=i.pipe(Be(s=>s===null?G(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(n,r);return Ae([o,s]).pipe(Ms())}else return o})}static \u0275fac=function(r){return new(r||t)(z(Rt),z($e),z(Ru),z(Cf))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),nR=new U(""),UU=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Xs;restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ci?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof mn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof er&&n.code===ta.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ra&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>v(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new ra(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Sv()};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();function G_(t,...e){return Gt([{provide:Bo,multi:!0,useValue:t},[],{provide:tr,useFactory:rR,deps:[Rt]},{provide:Yc,multi:!0,useFactory:iR},e.map(n=>n.\u0275providers)])}function rR(t){return t.routerState.root}function Nu(t,e){return{\u0275kind:t,\u0275providers:e}}function iR(){let t=P(Fe);return e=>{let n=t.get(vi);if(e!==n.components[0])return;let r=t.get(Rt),i=t.get(oR);t.get(W_)===1&&r.initialNavigation(),t.get(cR,null,{optional:!0})?.setUpPreloading(),t.get(nR,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var oR=new U("",{factory:()=>new Ue}),W_=new U("",{providedIn:"root",factory:()=>1});function sR(){let t=[{provide:av,useValue:!0},{provide:W_,useValue:0},Mh(()=>{let e=P(Fe);return e.get(n_,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(Rt),o=e.get(oR);Af(i,()=>{r(!0)}),e.get(Sf).afterPreactivation=()=>(r(!0),o.closed?G(void 0):o),i.initialNavigation()}))})];return Nu(2,t)}function aR(){let t=[Mh(()=>{P(Rt).setUpLocationChangeListener()}),{provide:W_,useValue:2}];return Nu(3,t)}var cR=new U("");function uR(t){return Nu(0,[{provide:cR,useExisting:tR},{provide:Ru,useExisting:t}])}function lR(){return Nu(8,[V_,{provide:Su,useExisting:V_}])}function dR(t){Ao("NgRouterViewTransitions");let e=[{provide:$_,useValue:JA},{provide:H_,useValue:O({skipNextTransition:!!t?.skipInitialTransition},t)}];return Nu(9,e)}var hR=[Ii,{provide:jo,useClass:bi},Rt,Uo,{provide:tr,useFactory:rR,deps:[Rt]},Cf,[]],Mu=(()=>{class t{constructor(){}static forRoot(n,r){return{ngModule:t,providers:[hR,[],{provide:Bo,multi:!0,useValue:n},[],r?.errorHandler?{provide:z_,useValue:r.errorHandler}:[],{provide:Ti,useValue:r||{}},r?.useHash?$U():HU(),BU(),r?.preloadingStrategy?uR(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?zU(r):[],r?.bindToComponentInputs?lR().\u0275providers:[],r?.enableViewTransitions?dR().\u0275providers:[],qU()]}}static forChild(n){return{ngModule:t,providers:[{provide:Bo,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Wn({type:t});static \u0275inj=wn({})}return t})();function BU(){return{provide:nR,useFactory:()=>{let t=P(rA),e=P(_e),n=P(Ti),r=P(Sf),i=P(jo);return n.scrollOffset&&t.setOffset(n.scrollOffset),new UU(i,r,t,e,n)}}}function $U(){return{provide:Rn,useClass:s_}}function HU(){return{provide:Rn,useClass:Uh}}function zU(t){return[t.initialNavigation==="disabled"?aR().\u0275providers:[],t.initialNavigation==="enabledBlocking"?sR().\u0275providers:[]]}var q_=new U("");function qU(){return[{provide:q_,useFactory:iR},{provide:Yc,multi:!0,useExisting:q_}]}var fR=()=>{};var mR=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},GU=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Rf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Y_;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let T=l<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Y_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},WU=function(t){let e=mR(t);return Rf.encodeByteArray(e,!0)},xu=function(t){return WU(t).replace(/\./g,"")},Nf=function(t){try{return Rf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function J_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var KU=()=>J_().__FIREBASE_DEFAULTS__,QU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Nf(t[1]);return e&&JSON.parse(e)},Mf=()=>{try{return fR()||KU()||QU()||YU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},X_=t=>{var e,n;return(n=(e=Mf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},yR=t=>{let e=X_(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},eE=()=>{var t;return(t=Mf())===null||t===void 0?void 0:t.config},tE=t=>{var e;return(e=Mf())===null||e===void 0?void 0:e[`_${t}`]};var $o=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Si(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}function Pf(t){return v(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function vR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xu(JSON.stringify(n)),xu(JSON.stringify(s)),""].join(".")}var Pu={};function ZU(){let t={prod:[],emulator:[]};for(let e of Object.keys(Pu))Pu[e]?t.emulator.push(e):t.prod.push(e);return t}function JU(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var pR=!1;function xf(t,e){if(typeof window>"u"||typeof document>"u"||!Si(window.location.host)||Pu[t]===e||Pu[t]||pR)return;Pu[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=ZU().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{pR=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=JU(r),y=n("text"),T=document.getElementById(y)||document.createElement("span"),R=n("learnmore"),M=document.getElementById(R)||document.createElement("a"),L=n("preprendIcon"),Z=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let X=m.element;a(X),h(M,R);let Te=l();u(Z,L),X.append(Z,T,M,Te),document.body.appendChild(X)}o?(T.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function st(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _R(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(st())}function XU(){var t;let e=(t=Mf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ER(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IR(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bR(){let t=st();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function DR(){return!XU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ou(){try{return typeof indexedDB=="object"}catch{return!1}}function CR(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var eB="FirebaseError",rn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eB,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pn.prototype.create)}},Pn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?tB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new rn(i,a,r)}};function tB(t,e){return t.replace(nB,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var nB=/\{\$([^}]+)}/g;function TR(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function nr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(gR(o)&&gR(s)){if(!nr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function gR(t){return t!==null&&typeof t=="object"}function ku(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function la(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function da(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function SR(t,e){let n=new Z_(t,e);return n.subscribe.bind(n)}var Z_=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Q_),i.error===void 0&&(i.error=Q_),i.complete===void 0&&(i.complete=Q_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function rB(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Q_(){}var Die=14400*1e3;function pt(t){return t&&t._delegate?t._delegate:t}var Bt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ho="[DEFAULT]";var nE=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new $o;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oB(e))try{this.getOrInitializeService({instanceIdentifier:Ho})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ho){return this.instances.has(e)}getOptions(e=Ho){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ho){return this.component?this.component.multipleInstances?e:Ho:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function iB(t){return t===Ho?void 0:t}function oB(t){return t.instantiationMode==="EAGER"}var Of=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new nE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var sB=[],de=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(de||{}),aB={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},cB=de.INFO,uB={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},lB=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=uB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},rr=class{constructor(e){this.name=e,this._logLevel=cB,this._logHandler=lB,this._userLogHandler=null,sB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}};var dB=(t,e)=>e.some(n=>t instanceof n),AR,RR;function hB(){return AR||(AR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fB(){return RR||(RR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var NR=new WeakMap,iE=new WeakMap,MR=new WeakMap,rE=new WeakMap,sE=new WeakMap;function pB(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(ir(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&NR.set(n,t)}).catch(()=>{}),sE.set(e,t),e}function gB(t){if(iE.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});iE.set(t,e)}var oE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return iE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||MR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ir(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PR(t){oE=t(oE)}function mB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(kf(this),e,...n);return MR.set(r,e.sort?e.sort():[e]),ir(r)}:fB().includes(t)?function(...e){return t.apply(kf(this),e),ir(NR.get(this))}:function(...e){return ir(t.apply(kf(this),e))}}function yB(t){return typeof t=="function"?mB(t):(t instanceof IDBTransaction&&gB(t),dB(t,hB())?new Proxy(t,oE):t)}function ir(t){if(t instanceof IDBRequest)return pB(t);if(rE.has(t))return rE.get(t);let e=yB(t);return e!==t&&(rE.set(t,e),sE.set(e,t)),e}var kf=t=>sE.get(t);function OR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=ir(s);return r&&s.addEventListener("upgradeneeded",u=>{r(ir(s.result),u.oldVersion,u.newVersion,ir(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var vB=["get","getKey","getAll","getAllKeys","count"],_B=["put","add","delete","clear"],aE=new Map;function xR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(aE.get(e))return aE.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=_B.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||vB.includes(n)))return;let o=function(s,...a){return v(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return aE.set(e,o),o}PR(t=>ee(O({},t),{get:(e,n,r)=>xR(e,n)||t.get(e,n,r),has:(e,n)=>!!xR(e,n)||t.has(e,n)}));var uE=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EB(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function EB(t){let e=t.getComponent();return e?.type==="VERSION"}var lE="@firebase/app",kR="0.13.2";var Lr=new rr("@firebase/app"),IB="@firebase/app-compat",wB="@firebase/analytics-compat",bB="@firebase/analytics",DB="@firebase/app-check-compat",CB="@firebase/app-check",TB="@firebase/auth",SB="@firebase/auth-compat",AB="@firebase/database",RB="@firebase/data-connect",NB="@firebase/database-compat",MB="@firebase/functions",PB="@firebase/functions-compat",xB="@firebase/installations",OB="@firebase/installations-compat",kB="@firebase/messaging",FB="@firebase/messaging-compat",LB="@firebase/performance",VB="@firebase/performance-compat",jB="@firebase/remote-config",UB="@firebase/remote-config-compat",BB="@firebase/storage",$B="@firebase/storage-compat",HB="@firebase/firestore",zB="@firebase/ai",qB="@firebase/firestore-compat",GB="firebase",WB="11.10.0";var dE="[DEFAULT]",KB={[lE]:"fire-core",[IB]:"fire-core-compat",[bB]:"fire-analytics",[wB]:"fire-analytics-compat",[CB]:"fire-app-check",[DB]:"fire-app-check-compat",[TB]:"fire-auth",[SB]:"fire-auth-compat",[AB]:"fire-rtdb",[RB]:"fire-data-connect",[NB]:"fire-rtdb-compat",[MB]:"fire-fn",[PB]:"fire-fn-compat",[xB]:"fire-iid",[OB]:"fire-iid-compat",[kB]:"fire-fcm",[FB]:"fire-fcm-compat",[LB]:"fire-perf",[VB]:"fire-perf-compat",[jB]:"fire-rc",[UB]:"fire-rc-compat",[BB]:"fire-gcs",[$B]:"fire-gcs-compat",[HB]:"fire-fst",[qB]:"fire-fst-compat",[zB]:"fire-vertex","fire-js":"fire-js",[GB]:"fire-js-all"};var Fu=new Map,QB=new Map,hE=new Map;function FR(t,e){try{t.container.addComponent(e)}catch(n){Lr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xn(t){let e=t.name;if(hE.has(e))return Lr.debug(`There were multiple attempts to register component ${e}.`),!1;hE.set(e,t);for(let n of Fu.values())FR(n,t);for(let n of QB.values())FR(n,t);return!0}function ha(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Qt(t){return t==null?!1:t.settings!==void 0}var YB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ai=new Pn("app","Firebase",YB);var fE=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}};var Ri=WB;function mE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:dE,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ai.create("bad-app-name",{appName:String(i)});if(n||(n=eE()),!n)throw Ai.create("no-options");let o=Fu.get(i);if(o){if(nr(n,o.options)&&nr(r,o.config))return o;throw Ai.create("duplicate-app",{appName:i})}let s=new Of(i);for(let u of hE.values())s.addComponent(u);let a=new fE(n,r,s);return Fu.set(i,a),a}function zo(t=dE){let e=Fu.get(t);if(!e&&t===dE&&eE())return mE();if(!e)throw Ai.create("no-app",{appName:t});return e}function Ff(){return Array.from(Fu.values())}function Ve(t,e,n){var r;let i=(r=KB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lr.warn(a.join(" "));return}xn(new Bt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var ZB="firebase-heartbeat-database",JB=1,Lu="firebase-heartbeat-store",cE=null;function UR(){return cE||(cE=OR(ZB,JB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ai.create("idb-open",{originalErrorMessage:t.message})})),cE}function XB(t){return v(this,null,function*(){try{let n=(yield UR()).transaction(Lu),r=yield n.objectStore(Lu).get(BR(t));return yield n.done,r}catch(e){if(e instanceof rn)Lr.warn(e.message);else{let n=Ai.create("idb-get",{originalErrorMessage:e?.message});Lr.warn(n.message)}}})}function LR(t,e){return v(this,null,function*(){try{let r=(yield UR()).transaction(Lu,"readwrite");yield r.objectStore(Lu).put(e,BR(t)),yield r.done}catch(n){if(n instanceof rn)Lr.warn(n.message);else{let r=Ai.create("idb-set",{originalErrorMessage:n?.message});Lr.warn(r.message)}}})}function BR(t){return`${t.name}!${t.options.appId}`}var e$=1024,t$=30,pE=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new gE(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=VR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>t$){let s=r$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Lr.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=VR(),{heartbeatsToSend:r,unsentEntries:i}=n$(this._heartbeatsCache.heartbeats),o=xu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Lr.warn(n),""}})}};function VR(){return new Date().toISOString().substring(0,10)}function n$(t,e=e$){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),jR(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var gE=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return Ou()?CR().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield XB(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return LR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return LR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function jR(t){return xu(JSON.stringify({version:2,heartbeats:t})).length}function r$(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function i$(t){xn(new Bt("platform-logger",e=>new uE(e),"PRIVATE")),xn(new Bt("heartbeat",e=>new pE(e),"PRIVATE")),Ve(lE,kR,t),Ve(lE,kR,"esm2017"),Ve("fire-js","")}i$("");var o$="firebase",s$="11.10.0";Ve(o$,s$,"app");function $R(t){t===void 0&&(t=P(Fe));let e=t.get(Bs);return n=>new oe(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Ni=new xo("ANGULARFIRE2_VERSION");function Vu(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var pa=(t,e)=>{let n=e?[e]:Ff(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},fa=(function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t})(fa||{}),HR=Xv()&&typeof Zone<"u"?fa.WARN:fa.SILENT;var Lf=class{zone;delegate;constructor(e,n=um){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Mi=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=P(_e);this.outsideAngular=n.runOutsideAngular(()=>new Lf(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Lf(typeof Zone>"u"?void 0:Zone.current,cm))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),zR=!1;function a$(t,e){!zR&&(HR>fa.SILENT||Xv())&&(zR=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),HR>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function c$(t){let e=P(_e,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function qo(t){let e=P(_e,{optional:!0});return e?e.run(()=>t()):t()}var u$=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),We(n,()=>qo(()=>t.apply(void 0,r)))),at=(t,e,n)=>(n||=e?fa.WARN:fa.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=P(Mi),s=P(Bs),a=P($e)}catch{return a$(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=qo(()=>s.add())),i[l]=u$(i[l],r,a));let u=c$(()=>t.apply(this,i));return e?u instanceof oe?u.pipe(ri(o.outsideAngular),ni(o.insideAngular),$R(a)):u instanceof Promise?qo(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>We(a,()=>qo(()=>h(m))),m=>We(a,()=>qo(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:qo(()=>u):u instanceof oe?u.pipe(ri(o.outsideAngular),ni(o.insideAngular)):qo(()=>u)});var Vr=class{constructor(e){return e}},Go=class{constructor(){return Ff()}};function l$(t){return t&&t.length===1?t[0]:new Vr(zo())}var yE=new U("angularfire2._apps"),d$={provide:Vr,useFactory:l$,deps:[[new Wt,yE]]},h$={provide:Go,deps:[[new Wt,yE]]};function f$(t){return(e,n)=>{let r=n.get(gi);Ve("angularfire",Ni.full,"core"),Ve("angularfire",Ni.full,"app"),Ve("angular",xS.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Vr(i)}}function qR(t,...e){return Gt([d$,h$,{provide:yE,useFactory:f$(t),multi:!0,deps:[_e,Fe,Mi,...e]}])}var GR=at(mE,!0);var p$=new Map,g$={activated:!1,tokenObservers:[]},m$={initialized:!1,enabled:!1};function On(t){return p$.get(t)||Object.assign({},g$)}function YR(){return m$}var y$="https://content-firebaseappcheck.googleapis.com/v1";var v$="exchangeDebugToken",WR={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Soe=1440*60*1e3;var EE=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return v(this,null,function*(){this.stop();try{this.pending=new $o,this.pending.promise.catch(n=>{}),yield _$(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new $o,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function _$(t){return new Promise(e=>{setTimeout(e,t)})}var E$={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Pi=new Pn("appCheck","AppCheck",E$);function ZR(t){if(!On(t).activated)throw Pi.create("use-before-activation",{appName:t.name})}function JR(r,i){return v(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,a)}catch(y){throw Pi.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw Pi.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw Pi.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Pi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function XR(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${y$}/projects/${n}/apps/${r}:${v$}?key=${i}`,body:{debug_token:e}}}var I$="firebase-app-check-database",w$=1,IE="firebase-app-check-store";var Vf=null;function b$(){return Vf||(Vf=new Promise((t,e)=>{try{let n=indexedDB.open(I$,w$);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Pi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(IE,{keyPath:"compositeKey"})}}}catch(n){e(Pi.create("storage-open",{originalErrorMessage:n?.message}))}}),Vf)}function D$(t,e){return C$(T$(t),e)}function C$(t,e){return v(this,null,function*(){let r=(yield b$()).transaction(IE,"readwrite"),o=r.objectStore(IE).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Pi.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function T$(t){return`${t.options.appId}-${t.name}`}var ju=new rr("@firebase/app-check");function vE(t,e){return Ou()?D$(t,e).catch(n=>{ju.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function eN(){return YR().enabled}function tN(){return v(this,null,function*(){let t=YR();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var S$={error:"UNKNOWN_ERROR"};function A$(t){return Rf.encodeString(JSON.stringify(t),!1)}function wE(t,e=!1,n=!1){return v(this,null,function*(){let r=t.app;ZR(r);let i=On(r),o=i.token,s;if(o&&!Uu(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Uu(l)?o=l:yield vE(r,void 0))}if(!e&&o&&Uu(o))return{token:o.token};let a=!1;if(eN())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=JR(XR(r,yield tN()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield vE(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?ju.warn(l.message):n&&ju.error(l),_E(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield On(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?ju.warn(l.message):n&&ju.error(l),s=l}let u;return o?s?Uu(o)?u={token:o.token,internalError:s}:u=_E(s):(u={token:o.token},i.token=o,yield vE(r,o)):u=_E(s),a&&P$(r,u),u})}function R$(t){return v(this,null,function*(){let e=t.app;ZR(e);let{provider:n}=On(e);if(eN()){let r=yield tN(),{token:i}=yield JR(XR(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function N$(t,e,n,r){let{app:i}=t,o=On(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Uu(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),KR(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>KR(t))}function nN(t,e){let n=On(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function KR(t){let{app:e}=t,n=On(e),r=n.tokenRefresher;r||(r=M$(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function M$(t){let{app:e}=t;return new EE(()=>v(null,null,function*(){let n=On(e),r;if(n.token?r=yield wE(t,!0):r=yield wE(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=On(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},WR.RETRIAL_MIN_WAIT,WR.RETRIAL_MAX_WAIT)}function P$(t,e){let n=On(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Uu(t){return t.expireTimeMillis-Date.now()>0}function _E(t){return{token:A$(S$),error:t}}var bE=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=On(this.app);for(let n of e)nN(this.app,n.next);return Promise.resolve()}};function x$(t,e){return new bE(t,e)}function O$(t){return{getToken:e=>wE(t,e),getLimitedUseToken:()=>R$(t),addTokenListener:e=>N$(t,"INTERNAL",e),removeTokenListener:e=>nN(t.app,e)}}var k$="@firebase/app-check",F$="0.10.1";var L$="app-check",QR="app-check-internal";function V$(){xn(new Bt(L$,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return x$(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(QR).initialize()})),xn(new Bt(QR,t=>{let e=t.getProvider("app-check").getImmediate();return O$(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ve(k$,F$)}V$();var j$="app-check";var ga=class{constructor(){return pa(j$)}};var U$=["localhost","0.0.0.0","127.0.0.1"],Uoe=typeof window<"u"&&U$.includes(window.location.hostname);function vN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var _N=vN,EN=new Pn("auth","Firebase",vN());var zf=new rr("@firebase/auth");function B$(t,...e){zf.logLevel<=de.WARN&&zf.warn(`Auth (${Ri}): ${t}`,...e)}function Uf(t,...e){zf.logLevel<=de.ERROR&&zf.error(`Auth (${Ri}): ${t}`,...e)}function sr(t,...e){throw KE(t,...e)}function Wo(t,...e){return KE(t,...e)}function IN(t,e,n){let r=Object.assign(Object.assign({},_N()),{[e]:n});return new Pn("auth","Firebase",r).create(e,{appName:t.name})}function Br(t){return IN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KE(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return EN.create(t,...e)}function Y(t,e,...n){if(!t)throw KE(e,...n)}function jr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Uf(e),new Error(e)}function ki(t,e){t||jr(e)}function SE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $$(){return rN()==="http:"||rN()==="https:"}function rN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function H$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($$()||IR()||"connection"in navigator)?navigator.onLine:!0}function z$(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ko=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ki(n>e,"Short delay should be less than long delay!"),this.isMobile=_R()||wR()}get(){return H$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function QE(t,e){ki(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var qf=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var q$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var G$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],W$=new Ko(3e4,6e4);function Fi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Li(o,s,a,u){return v(this,arguments,function*(t,e,n,r,i={}){return wN(t,i,()=>v(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=ku(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return ER()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&Si(t.emulatorConfig.host)&&(y.credentials="include"),qf.fetch()(yield bN(t,t.config.apiHost,n,p),y)}))})}function wN(t,e,n){return v(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},q$),e);try{let i=new AE(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw jf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw jf(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw jf(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw jf(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw IN(t,h,l);sr(t,h)}}catch(i){if(i instanceof rn)throw i;sr(t,"network-request-failed",{message:String(i)})}})}function Qu(o,s,a,u){return v(this,arguments,function*(t,e,n,r,i={}){let l=yield Li(t,e,n,r,i);return"mfaPendingCredential"in l&&sr(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function bN(t,e,n,r){return v(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?QE(t.config,i):`${t.config.apiScheme}://${i}`;return G$.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function K$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var AE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wo(this.auth,"network-request-failed")),W$.get())})}};function jf(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Wo(t,e,r);return i.customData._tokenResponse=n,i}function iN(t){return t!==void 0&&t.enterprise!==void 0}var RE=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return K$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function Q$(t,e){return v(this,null,function*(){return Li(t,"GET","/v2/recaptchaConfig",Fi(t,e))})}function Y$(t,e){return v(this,null,function*(){return Li(t,"POST","/v1/accounts:delete",e)})}function Gf(t,e){return v(this,null,function*(){return Li(t,"POST","/v1/accounts:lookup",e)})}function $u(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function YE(t,e=!1){return v(this,null,function*(){let n=pt(t),r=yield n.getIdToken(e),i=ZE(r);Y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:$u(DE(i.auth_time)),issuedAtTime:$u(DE(i.iat)),expirationTime:$u(DE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function DE(t){return Number(t)*1e3}function ZE(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Uf("JWT malformed, contained fewer than 3 sections"),null;try{let i=Nf(n);return i?JSON.parse(i):(Uf("Failed to decode base64 JWT payload"),null)}catch(i){return Uf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function oN(t){let e=ZE(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function zu(t,e,n=!1){return v(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof rn&&Z$(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function Z$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var NE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),n)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var qu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$u(this.lastLoginAt),this.creationTime=$u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Wf(t){return v(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield zu(t,Gf(n,{idToken:r}));Y(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?DN(o.providerUserInfo):[],a=J$(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new qu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function JE(t){return v(this,null,function*(){let e=pt(t);yield Wf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function J$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function DN(t){return t.map(e=>{var{providerId:n}=e,r=lm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function X$(t,e){return v(this,null,function*(){let n=yield wN(t,{},()=>v(null,null,function*(){let r=ku({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield bN(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return t.emulatorConfig&&Si(t.emulatorConfig.host)&&(u.credentials="include"),qf.fetch()(s,u)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function eH(t,e){return v(this,null,function*(){return Li(t,"POST","/v2/accounts:revokeToken",Fi(t,e))})}var Hu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Y(e.length!==0,"internal-error");let n=oN(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return v(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield X$(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Y(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Y(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return jr("not implemented")}};function xi(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Oi=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=lm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new NE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new qu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let n=yield zu(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return YE(this,e)}reload(){return JE(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Wf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(Qt(this.auth.app))return Promise.reject(Br(this.auth));let e=yield this.getIdToken();return yield zu(this,Y$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,T=(s=n.photoURL)!==null&&s!==void 0?s:void 0,R=(a=n.tenantId)!==null&&a!==void 0?a:void 0,M=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,L=(l=n.createdAt)!==null&&l!==void 0?l:void 0,Z=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:X,emailVerified:Te,isAnonymous:Pt,providerData:be,stsTokenManager:b}=n;Y(X&&b,e,"internal-error");let _=Hu.fromJSON(this.name,b);Y(typeof X=="string",e,"internal-error"),xi(p,e.name),xi(m,e.name),Y(typeof Te=="boolean",e,"internal-error"),Y(typeof Pt=="boolean",e,"internal-error"),xi(y,e.name),xi(T,e.name),xi(R,e.name),xi(M,e.name),xi(L,e.name),xi(Z,e.name);let I=new t({uid:X,auth:e,email:m,emailVerified:Te,displayName:p,isAnonymous:Pt,photoURL:T,phoneNumber:y,tenantId:R,stsTokenManager:_,createdAt:L,lastLoginAt:Z});return be&&Array.isArray(be)&&(I.providerData=be.map(w=>Object.assign({},w))),M&&(I._redirectEventId=M),I}static _fromIdTokenResponse(e,n,r=!1){return v(this,null,function*(){let i=new Hu;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Wf(o),o})}static _fromGetAccountInfoResponse(e,n,r){return v(this,null,function*(){let i=n.users[0];Y(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?DN(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Hu;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new qu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var sN=new Map;function Ur(t){ki(t instanceof Function,"Expected a class definition");let e=sN.get(t);return e?(ki(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sN.set(t,e),e)}var tH=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(n,r){return v(this,null,function*(){this.storage[n]=r})}_get(n){return v(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return v(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),ME=tH;function Bf(t,e,n){return`firebase:${t}:${e}:${n}`}var Kf=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Bf(this.userKey,i.apiKey,o),this.fullPersistenceKey=Bf("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Gf(this.auth,{idToken:e}).catch(()=>{});return n?Oi._fromGetAccountInfoResponse(this.auth,n,e):null}return Oi._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(this,null,function*(){if(!n.length)return new t(Ur(ME),e,r);let i=(yield Promise.all(n.map(l=>v(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Ur(ME),s=Bf(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield Gf(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield Oi._fromGetAccountInfoResponse(e,m,h)}else p=Oi._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>v(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function aN(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NN(e))return"Blackberry";if(MN(e))return"Webos";if(TN(e))return"Safari";if((e.includes("chrome/")||SN(e))&&!e.includes("edge/"))return"Chrome";if(RN(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function CN(t=st()){return/firefox\//i.test(t)}function TN(t=st()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SN(t=st()){return/crios\//i.test(t)}function AN(t=st()){return/iemobile/i.test(t)}function RN(t=st()){return/android/i.test(t)}function NN(t=st()){return/blackberry/i.test(t)}function MN(t=st()){return/webos/i.test(t)}function XE(t=st()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nH(t=st()){var e;return XE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rH(){return bR()&&document.documentMode===10}function PN(t=st()){return XE(t)||RN(t)||MN(t)||NN(t)||/windows phone/i.test(t)||AN(t)}function xN(t,e=[]){let n;switch(t){case"Browser":n=aN(st());break;case"Worker":n=`${aN(st())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ri}/${r}`}var PE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function iH(n){return v(this,arguments,function*(t,e={}){return Li(t,"GET","/v2/passwordPolicy",Fi(t,e))})}var oH=6,xE=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:oH,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var OE=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qf(this),this.idTokenSubscription=new Qf(this),this.beforeStateQueue=new PE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ur(n)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Kf.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let n=yield Gf(this,{idToken:e}),r=yield Oi._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var n;if(Qt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield Wf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=z$()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(Qt(this.app))return Promise.reject(Br(this));let n=e?pt(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return v(this,null,function*(){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return Qt(this.app)?Promise.reject(Br(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Qt(this.app)?Promise.reject(Br(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(Ur(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield iH(this),n=new xE(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield eH(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Ur(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=yield Kf.create(this,[Ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return v(this,null,function*(){var e;if(Qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&B$(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Yo(t){return pt(t)}var Qf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=SR(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var np={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sH(t){np=t}function ON(t){return np.loadJS(t)}function aH(){return np.recaptchaEnterpriseScript}function cH(){return np.gapiScript}function kN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var kE=class{constructor(){this.enterprise=new FE}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},FE=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var uH="recaptcha-enterprise",FN="NO_RECAPTCHA",LE=class{constructor(e){this.type=uH,this.auth=Yo(e)}verify(e="verify",n=!1){return v(this,null,function*(){function r(o){return v(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>v(null,null,function*(){Q$(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new RE(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;iN(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(FN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kE().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&iN(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=aH();u.length!==0&&(u+=a),ON(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function Bu(t,e,n,r=!1,i=!1){return v(this,null,function*(){let o=new LE(t),s;if(i)s=FN;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}let a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function VE(t,e,n,r,i){return v(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Bu(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(a=>v(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield Bu(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Bu(t,e,n);return r(t,a).catch(u=>v(null,null,function*(){var l;if(((l=t._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let h=yield Bu(t,e,n,!1,!0);return r(t,h)}return Promise.reject(u)}))}else{let a=yield Bu(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")})}function eI(t,e){let n=ha(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(nr(o,e??{}))return i;sr(i,"already-initialized")}return n.initialize({options:e})}function lH(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ur);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function tI(t,e,n){let r=Yo(t);Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=LN(e),{host:s,port:a}=dH(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Y(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Y(nr(l,r.config.emulator)&&nr(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Si(s)?(Pf(`${o}//${s}${u}`),xf("Auth",!0)):i||hH()}function LN(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function dH(t){let e=LN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:cN(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:cN(s)}}}function cN(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function hH(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Gu=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jr("not implemented")}_getIdTokenResponse(e){return jr("not implemented")}_linkToIdToken(e,n){return jr("not implemented")}_getReauthenticationResolver(e){return jr("not implemented")}};function fH(t,e){return v(this,null,function*(){return Li(t,"POST","/v1/accounts:signUp",e)})}function pH(t,e){return v(this,null,function*(){return Qu(t,"POST","/v1/accounts:signInWithPassword",Fi(t,e))})}function gH(t,e){return v(this,null,function*(){return Qu(t,"POST","/v1/accounts:signInWithEmailLink",Fi(t,e))})}function mH(t,e){return v(this,null,function*(){return Qu(t,"POST","/v1/accounts:signInWithEmailLink",Fi(t,e))})}var Wu=class t extends Gu{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return VE(e,n,"signInWithPassword",pH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return gH(e,{email:this._email,oobCode:this._password});default:sr(e,"internal-error")}})}_linkToIdToken(e,n){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return VE(e,r,"signUpPassword",fH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return mH(e,{idToken:n,email:this._email,oobCode:this._password});default:sr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function CE(t,e){return v(this,null,function*(){return Qu(t,"POST","/v1/accounts:signInWithIdp",Fi(t,e))})}function yH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vH(t){let e=la(da(t)).link,n=e?la(da(e)).deep_link_id:null,r=la(da(t)).deep_link_id;return(r?la(da(r)).link:null)||r||n||e||t}var Yf=class t{constructor(e){var n,r,i,o,s,a;let u=la(da(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=yH((i=u.mode)!==null&&i!==void 0?i:null);Y(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=vH(e);try{return new t(n)}catch{return null}}};var VN=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Wu._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Yf.parseLink(r);return Y(i,"argument-error"),Wu._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Zf=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var jE=class extends Zf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function _H(t,e){return v(this,null,function*(){return Qu(t,"POST","/v1/accounts:signUp",Fi(t,e))})}var ma=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(this,null,function*(){let o=yield Oi._fromIdTokenResponse(e,r,i),s=uN(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=uN(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function uN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var UE=class t extends rn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function jN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?UE._fromErrorAndOperation(t,o,e,r):o})}function EH(t,e,n=!1){return v(this,null,function*(){let r=yield zu(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ma._forOperation(t,"link",r)})}function IH(t,e,n=!1){return v(this,null,function*(){let{auth:r}=t;if(Qt(r.app))return Promise.reject(Br(r));let i="reauthenticate";try{let o=yield zu(t,jN(r,i,e,t),n);Y(o.idToken,r,"internal-error");let s=ZE(o.idToken);Y(s,r,"internal-error");let{sub:a}=s;return Y(t.uid===a,r,"user-mismatch"),ma._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&sr(r,"user-mismatch"),o}})}function UN(t,e,n=!1){return v(this,null,function*(){if(Qt(t.app))return Promise.reject(Br(t));let r="signIn",i=yield jN(t,r,e),o=yield ma._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function nI(t,e){return v(this,null,function*(){return UN(Yo(t),e)})}function BN(t){return v(this,null,function*(){let e=Yo(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function rI(t,e,n){return v(this,null,function*(){if(Qt(t.app))return Promise.reject(Br(t));let r=Yo(t),s=yield VE(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_H,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&BN(t),u}),a=yield ma._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function iI(t,e,n){return Qt(t.app)?Promise.reject(Br(t)):nI(pt(t),VN.credential(e,n)).catch(r=>v(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&BN(t),r}))}function Yu(t,e,n,r){return pt(t).onIdTokenChanged(e,n,r)}function oI(t,e,n){return pt(t).beforeAuthStateChanged(e,n)}function sI(t){return pt(t).signOut()}var Jf="__sak";var Xf=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jf,"1"),this.storage.removeItem(Jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var wH=1e3,bH=10,DH=(()=>{class t extends Xf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PN(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);rH()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,bH):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},wH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return v(this,null,function*(){yield ei(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return v(this,null,function*(){let r=yield ei(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return v(this,null,function*(){yield ei(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),$N=DH;var CH=(()=>{class t extends Xf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),aI=CH;function TH(t){return Promise.all(t.map(e=>v(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var SH=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return v(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>v(this,null,function*(){return h(r.origin,s)})),l=yield TH(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function HN(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var BE=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=HN("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function or(){return window}function AH(t){or().location.href=t}function zN(){return typeof or().WorkerGlobalScope<"u"&&typeof or().importScripts=="function"}function RH(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function NH(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function MH(){return zN()?self:null}var qN="firebaseLocalStorageDb",PH=1,ep="firebaseLocalStorage",GN="fbase_key",Qo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function rp(t,e){return t.transaction([ep],e?"readwrite":"readonly").objectStore(ep)}function xH(){let t=indexedDB.deleteDatabase(qN);return new Qo(t).toPromise()}function $E(){let t=indexedDB.open(qN,PH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(ep,{keyPath:GN})}catch(i){n(i)}}),t.addEventListener("success",()=>v(null,null,function*(){let r=t.result;r.objectStoreNames.contains(ep)?e(r):(r.close(),yield xH(),e(yield $E()))}))})}function lN(t,e,n){return v(this,null,function*(){let r=rp(t,!0).put({[GN]:e,value:n});return new Qo(r).toPromise()})}function OH(t,e){return v(this,null,function*(){let n=rp(t,!1).get(e),r=yield new Qo(n).toPromise();return r===void 0?null:r.value})}function dN(t,e){let n=rp(t,!0).delete(e);return new Qo(n).toPromise()}var kH=800,FH=3,LH=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield $E(),this.db)})}_withRetries(n){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>FH)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return zN()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=SH._getInstance(MH()),this.receiver._subscribe("keyChanged",(n,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var n,r;if(this.activeServiceWorker=yield RH(),!this.activeServiceWorker)return;this.sender=new BE(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||NH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let n=yield $E();return yield lN(n,Jf,"1"),yield dN(n,Jf),!0}catch{}return!1})}_withPendingWrite(n){return v(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>lN(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return v(this,null,function*(){let r=yield this._withRetries(i=>OH(i,n));return this.localCache[n]=r,r})}_remove(n){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>dN(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return v(this,null,function*(){let n=yield this._withRetries(o=>{let s=rp(o,!1).getAll();return new Qo(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),kH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),WN=LH;var Koe=kN("rcb"),Qoe=new Ko(3e4,6e4);function VH(t,e){return e?Ur(e):(Y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ku=class extends Gu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return CE(e,this._buildIdpRequest())}_linkToIdToken(e,n){return CE(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return CE(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function jH(t){return UN(t.auth,new Ku(t),t.bypassAuthState)}function UH(t){let{auth:e,user:n}=t;return Y(n,e,"internal-error"),IH(n,new Ku(t),t.bypassAuthState)}function BH(t){return v(this,null,function*(){let{auth:e,user:n}=t;return Y(n,e,"internal-error"),EH(n,new Ku(t),t.bypassAuthState)})}var HE=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jH;case"linkViaPopup":case"linkViaRedirect":return BH;case"reauthViaPopup":case"reauthViaRedirect":return UH;default:sr(this.auth,"internal-error")}}resolve(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Yoe=new Ko(2e3,1e4);var $H="pendingRedirect",$f=new Map,zE=class t extends HE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=$f.get(this.auth._key());if(!e){try{let r=(yield HH(this.resolver,this.auth))?yield ei(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$f.set(this.auth._key(),e)}return this.bypassAuthState||$f.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return ei(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,ei(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function HH(t,e){return v(this,null,function*(){let n=GH(e),r=qH(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function zH(t,e){$f.set(t._key(),e)}function qH(t){return Ur(t._redirectPersistence)}function GH(t){return Bf($H,t.config.apiKey,t.name)}function WH(t,e,n=!1){return v(this,null,function*(){if(Qt(t.app))return Promise.reject(Br(t));let r=Yo(t),i=VH(r,e),s=yield new zE(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var KH=600*1e3,qE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!KN(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Wo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KH&&this.cachedEventUids.clear(),this.cachedEventUids.has(hN(e))}saveEventToCache(e){this.cachedEventUids.add(hN(e)),this.lastProcessedEventTime=Date.now()}};function hN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function KN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function QH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KN(t);default:return!1}}function YH(n){return v(this,arguments,function*(t,e={}){return Li(t,"GET","/v1/projects",e)})}var ZH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JH=/^https?/;function XH(t){return v(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield YH(t);for(let n of e)try{if(e4(n))return}catch{}sr(t,"unauthorized-domain")})}function e4(t){let e=SE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!JH.test(n))return!1;if(ZH.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var t4=new Ko(3e4,6e4);function fN(){let t=or().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function n4(t){return new Promise((e,n)=>{var r,i,o;function s(){fN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fN(),n(Wo(t,"network-request-failed"))},timeout:t4.get()})}if(!((i=(r=or().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=or().gapi)===null||o===void 0)&&o.load)s();else{let a=kN("iframefcb");return or()[a]=()=>{gapi.load?s():n(Wo(t,"network-request-failed"))},ON(`${cH()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Hf=null,e})}var Hf=null;function r4(t){return Hf=Hf||n4(t),Hf}var i4=new Ko(5e3,15e3),o4="__/auth/iframe",s4="emulator/auth/iframe",a4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},c4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function u4(t){let e=t.config;Y(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?QE(e,s4):`https://${t.config.authDomain}/${o4}`,r={apiKey:e.apiKey,appName:t.name,v:Ri},i=c4.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ku(r).slice(1)}`}function l4(t){return v(this,null,function*(){let e=yield r4(t),n=or().gapi;return Y(n,t,"internal-error"),e.open({where:document.body,url:u4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:a4,dontclear:!0},r=>new Promise((i,o)=>v(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Wo(t,"network-request-failed"),a=or().setTimeout(()=>{o(s)},i4.get());function u(){or().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var d4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},h4=500,f4=600,p4="_blank",g4="http://localhost",tp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function m4(t,e,n,r=h4,i=f4){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},d4),{width:r.toString(),height:i.toString(),top:o,left:s}),l=st().toLowerCase();n&&(a=SN(l)?p4:n),CN(l)&&(e=e||g4,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,T])=>`${m}${y}=${T},`,"");if(nH(l)&&a!=="_self")return y4(e||"",a),new tp(null);let p=window.open(e||"",a,h);Y(p,t,"popup-blocked");try{p.focus()}catch{}return new tp(p)}function y4(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var v4="__/auth/handler",_4="emulator/auth/handler",E4=encodeURIComponent("fac");function pN(t,e,n,r,i,o){return v(this,null,function*(){Y(t.config.authDomain,t,"auth-domain-config-required"),Y(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ri,eventId:i};if(e instanceof Zf){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",TR(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof jE){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${E4}=${encodeURIComponent(u)}`:"";return`${I4(t)}?${ku(a).slice(1)}${l}`})}function I4({config:t}){return t.emulator?QE(t,_4):`https://${t.authDomain}/${v4}`}var TE="webStorageSupport",GE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aI,this._completeRedirectFn=WH,this._overrideRedirectResult=zH}_openPopup(e,n,r,i){return v(this,null,function*(){var o;ki((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield pN(e,n,r,SE(),i);return m4(e,s,HN())})}_openRedirect(e,n,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield pN(e,n,r,SE(),i);return AH(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ki(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return v(this,null,function*(){let n=yield l4(e),r=new qE(e);return n.register("authEvent",i=>(Y(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(TE,{type:TE},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[TE];s!==void 0&&n(!!s),sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PN()||TN()||XE()}},QN=GE;var gN="@firebase/auth",mN="1.10.8";var WE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function w4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function b4(t){xn(new Bt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Y(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xN(t)},l=new OE(r,i,o,u);return lH(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),xn(new Bt("auth-internal",e=>{let n=Yo(e.getProvider("auth").getImmediate());return(r=>new WE(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ve(gN,mN,w4(t)),Ve(gN,mN,"esm2017")}var D4=300,C4=tE("authIdTokenMaxAge")||D4,yN=null,T4=t=>e=>v(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>C4)return;let i=n?.token;yN!==i&&(yN=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function cI(t=zo()){let e=ha(t,"auth");if(e.isInitialized())return e.getImmediate();let n=eI(t,{popupRedirectResolver:QN,persistence:[WN,$N,aI]}),r=tE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=T4(o.toString());oI(n,s,()=>s(n.currentUser)),Yu(n,a=>s(a))}}let i=X_("auth");return i&&tI(n,`http://${i}`),n}function S4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}sH({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Wo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",S4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});b4("Browser");function JN(t){return new oe(function(e){var n=Yu(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var XN="auth",Zo=class{constructor(e){return e}},Zu=class{constructor(){return pa(XN)}};var uI=new U("angularfire2.auth-instances");function p3(t,e){let n=Vu(XN,t,e);return n&&new Zo(n)}function g3(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Zo(r)}}var m3={provide:Zu,deps:[[new Wt,uI]]},y3={provide:Zo,useFactory:p3,deps:[[new Wt,uI],Vr]};function eM(t,...e){return Ve("angularfire",Ni.full,"auth"),Gt([y3,m3,{provide:uI,useFactory:g3(t),multi:!0,deps:[_e,Fe,Mi,Go,[new Wt,ga],...e]}])}var tM=at(JN,!0);var nM=at(rI,!0,2);var rM=at(cI,!0);var iM=at(iI,!0,2);var oM=at(sI,!0,2);var sM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},aM={};var $r,lI;(function(){var t;function e(b,_){function I(){}I.prototype=_.prototype,b.D=_.prototype,b.prototype=new I,b.prototype.constructor=b,b.C=function(w,D,S){for(var E=Array(arguments.length-2),fr=2;fr<arguments.length;fr++)E[fr-2]=arguments[fr];return _.prototype[D].apply(w,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,_,I){I||(I=0);var w=Array(16);if(typeof _=="string")for(var D=0;16>D;++D)w[D]=_.charCodeAt(I++)|_.charCodeAt(I++)<<8|_.charCodeAt(I++)<<16|_.charCodeAt(I++)<<24;else for(D=0;16>D;++D)w[D]=_[I++]|_[I++]<<8|_[I++]<<16|_[I++]<<24;_=b.g[0],I=b.g[1],D=b.g[2];var S=b.g[3],E=_+(S^I&(D^S))+w[0]+3614090360&4294967295;_=I+(E<<7&4294967295|E>>>25),E=S+(D^_&(I^D))+w[1]+3905402710&4294967295,S=_+(E<<12&4294967295|E>>>20),E=D+(I^S&(_^I))+w[2]+606105819&4294967295,D=S+(E<<17&4294967295|E>>>15),E=I+(_^D&(S^_))+w[3]+3250441966&4294967295,I=D+(E<<22&4294967295|E>>>10),E=_+(S^I&(D^S))+w[4]+4118548399&4294967295,_=I+(E<<7&4294967295|E>>>25),E=S+(D^_&(I^D))+w[5]+1200080426&4294967295,S=_+(E<<12&4294967295|E>>>20),E=D+(I^S&(_^I))+w[6]+2821735955&4294967295,D=S+(E<<17&4294967295|E>>>15),E=I+(_^D&(S^_))+w[7]+4249261313&4294967295,I=D+(E<<22&4294967295|E>>>10),E=_+(S^I&(D^S))+w[8]+1770035416&4294967295,_=I+(E<<7&4294967295|E>>>25),E=S+(D^_&(I^D))+w[9]+2336552879&4294967295,S=_+(E<<12&4294967295|E>>>20),E=D+(I^S&(_^I))+w[10]+4294925233&4294967295,D=S+(E<<17&4294967295|E>>>15),E=I+(_^D&(S^_))+w[11]+2304563134&4294967295,I=D+(E<<22&4294967295|E>>>10),E=_+(S^I&(D^S))+w[12]+1804603682&4294967295,_=I+(E<<7&4294967295|E>>>25),E=S+(D^_&(I^D))+w[13]+4254626195&4294967295,S=_+(E<<12&4294967295|E>>>20),E=D+(I^S&(_^I))+w[14]+2792965006&4294967295,D=S+(E<<17&4294967295|E>>>15),E=I+(_^D&(S^_))+w[15]+1236535329&4294967295,I=D+(E<<22&4294967295|E>>>10),E=_+(D^S&(I^D))+w[1]+4129170786&4294967295,_=I+(E<<5&4294967295|E>>>27),E=S+(I^D&(_^I))+w[6]+3225465664&4294967295,S=_+(E<<9&4294967295|E>>>23),E=D+(_^I&(S^_))+w[11]+643717713&4294967295,D=S+(E<<14&4294967295|E>>>18),E=I+(S^_&(D^S))+w[0]+3921069994&4294967295,I=D+(E<<20&4294967295|E>>>12),E=_+(D^S&(I^D))+w[5]+3593408605&4294967295,_=I+(E<<5&4294967295|E>>>27),E=S+(I^D&(_^I))+w[10]+38016083&4294967295,S=_+(E<<9&4294967295|E>>>23),E=D+(_^I&(S^_))+w[15]+3634488961&4294967295,D=S+(E<<14&4294967295|E>>>18),E=I+(S^_&(D^S))+w[4]+3889429448&4294967295,I=D+(E<<20&4294967295|E>>>12),E=_+(D^S&(I^D))+w[9]+568446438&4294967295,_=I+(E<<5&4294967295|E>>>27),E=S+(I^D&(_^I))+w[14]+3275163606&4294967295,S=_+(E<<9&4294967295|E>>>23),E=D+(_^I&(S^_))+w[3]+4107603335&4294967295,D=S+(E<<14&4294967295|E>>>18),E=I+(S^_&(D^S))+w[8]+1163531501&4294967295,I=D+(E<<20&4294967295|E>>>12),E=_+(D^S&(I^D))+w[13]+2850285829&4294967295,_=I+(E<<5&4294967295|E>>>27),E=S+(I^D&(_^I))+w[2]+4243563512&4294967295,S=_+(E<<9&4294967295|E>>>23),E=D+(_^I&(S^_))+w[7]+1735328473&4294967295,D=S+(E<<14&4294967295|E>>>18),E=I+(S^_&(D^S))+w[12]+2368359562&4294967295,I=D+(E<<20&4294967295|E>>>12),E=_+(I^D^S)+w[5]+4294588738&4294967295,_=I+(E<<4&4294967295|E>>>28),E=S+(_^I^D)+w[8]+2272392833&4294967295,S=_+(E<<11&4294967295|E>>>21),E=D+(S^_^I)+w[11]+1839030562&4294967295,D=S+(E<<16&4294967295|E>>>16),E=I+(D^S^_)+w[14]+4259657740&4294967295,I=D+(E<<23&4294967295|E>>>9),E=_+(I^D^S)+w[1]+2763975236&4294967295,_=I+(E<<4&4294967295|E>>>28),E=S+(_^I^D)+w[4]+1272893353&4294967295,S=_+(E<<11&4294967295|E>>>21),E=D+(S^_^I)+w[7]+4139469664&4294967295,D=S+(E<<16&4294967295|E>>>16),E=I+(D^S^_)+w[10]+3200236656&4294967295,I=D+(E<<23&4294967295|E>>>9),E=_+(I^D^S)+w[13]+681279174&4294967295,_=I+(E<<4&4294967295|E>>>28),E=S+(_^I^D)+w[0]+3936430074&4294967295,S=_+(E<<11&4294967295|E>>>21),E=D+(S^_^I)+w[3]+3572445317&4294967295,D=S+(E<<16&4294967295|E>>>16),E=I+(D^S^_)+w[6]+76029189&4294967295,I=D+(E<<23&4294967295|E>>>9),E=_+(I^D^S)+w[9]+3654602809&4294967295,_=I+(E<<4&4294967295|E>>>28),E=S+(_^I^D)+w[12]+3873151461&4294967295,S=_+(E<<11&4294967295|E>>>21),E=D+(S^_^I)+w[15]+530742520&4294967295,D=S+(E<<16&4294967295|E>>>16),E=I+(D^S^_)+w[2]+3299628645&4294967295,I=D+(E<<23&4294967295|E>>>9),E=_+(D^(I|~S))+w[0]+4096336452&4294967295,_=I+(E<<6&4294967295|E>>>26),E=S+(I^(_|~D))+w[7]+1126891415&4294967295,S=_+(E<<10&4294967295|E>>>22),E=D+(_^(S|~I))+w[14]+2878612391&4294967295,D=S+(E<<15&4294967295|E>>>17),E=I+(S^(D|~_))+w[5]+4237533241&4294967295,I=D+(E<<21&4294967295|E>>>11),E=_+(D^(I|~S))+w[12]+1700485571&4294967295,_=I+(E<<6&4294967295|E>>>26),E=S+(I^(_|~D))+w[3]+2399980690&4294967295,S=_+(E<<10&4294967295|E>>>22),E=D+(_^(S|~I))+w[10]+4293915773&4294967295,D=S+(E<<15&4294967295|E>>>17),E=I+(S^(D|~_))+w[1]+2240044497&4294967295,I=D+(E<<21&4294967295|E>>>11),E=_+(D^(I|~S))+w[8]+1873313359&4294967295,_=I+(E<<6&4294967295|E>>>26),E=S+(I^(_|~D))+w[15]+4264355552&4294967295,S=_+(E<<10&4294967295|E>>>22),E=D+(_^(S|~I))+w[6]+2734768916&4294967295,D=S+(E<<15&4294967295|E>>>17),E=I+(S^(D|~_))+w[13]+1309151649&4294967295,I=D+(E<<21&4294967295|E>>>11),E=_+(D^(I|~S))+w[4]+4149444226&4294967295,_=I+(E<<6&4294967295|E>>>26),E=S+(I^(_|~D))+w[11]+3174756917&4294967295,S=_+(E<<10&4294967295|E>>>22),E=D+(_^(S|~I))+w[2]+718787259&4294967295,D=S+(E<<15&4294967295|E>>>17),E=I+(S^(D|~_))+w[9]+3951481745&4294967295,b.g[0]=b.g[0]+_&4294967295,b.g[1]=b.g[1]+(D+(E<<21&4294967295|E>>>11))&4294967295,b.g[2]=b.g[2]+D&4294967295,b.g[3]=b.g[3]+S&4294967295}r.prototype.u=function(b,_){_===void 0&&(_=b.length);for(var I=_-this.blockSize,w=this.B,D=this.h,S=0;S<_;){if(D==0)for(;S<=I;)i(this,b,S),S+=this.blockSize;if(typeof b=="string"){for(;S<_;)if(w[D++]=b.charCodeAt(S++),D==this.blockSize){i(this,w),D=0;break}}else for(;S<_;)if(w[D++]=b[S++],D==this.blockSize){i(this,w),D=0;break}}this.h=D,this.o+=_},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var _=1;_<b.length-8;++_)b[_]=0;var I=8*this.o;for(_=b.length-8;_<b.length;++_)b[_]=I&255,I/=256;for(this.u(b),b=Array(16),_=I=0;4>_;++_)for(var w=0;32>w;w+=8)b[I++]=this.g[_]>>>w&255;return b};function o(b,_){var I=a;return Object.prototype.hasOwnProperty.call(I,b)?I[b]:I[b]=_(b)}function s(b,_){this.h=_;for(var I=[],w=!0,D=b.length-1;0<=D;D--){var S=b[D]|0;w&&S==_||(I[D]=S,w=!1)}this.g=I}var a={};function u(b){return-128<=b&&128>b?o(b,function(_){return new s([_|0],0>_?-1:0)}):new s([b|0],0>b?-1:0)}function l(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return M(l(-b));for(var _=[],I=1,w=0;b>=I;w++)_[w]=b/I|0,I*=4294967296;return new s(_,0)}function h(b,_){if(b.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(b.charAt(0)=="-")return M(h(b.substring(1),_));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(_,8)),w=p,D=0;D<b.length;D+=8){var S=Math.min(8,b.length-D),E=parseInt(b.substring(D,D+S),_);8>S?(S=l(Math.pow(_,S)),w=w.j(S).add(l(E))):(w=w.j(I),w=w.add(l(E)))}return w}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(R(this))return-M(this).m();for(var b=0,_=1,I=0;I<this.g.length;I++){var w=this.i(I);b+=(0<=w?w:4294967296+w)*_,_*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(T(this))return"0";if(R(this))return"-"+M(this).toString(b);for(var _=l(Math.pow(b,6)),I=this,w="";;){var D=Te(I,_).g;I=L(I,D.j(_));var S=((0<I.g.length?I.g[0]:I.h)>>>0).toString(b);if(I=D,T(I))return S+w;for(;6>S.length;)S="0"+S;w=S+w}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function T(b){if(b.h!=0)return!1;for(var _=0;_<b.g.length;_++)if(b.g[_]!=0)return!1;return!0}function R(b){return b.h==-1}t.l=function(b){return b=L(this,b),R(b)?-1:T(b)?0:1};function M(b){for(var _=b.g.length,I=[],w=0;w<_;w++)I[w]=~b.g[w];return new s(I,~b.h).add(m)}t.abs=function(){return R(this)?M(this):this},t.add=function(b){for(var _=Math.max(this.g.length,b.g.length),I=[],w=0,D=0;D<=_;D++){var S=w+(this.i(D)&65535)+(b.i(D)&65535),E=(S>>>16)+(this.i(D)>>>16)+(b.i(D)>>>16);w=E>>>16,S&=65535,E&=65535,I[D]=E<<16|S}return new s(I,I[I.length-1]&-2147483648?-1:0)};function L(b,_){return b.add(M(_))}t.j=function(b){if(T(this)||T(b))return p;if(R(this))return R(b)?M(this).j(M(b)):M(M(this).j(b));if(R(b))return M(this.j(M(b)));if(0>this.l(y)&&0>b.l(y))return l(this.m()*b.m());for(var _=this.g.length+b.g.length,I=[],w=0;w<2*_;w++)I[w]=0;for(w=0;w<this.g.length;w++)for(var D=0;D<b.g.length;D++){var S=this.i(w)>>>16,E=this.i(w)&65535,fr=b.i(D)>>>16,Wa=b.i(D)&65535;I[2*w+2*D]+=E*Wa,Z(I,2*w+2*D),I[2*w+2*D+1]+=S*Wa,Z(I,2*w+2*D+1),I[2*w+2*D+1]+=E*fr,Z(I,2*w+2*D+1),I[2*w+2*D+2]+=S*fr,Z(I,2*w+2*D+2)}for(w=0;w<_;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=_;w<2*_;w++)I[w]=0;return new s(I,0)};function Z(b,_){for(;(b[_]&65535)!=b[_];)b[_+1]+=b[_]>>>16,b[_]&=65535,_++}function X(b,_){this.g=b,this.h=_}function Te(b,_){if(T(_))throw Error("division by zero");if(T(b))return new X(p,p);if(R(b))return _=Te(M(b),_),new X(M(_.g),M(_.h));if(R(_))return _=Te(b,M(_)),new X(M(_.g),_.h);if(30<b.g.length){if(R(b)||R(_))throw Error("slowDivide_ only works with positive integers.");for(var I=m,w=_;0>=w.l(b);)I=Pt(I),w=Pt(w);var D=be(I,1),S=be(w,1);for(w=be(w,2),I=be(I,2);!T(w);){var E=S.add(w);0>=E.l(b)&&(D=D.add(I),S=E),w=be(w,1),I=be(I,1)}return _=L(b,D.j(_)),new X(D,_)}for(D=p;0<=b.l(_);){for(I=Math.max(1,Math.floor(b.m()/_.m())),w=Math.ceil(Math.log(I)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),S=l(I),E=S.j(_);R(E)||0<E.l(b);)I-=w,S=l(I),E=S.j(_);T(S)&&(S=m),D=D.add(S),b=L(b,E)}return new X(D,b)}t.A=function(b){return Te(this,b).h},t.and=function(b){for(var _=Math.max(this.g.length,b.g.length),I=[],w=0;w<_;w++)I[w]=this.i(w)&b.i(w);return new s(I,this.h&b.h)},t.or=function(b){for(var _=Math.max(this.g.length,b.g.length),I=[],w=0;w<_;w++)I[w]=this.i(w)|b.i(w);return new s(I,this.h|b.h)},t.xor=function(b){for(var _=Math.max(this.g.length,b.g.length),I=[],w=0;w<_;w++)I[w]=this.i(w)^b.i(w);return new s(I,this.h^b.h)};function Pt(b){for(var _=b.g.length+1,I=[],w=0;w<_;w++)I[w]=b.i(w)<<1|b.i(w-1)>>>31;return new s(I,b.h)}function be(b,_){var I=_>>5;_%=32;for(var w=b.g.length-I,D=[],S=0;S<w;S++)D[S]=0<_?b.i(S+I)>>>_|b.i(S+I+1)<<32-_:b.i(S+I);return new s(D,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,lI=aM.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,$r=aM.Integer=s}).apply(typeof sM<"u"?sM:typeof self<"u"?self:typeof window<"u"?window:{});var ip=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hr={};var dI,_3,ya,hI,Ju,op,fI,pI,gI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ip=="object"&&ip];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var C=c[g];if(!(C in f))break e;f=f[C]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,C={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function T(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,C,A){for(var k=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)k[Se-2]=arguments[Se];return d.prototype[C].apply(g,k)}}function R(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function M(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=c.length||0,A=g.length||0;c.length=C+A;for(let k=0;k<A;k++)c[C+k]=g[k]}else c.push(g)}}class L{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Z(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Te(c){return Te[" "](c),c}Te[" "]=function(){};var Pt=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function be(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function b(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function _(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)c[f]=g[f];for(let A=0;A<I.length;A++)f=I[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function E(){var c=_g;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class fr{constructor(){this.h=this.g=null}add(d,f){let g=Wa.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Wa=new L(()=>new _O,c=>c.reset());class _O{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ka,Qa=!1,_g=new fr,jb=()=>{let c=a.Promise.resolve(void 0);Ka=()=>{c.then(EO)}};var EO=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){S(f)}var d=Wa;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Qa=!1};function Yr(){this.s=this.s,this.C=this.C}Yr.prototype.s=!1,Yr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Yr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function gt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}gt.prototype.h=function(){this.defaultPrevented=!0};var IO=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c})();function Ya(c,d){if(gt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Pt){e:{try{Te(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:wO[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ya.aa.h.call(this)}}T(Ya,gt);var wO={2:"touch",3:"pen",4:"mouse"};Ya.prototype.h=function(){Ya.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Za="closure_listenable_"+(1e6*Math.random()|0),bO=0;function DO(c,d,f,g,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++bO,this.da=this.fa=!1}function Ml(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pl(c){this.src=c,this.g={},this.h=0}Pl.prototype.add=function(c,d,f,g,C){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var k=Ig(c,d,g,C);return-1<k?(d=c[k],f||(d.fa=!1)):(d=new DO(d,this.src,A,!!g,C),d.fa=f,c.push(d)),d};function Eg(c,d){var f=d.type;if(f in c.g){var g=c.g[f],C=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(g,C,1),A&&(Ml(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Ig(c,d,f,g){for(var C=0;C<c.length;++C){var A=c[C];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return C}return-1}var wg="closure_lm_"+(1e6*Math.random()|0),bg={};function Ub(c,d,f,g,C){if(g&&g.once)return $b(c,d,f,g,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)Ub(c,d[A],f,g,C);return null}return f=Sg(f),c&&c[Za]?c.K(d,f,l(g)?!!g.capture:!!g,C):Bb(c,d,f,!1,g,C)}function Bb(c,d,f,g,C,A){if(!d)throw Error("Invalid event type");var k=l(C)?!!C.capture:!!C,Se=Cg(c);if(Se||(c[wg]=Se=new Pl(c)),f=Se.add(d,f,g,k,A),f.proxy)return f;if(g=CO(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)IO||(C=k),C===void 0&&(C=!1),c.addEventListener(d.toString(),g,C);else if(c.attachEvent)c.attachEvent(zb(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function CO(){function c(f){return d.call(c.src,c.listener,f)}let d=TO;return c}function $b(c,d,f,g,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)$b(c,d[A],f,g,C);return null}return f=Sg(f),c&&c[Za]?c.L(d,f,l(g)?!!g.capture:!!g,C):Bb(c,d,f,!0,g,C)}function Hb(c,d,f,g,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)Hb(c,d[A],f,g,C);else g=l(g)?!!g.capture:!!g,f=Sg(f),c&&c[Za]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=Ig(A,f,g,C),-1<f&&(Ml(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=Cg(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Ig(d,f,g,C)),(f=-1<c?d[c]:null)&&Dg(f))}function Dg(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Za])Eg(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(zb(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Cg(d))?(Eg(f,c),f.h==0&&(f.src=null,d[wg]=null)):Ml(c)}}}function zb(c){return c in bg?bg[c]:bg[c]="on"+c}function TO(c,d){if(c.da)c=!0;else{d=new Ya(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Dg(c),c=f.call(g,d)}return c}function Cg(c){return c=c[wg],c instanceof Pl?c:null}var Tg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sg(c){return typeof c=="function"?c:(c[Tg]||(c[Tg]=function(d){return c.handleEvent(d)}),c[Tg])}function mt(){Yr.call(this),this.i=new Pl(this),this.M=this,this.F=null}T(mt,Yr),mt.prototype[Za]=!0,mt.prototype.removeEventListener=function(c,d,f,g){Hb(this,c,d,f,g)};function xt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new gt(d,c);else if(d instanceof gt)d.target=d.target||c;else{var C=d;d=new gt(g,c),w(d,C)}if(C=!0,f)for(var A=f.length-1;0<=A;A--){var k=d.g=f[A];C=xl(k,g,!0,d)&&C}if(k=d.g=c,C=xl(k,g,!0,d)&&C,C=xl(k,g,!1,d)&&C,f)for(A=0;A<f.length;A++)k=d.g=f[A],C=xl(k,g,!1,d)&&C}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Ml(f[g]);delete c.g[d],c.h--}}this.F=null},mt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},mt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function xl(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var k=d[A];if(k&&!k.da&&k.capture==f){var Se=k.listener,lt=k.ha||k.src;k.fa&&Eg(c.i,k),C=Se.call(lt,g)!==!1&&C}}return C&&!g.defaultPrevented}function qb(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Gb(c){c.g=qb(()=>{c.g=null,c.i&&(c.i=!1,Gb(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class SO extends Yr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Gb(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ja(c){Yr.call(this),this.h=c,this.g={}}T(Ja,Yr);var Wb=[];function Kb(c){be(c.g,function(d,f){this.g.hasOwnProperty(f)&&Dg(d)},c),c.g={}}Ja.prototype.N=function(){Ja.aa.N.call(this),Kb(this)},Ja.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ag=a.JSON.stringify,AO=a.JSON.parse,RO=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Rg(){}Rg.prototype.h=null;function Qb(c){return c.h||(c.h=c.i())}function Yb(){}var Xa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ng(){gt.call(this,"d")}T(Ng,gt);function Mg(){gt.call(this,"c")}T(Mg,gt);var Yi={},Zb=null;function Ol(){return Zb=Zb||new mt}Yi.La="serverreachability";function Jb(c){gt.call(this,Yi.La,c)}T(Jb,gt);function ec(c){let d=Ol();xt(d,new Jb(d))}Yi.STAT_EVENT="statevent";function Xb(c,d){gt.call(this,Yi.STAT_EVENT,c),this.stat=d}T(Xb,gt);function Ot(c){let d=Ol();xt(d,new Xb(d,c))}Yi.Ma="timingevent";function eD(c,d){gt.call(this,Yi.Ma,c),this.size=d}T(eD,gt);function tc(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function nc(){this.g=!0}nc.prototype.xa=function(){this.g=!1};function NO(c,d,f,g,C,A){c.info(function(){if(c.g)if(A)for(var k="",Se=A.split("&"),lt=0;lt<Se.length;lt++){var ye=Se[lt].split("=");if(1<ye.length){var yt=ye[0];ye=ye[1];var vt=yt.split("_");k=2<=vt.length&&vt[1]=="type"?k+(yt+"="+ye+"&"):k+(yt+"=redacted&")}}else k=null;else k=A;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+k})}function MO(c,d,f,g,C,A,k){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+A+" "+k})}function ds(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+xO(c,f)+(g?" "+g:"")})}function PO(c,d){c.info(function(){return"TIMEOUT: "+d})}nc.prototype.info=function(){};function xO(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var k=1;k<C.length;k++)C[k]=""}}}}return Ag(f)}catch{return d}}var kl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},tD={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pg;function Fl(){}T(Fl,Rg),Fl.prototype.g=function(){return new XMLHttpRequest},Fl.prototype.i=function(){return{}},Pg=new Fl;function Zr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Ja(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nD}function nD(){this.i=null,this.g="",this.h=!1}var rD={},xg={};function Og(c,d,f){c.L=1,c.v=Ul(pr(d)),c.m=f,c.P=!0,iD(c,null)}function iD(c,d){c.F=Date.now(),Ll(c),c.A=pr(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),vD(f.i,"t",g),c.C=0,f=c.j.J,c.h=new nD,c.g=FD(c.j,f?d:null,!c.m),0<c.O&&(c.M=new SO(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(Wb[0]=C.toString()),C=Wb);for(var A=0;A<C.length;A++){var k=Ub(f,C[A],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ec(),NO(c.i,c.u,c.A,c.l,c.R,c.m)}Zr.prototype.ca=function(c){c=c.target;let d=this.M;d&&gr(c)==3?d.j():this.Y(c)},Zr.prototype.Y=function(c){try{if(c==this.g)e:{let vt=gr(this.g);var d=this.g.Ba();let ps=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||CD(this.g)))){this.J||vt!=4||d==7||(d==8||0>=ps?ec(3):ec(2)),kg(this);var f=this.g.Z();this.X=f;t:if(oD(this)){var g=CD(this.g);c="";var C=g.length,A=gr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zi(this),rc(this);var k="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==C-1)});g.length=0,this.h.g+=c,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=f==200,MO(this.i,this.u,this.A,this.l,this.R,vt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,lt=this.g;if((Se=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(Se)){var ye=Se;break t}}ye=null}if(f=ye)ds(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fg(this,f);else{this.o=!1,this.s=3,Ot(12),Zi(this),rc(this);break e}}if(this.P){f=!0;let vn;for(;!this.J&&this.C<k.length;)if(vn=OO(this,k),vn==xg){vt==4&&(this.s=4,Ot(14),f=!1),ds(this.i,this.l,null,"[Incomplete Response]");break}else if(vn==rD){this.s=4,Ot(15),ds(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else ds(this.i,this.l,vn,null),Fg(this,vn);if(oD(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||k.length!=0||this.h.h||(this.s=1,Ot(16),f=!1),this.o=this.o&&f,!f)ds(this.i,this.l,k,"[Invalid Chunked Response]"),Zi(this),rc(this);else if(0<k.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),$g(yt),yt.M=!0,Ot(11))}}else ds(this.i,this.l,k,null),Fg(this,k);vt==4&&Zi(this),this.o&&!this.J&&(vt==4?PD(this.j,this):(this.o=!1,Ll(this)))}else ZO(this.g),f==400&&0<k.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),Zi(this),rc(this)}}}catch{}finally{}};function oD(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function OO(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?xg:(f=Number(d.substring(f,g)),isNaN(f)?rD:(g+=1,g+f>d.length?xg:(d=d.slice(g,g+f),c.C=g+f,d)))}Zr.prototype.cancel=function(){this.J=!0,Zi(this)};function Ll(c){c.S=Date.now()+c.I,sD(c,c.I)}function sD(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=tc(m(c.ba,c),d)}function kg(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Zr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(PO(this.i,this.A),this.L!=2&&(ec(),Ot(17)),Zi(this),this.s=2,rc(this)):sD(this,this.S-c)};function rc(c){c.j.G==0||c.J||PD(c.j,c)}function Zi(c){kg(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Kb(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Fg(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Lg(f.h,c))){if(!c.K&&Lg(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)ql(f),Hl(f);else break e;Bg(f),Ot(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=tc(m(f.Za,f),6e3));if(1>=uD(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Xi(f,11)}else if((c.K||f.g==c)&&ql(f),!Z(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let ye=C[d];if(f.T=ye[0],ye=ye[1],f.G==2)if(ye[0]=="c"){f.K=ye[1],f.ia=ye[2];let yt=ye[3];yt!=null&&(f.la=yt,f.j.info("VER="+f.la));let vt=ye[4];vt!=null&&(f.Aa=vt,f.j.info("SVER="+f.Aa));let ps=ye[5];ps!=null&&typeof ps=="number"&&0<ps&&(g=1.5*ps,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let vn=c.g;if(vn){let Wl=vn.g?vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wl){var A=g.h;A.g||Wl.indexOf("spdy")==-1&&Wl.indexOf("quic")==-1&&Wl.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Vg(A,A.h),A.h=null))}if(g.D){let Hg=vn.g?vn.g.getResponseHeader("X-HTTP-Session-Id"):null;Hg&&(g.ya=Hg,Ne(g.I,g.D,Hg))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var k=c;if(g.qa=kD(g,g.J?g.ia:null,g.W),k.K){lD(g.h,k);var Se=k,lt=g.L;lt&&(Se.I=lt),Se.B&&(kg(Se),Ll(Se)),g.g=k}else ND(g);0<f.i.length&&zl(f)}else ye[0]!="stop"&&ye[0]!="close"||Xi(f,7);else f.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?Xi(f,7):Ug(f):ye[0]!="noop"&&f.l&&f.l.ta(ye),f.v=0)}}ec(4)}catch{}}var kO=class{constructor(c,d){this.g=c,this.map=d}};function aD(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cD(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function uD(c){return c.h?1:c.g?c.g.size:0}function Lg(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Vg(c,d){c.g?c.g.add(d):c.h=d}function lD(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}aD.prototype.cancel=function(){if(this.i=dD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function dD(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return R(c.i)}function FO(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function LO(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function hD(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=LO(c),g=FO(c),C=g.length,A=0;A<C;A++)d.call(void 0,g[A],f&&f[A],c)}var fD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function VO(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),C=null;if(0<=g){var A=c[f].substring(0,g);C=c[f].substring(g+1)}else A=c[f];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Ji(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ji){this.h=c.h,Vl(this,c.j),this.o=c.o,this.g=c.g,jl(this,c.s),this.l=c.l;var d=c.i,f=new sc;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),pD(this,f),this.m=c.m}else c&&(d=String(c).match(fD))?(this.h=!1,Vl(this,d[1]||"",!0),this.o=ic(d[2]||""),this.g=ic(d[3]||"",!0),jl(this,d[4]),this.l=ic(d[5]||"",!0),pD(this,d[6]||"",!0),this.m=ic(d[7]||"")):(this.h=!1,this.i=new sc(null,this.h))}Ji.prototype.toString=function(){var c=[],d=this.j;d&&c.push(oc(d,gD,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(oc(d,gD,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(oc(f,f.charAt(0)=="/"?BO:UO,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",oc(f,HO)),c.join("")};function pr(c){return new Ji(c)}function Vl(c,d,f){c.j=f?ic(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function jl(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function pD(c,d,f){d instanceof sc?(c.i=d,zO(c.i,c.h)):(f||(d=oc(d,$O)),c.i=new sc(d,c.h))}function Ne(c,d,f){c.i.set(d,f)}function Ul(c){return Ne(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ic(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function oc(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,jO),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function jO(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var gD=/[#\/\?@]/g,UO=/[#\?:]/g,BO=/[#\?]/g,$O=/[#\?@]/g,HO=/#/g;function sc(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Jr(c){c.g||(c.g=new Map,c.h=0,c.i&&VO(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=sc.prototype,t.add=function(c,d){Jr(this),this.i=null,c=hs(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function mD(c,d){Jr(c),d=hs(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function yD(c,d){return Jr(c),d=hs(c,d),c.g.has(d)}t.forEach=function(c,d){Jr(this),this.g.forEach(function(f,g){f.forEach(function(C){c.call(d,C,g,this)},this)},this)},t.na=function(){Jr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=c[g];for(let A=0;A<C.length;A++)f.push(d[g])}return f},t.V=function(c){Jr(this);let d=[];if(typeof c=="string")yD(this,c)&&(d=d.concat(this.g.get(hs(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return Jr(this),this.i=null,c=hs(this,c),yD(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function vD(c,d,f){mD(c,d),0<f.length&&(c.i=null,c.g.set(hs(c,d),R(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var C=A;k[g]!==""&&(C+="="+encodeURIComponent(String(k[g]))),c.push(C)}}return this.i=c.join("&")};function hs(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function zO(c,d){d&&!c.j&&(Jr(c),c.i=null,c.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(mD(this,g),vD(this,C,f))},c)),c.j=d}function qO(c,d){let f=new nc;if(a.Image){let g=new Image;g.onload=y(Xr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Xr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Xr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Xr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function GO(c,d){let f=new nc,g=new AbortController,C=setTimeout(()=>{g.abort(),Xr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(C),A.ok?Xr(f,"TestPingServer: ok",!0,d):Xr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Xr(f,"TestPingServer: error",!1,d)})}function Xr(c,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function WO(){this.g=new RO}function KO(c,d,f){let g=f||"";try{hD(c,function(C,A){let k=C;l(C)&&(k=Ag(C)),d.push(g+A+"="+encodeURIComponent(k))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function ac(c){this.l=c.Ub||null,this.j=c.eb||!1}T(ac,Rg),ac.prototype.g=function(){return new Bl(this.l,this.j)},ac.prototype.i=(function(c){return function(){return c}})({});function Bl(c,d){mt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Bl,mt),t=Bl.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,uc(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cc(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,uc(this)),this.g&&(this.readyState=3,uc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_D(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function _D(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?cc(this):uc(this),this.readyState==3&&_D(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,cc(this))},t.Qa=function(c){this.g&&(this.response=c,cc(this))},t.ga=function(){this.g&&cc(this)};function cc(c){c.readyState=4,c.l=null,c.j=null,c.v=null,uc(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function uc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Bl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ED(c){let d="";return be(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function jg(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=ED(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ne(c,d,f))}function Oe(c){mt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Oe,mt);var QO=/^https?$/i,YO=["POST","PUT"];t=Oe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pg.g(),this.v=this.o?Qb(this.o):Qb(Pg),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){ID(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(YO,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,k]of f)this.g.setRequestHeader(A,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{DD(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){ID(this,A)}};function ID(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,wD(c),$l(c)}function wD(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,xt(this,"complete"),xt(this,"abort"),$l(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$l(this,!0)),Oe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?bD(this):this.bb())},t.bb=function(){bD(this)};function bD(c){if(c.h&&typeof s<"u"&&(!c.v[1]||gr(c)!=4||c.Z()!=2)){if(c.u&&gr(c)==4)qb(c.Ea,0,c);else if(xt(c,"readystatechange"),gr(c)==4){c.h=!1;try{let k=c.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=k===0){var C=String(c.D).match(fD)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),g=!QO.test(C?C.toLowerCase():"")}f=g}if(f)xt(c,"complete"),xt(c,"success");else{c.m=6;try{var A=2<gr(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",wD(c)}}finally{$l(c)}}}}function $l(c,d){if(c.g){DD(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||xt(c,"ready");try{f.onreadystatechange=g}catch{}}}function DD(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function gr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<gr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),AO(d)}};function CD(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ZO(c){let d={};c=(c.g&&2<=gr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(Z(c[g]))continue;var f=D(c[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[C]||[];d[C]=A,A.push(f)}b(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function lc(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function TD(c){this.Aa=0,this.i=[],this.j=new nc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lc("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lc("baseRetryDelayMs",5e3,c),this.cb=lc("retryDelaySeedMs",1e4,c),this.Wa=lc("forwardChannelMaxRetries",2,c),this.wa=lc("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new aD(c&&c.concurrentRequestLimit),this.Da=new WO,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=TD.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){Ot(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=kD(this,null,this.W),zl(this)};function Ug(c){if(SD(c),c.G==3){var d=c.U++,f=pr(c.I);if(Ne(f,"SID",c.K),Ne(f,"RID",d),Ne(f,"TYPE","terminate"),dc(c,f),d=new Zr(c,c.j,d),d.L=2,d.v=Ul(pr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=FD(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Ll(d)}OD(c)}function Hl(c){c.g&&($g(c),c.g.cancel(),c.g=null)}function SD(c){Hl(c),c.u&&(a.clearTimeout(c.u),c.u=null),ql(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function zl(c){if(!cD(c.h)&&!c.s){c.s=!0;var d=c.Ga;Ka||jb(),Qa||(Ka(),Qa=!0),_g.add(d,c),c.B=0}}function JO(c,d){return uD(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=tc(m(c.Ga,c,d),xD(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new Zr(this,this.j,c),A=this.o;if(this.S&&(A?(A=_(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=RD(this,C,d),f=pr(this.I),Ne(f,"RID",c),Ne(f,"CVER",22),this.D&&Ne(f,"X-HTTP-Session-Id",this.D),dc(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(ED(A)))+"&"+d:this.m&&jg(f,this.m,A)),Vg(this.h,C),this.Ua&&Ne(f,"TYPE","init"),this.P?(Ne(f,"$req",d),Ne(f,"SID","null"),C.T=!0,Og(C,f,null)):Og(C,f,d),this.G=2}}else this.G==3&&(c?AD(this,c):this.i.length==0||cD(this.h)||AD(this))};function AD(c,d){var f;d?f=d.l:f=c.U++;let g=pr(c.I);Ne(g,"SID",c.K),Ne(g,"RID",f),Ne(g,"AID",c.T),dc(c,g),c.m&&c.o&&jg(g,c.m,c.o),f=new Zr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=RD(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Vg(c.h,f),Og(f,g,d)}function dc(c,d){c.H&&be(c.H,function(f,g){Ne(d,g,f)}),c.l&&hD({},function(f,g){Ne(d,g,f)})}function RD(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var C=c.i;let A=-1;for(;;){let k=["count="+f];A==-1?0<f?(A=C[0].g,k.push("ofs="+A)):A=0:k.push("ofs="+A);let Se=!0;for(let lt=0;lt<f;lt++){let ye=C[lt].g,yt=C[lt].map;if(ye-=A,0>ye)A=Math.max(0,C[lt].g-100),Se=!1;else try{KO(yt,k,"req"+ye+"_")}catch{g&&g(yt)}}if(Se){g=k.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function ND(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Ka||jb(),Qa||(Ka(),Qa=!0),_g.add(d,c),c.v=0}}function Bg(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=tc(m(c.Fa,c),xD(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,MD(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=tc(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),Hl(this),MD(this))};function $g(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function MD(c){c.g=new Zr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=pr(c.qa);Ne(d,"RID","rpc"),Ne(d,"SID",c.K),Ne(d,"AID",c.T),Ne(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ne(d,"TO",c.ja),Ne(d,"TYPE","xmlhttp"),dc(c,d),c.m&&c.o&&jg(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Ul(pr(d)),f.m=null,f.P=!0,iD(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Hl(this),Bg(this),Ot(19))};function ql(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function PD(c,d){var f=null;if(c.g==d){ql(c),$g(c),c.g=null;var g=2}else if(Lg(c.h,d))f=d.D,lD(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;g=Ol(),xt(g,new eD(g,f)),zl(c)}else ND(c);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&JO(c,d)||g==2&&Bg(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:Xi(c,5);break;case 4:Xi(c,10);break;case 3:Xi(c,6);break;default:Xi(c,2)}}}function xD(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Xi(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let C=!g;g=new Ji(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Vl(g,"https"),Ul(g),C?qO(g.toString(),f):GO(g.toString(),f)}else Ot(2);c.G=0,c.l&&c.l.sa(d),OD(c),SD(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function OD(c){if(c.G=0,c.ka=[],c.l){let d=dD(c.h);(d.length!=0||c.i.length!=0)&&(M(c.ka,d),M(c.ka,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.ra()}}function kD(c,d,f){var g=f instanceof Ji?pr(f):new Ji(f);if(g.g!="")d&&(g.g=d+"."+g.g),jl(g,g.s);else{var C=a.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new Ji(null);g&&Vl(A,g),d&&(A.g=d),C&&jl(A,C),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Ne(g,f,d),Ne(g,"VER",c.la),dc(c,g),g}function FD(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Oe(new ac({eb:f})):new Oe(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function LD(){}t=LD.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Gl(){}Gl.prototype.g=function(c,d){return new Yt(c,d)};function Yt(c,d){mt.call(this),this.g=new TD(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!Z(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Z(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new fs(this)}T(Yt,mt),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){Ug(this.g)},Yt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Ag(c),c=f);d.i.push(new kO(d.Ya++,c)),d.G==3&&zl(d)},Yt.prototype.N=function(){this.g.l=null,delete this.j,Ug(this.g),delete this.g,Yt.aa.N.call(this)};function VD(c){Ng.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}T(VD,Ng);function jD(){Mg.call(this),this.status=1}T(jD,Mg);function fs(c){this.g=c}T(fs,LD),fs.prototype.ua=function(){xt(this.g,"a")},fs.prototype.ta=function(c){xt(this.g,new VD(c))},fs.prototype.sa=function(c){xt(this.g,new jD)},fs.prototype.ra=function(){xt(this.g,"b")},Gl.prototype.createWebChannel=Gl.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,gI=Hr.createWebChannelTransport=function(){return new Gl},pI=Hr.getStatEventTarget=function(){return Ol()},fI=Hr.Event=Yi,op=Hr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kl.NO_ERROR=0,kl.TIMEOUT=8,kl.HTTP_ERROR=6,Ju=Hr.ErrorCode=kl,tD.COMPLETE="complete",hI=Hr.EventType=tD,Yb.EventType=Xa,Xa.OPEN="a",Xa.CLOSE="b",Xa.ERROR="c",Xa.MESSAGE="d",mt.prototype.listen=mt.prototype.K,ya=Hr.WebChannel=Yb,_3=Hr.FetchXmlHttpFactory=ac,Oe.prototype.listenOnce=Oe.prototype.L,Oe.prototype.getLastError=Oe.prototype.Ka,Oe.prototype.getLastErrorCode=Oe.prototype.Ba,Oe.prototype.getStatus=Oe.prototype.Z,Oe.prototype.getResponseJson=Oe.prototype.Oa,Oe.prototype.getResponseText=Oe.prototype.oa,Oe.prototype.send=Oe.prototype.ea,Oe.prototype.setWithCredentials=Oe.prototype.Ha,dI=Hr.XhrIo=Oe}).apply(typeof ip<"u"?ip:typeof self<"u"?self:typeof window<"u"?window:{});var cM="@firebase/firestore",uM="4.8.0";var ct=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ct.UNAUTHENTICATED=new ct(null),ct.GOOGLE_CREDENTIALS=new ct("google-credentials-uid"),ct.FIRST_PARTY=new ct("first-party-uid"),ct.MOCK_USER=new ct("mock-user");var ja="11.10.0";var ts=new rr("@firebase/firestore");function va(){return ts.logLevel}function B(t,...e){if(ts.logLevel<=de.DEBUG){let n=e.map(ob);ts.debug(`Firestore (${ja}): ${t}`,...n)}}function zr(t,...e){if(ts.logLevel<=de.ERROR){let n=e.map(ob);ts.error(`Firestore (${ja}): ${t}`,...n)}}function $i(t,...e){if(ts.logLevel<=de.WARN){let n=e.map(ob);ts.warn(`Firestore (${ja}): ${t}`,...n)}}function ob(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function K(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,eP(t,r,n)}function eP(t,e,n){let r=`FIRESTORE (${ja}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw zr(r),new Error(r)}function we(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||eP(e,i,r)}function ne(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends rn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var cr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var hp=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},EI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ct.UNAUTHENTICATED))}shutdown(){}},II=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},wI=class{constructor(e){this.t=e,this.currentUser=ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){we(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new cr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new cr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string",31837,{l:r}),new hp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string",2055,{h:e}),new ct(e)}},bI=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ct.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},DI=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new bI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}},fp=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},CI=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){we(this.o===void 0,3512);let r=o=>{o.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,B("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new fp(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(we(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new fp(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function E3(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function tP(){return new TextEncoder}var il=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=E3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function le(t,e){return t<e?-1:t>e?1:0}function TI(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return le(r,i);{let o=tP(),s=I3(o.encode(lM(t,n)),o.encode(lM(e,n)));return s!==0?s:le(r,i)}}n+=r>65535?2:1}return le(t.length,e.length)}function lM(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function I3(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return le(t[n],e[n]);return le(t.length,e.length)}function Aa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var dM="__name__",pp=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&K(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&K(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return le(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):TI(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $r.fromString(e.substring(4,e.length-2))}},xe=class t extends pp{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},w3=/^[_a-zA-Z][_a-zA-Z0-9]*$/,on=class t extends pp{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return w3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dM}static keyField(){return new t([dM])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new V(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new V(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new V(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var q=class t{constructor(e){this.path=e}static fromPath(e){return new t(xe.fromString(e))}static fromName(e){return new t(xe.fromString(e).popFirst(5))}static empty(){return new t(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new xe(e.slice()))}};function nP(t,e,n){if(!n)throw new V(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function b3(t,e,n,r){if(e===!0&&r===!0)throw new V(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hM(t){if(!q.isDocumentKey(t))throw new V(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fM(t){if(q.isDocumentKey(t))throw new V(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function rP(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Gp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":K(12329,{type:typeof t})}function gp(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Gp(t);throw new V(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function D3(t,e){if(e<=0)throw new V(N.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Xe(t,e){let n={typeString:t};return e&&(n.value=e),n}function yl(t,e){if(!rP(t))throw new V(N.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new V(N.INVALID_ARGUMENT,n);return!0}var pM=-62135596800,gM=1e6,et=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*gM);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<pM)throw new V(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gM}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yl(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-pM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};et._jsonSchemaVersion="firestore/timestamp/1.0",et._jsonSchema={type:Xe("string",et._jsonSchemaVersion),seconds:Xe("number"),nanoseconds:Xe("number")};var ie=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new et(0,0))}static max(){return new t(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ol=-1,SI=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};SI.UNKNOWN_ID=-1;function C3(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new et(n+1,0):new et(n,r));return new ns(i,q.empty(),e)}function T3(t){return new ns(t.readTime,t.key,ol)}var ns=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ie.min(),q.empty(),ol)}static max(){return new t(ie.max(),q.empty(),ol)}};function S3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:le(t.largestBatchId,e.largestBatchId))}var A3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",AI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ua(t){return v(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==A3)throw t;B("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function R3(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ba(t){return t.name==="IndexedDbTransactionError"}var sb=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),ab=-1;function Wp(t){return t==null}function sl(t){return t===0&&1/t==-1/0}function N3(t){return typeof t=="number"&&Number.isInteger(t)&&!sl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var iP="";function M3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=mM(e)),e=P3(t.get(n),e);return mM(e)}function P3(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case iP:n+="";break;default:n+=o}}return n}function mM(t){return t+iP+""}var x3="remoteDocuments",oP="owner";var sP="mutationQueues";var aP="mutations";var cP="documentMutations",O3="remoteDocumentsV14";var uP="remoteDocumentGlobal";var lP="targets";var dP="targetDocuments";var hP="targetGlobal",fP="collectionParents";var pP="clientMetadata";var gP="bundles";var mP="namedQueries";var k3="indexConfiguration";var F3="indexState";var L3="indexEntries";var yP="documentOverlays";var V3="globals";var j3=[sP,aP,cP,x3,lP,oP,hP,dP,pP,uP,fP,gP,mP],tae=[...j3,yP],U3=[sP,aP,cP,O3,lP,oP,hP,dP,pP,uP,fP,gP,mP,yP],B3=U3,$3=[...B3,k3,F3,L3];var nae=[...$3,V3];function yM(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function cs(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vP(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var je=class t{constructor(e,n){this.comparator=e,this.root=n||ur.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ur.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ur.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wa(this.root,e,this.comparator,!1)}getReverseIterator(){return new wa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wa(this.root,e,this.comparator,!0)}},wa=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ur=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw K(43730,{key:this.key,value:this.value});if(this.right.isRed())throw K(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw K(27949);return e+(this.isRed()?0:1)}};ur.EMPTY=null,ur.RED=!0,ur.BLACK=!1;ur.EMPTY=new class{constructor(){this.size=0}get key(){throw K(57766)}get value(){throw K(16141)}get color(){throw K(16727)}get left(){throw K(29726)}get right(){throw K(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new ur(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ut=class t{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mp(this.data.getIterator())}getIteratorFrom(e){return new mp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},mp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ar=class t{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new t([])}unionWith(e){let n=new ut(on.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Aa(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var yp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Mt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new yp("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Mt.EMPTY_BYTE_STRING=new Mt("");var H3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qr(t){if(we(!!t,39018),typeof t=="string"){let e=0,n=H3.exec(t);if(we(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pe(t.seconds),nanos:Pe(t.nanos)}}function Pe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Gr(t){return typeof t=="string"?Mt.fromBase64String(t):Mt.fromUint8Array(t)}var _P="server_timestamp",EP="__type__",IP="__previous_value__",wP="__local_write_time__";function cb(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[EP])===null||n===void 0?void 0:n.stringValue)===_P}function Kp(t){let e=t.mapValue.fields[IP];return cb(e)?Kp(e):e}function al(t){let e=qr(t.mapValue.fields[wP].timestampValue);return new et(e.seconds,e.nanos)}var RI=class{constructor(e,n,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},vp="(default)",_p=class t{constructor(e,n){this.projectId=e,this.database=n||vp}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===vp}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var ub="__type__",bP="__max__",sp={mapValue:{fields:{__type__:{stringValue:bP}}}},lb="__vector__",Ra="value";function Hi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cb(t)?4:CP(t)?9007199254740991:DP(t)?10:11:K(28295,{value:t})}function hr(t,e){if(t===e)return!0;let n=Hi(t);if(n!==Hi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return al(t).isEqual(al(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=qr(i.timestampValue),a=qr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Gr(i.bytesValue).isEqual(Gr(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Pe(i.geoPointValue.latitude)===Pe(o.geoPointValue.latitude)&&Pe(i.geoPointValue.longitude)===Pe(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Pe(i.integerValue)===Pe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Pe(i.doubleValue),a=Pe(o.doubleValue);return s===a?sl(s)===sl(a):isNaN(s)&&isNaN(a)}return!1})(t,e);case 9:return Aa(t.arrayValue.values||[],e.arrayValue.values||[],hr);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(yM(s)!==yM(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!hr(s[u],a[u])))return!1;return!0})(t,e);default:return K(52216,{left:t})}}function cl(t,e){return(t.values||[]).find(n=>hr(n,e))!==void 0}function Na(t,e){if(t===e)return 0;let n=Hi(t),r=Hi(e);if(n!==r)return le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Pe(o.integerValue||o.doubleValue),u=Pe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(t,e);case 3:return vM(t.timestampValue,e.timestampValue);case 4:return vM(al(t),al(e));case 5:return TI(t.stringValue,e.stringValue);case 6:return(function(o,s){let a=Gr(o),u=Gr(s);return a.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=le(a[l],u[l]);if(h!==0)return h}return le(a.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=le(Pe(o.latitude),Pe(s.latitude));return a!==0?a:le(Pe(o.longitude),Pe(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return _M(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[Ra])===null||a===void 0?void 0:a.arrayValue,T=(u=m[Ra])===null||u===void 0?void 0:u.arrayValue,R=le(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=T?.values)===null||h===void 0?void 0:h.length)||0);return R!==0?R:_M(y,T)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===sp.mapValue&&s===sp.mapValue)return 0;if(o===sp.mapValue)return 1;if(s===sp.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=TI(u[p],h[p]);if(m!==0)return m;let y=Na(a[u[p]],l[h[p]]);if(y!==0)return y}return le(u.length,h.length)})(t.mapValue,e.mapValue);default:throw K(23264,{le:n})}}function vM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return le(t,e);let n=qr(t),r=qr(e),i=le(n.seconds,r.seconds);return i!==0?i:le(n.nanos,r.nanos)}function _M(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Na(n[i],r[i]);if(o)return o}return le(n.length,r.length)}function Ma(t){return NI(t)}function NI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=qr(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Gr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return q.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=NI(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${NI(n.fields[s])}`;return i+"}"})(t.mapValue):K(61005,{value:t})}function up(t){switch(Hi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Kp(t);return e?16+up(e):16;case 5:return 2*t.stringValue.length;case 6:return Gr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+up(o),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return cs(r.fields,(o,s)=>{i+=o.length+up(s)}),i})(t.mapValue);default:throw K(13486,{value:t})}}function EM(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function MI(t){return!!t&&"integerValue"in t}function db(t){return!!t&&"arrayValue"in t}function IM(t){return!!t&&"nullValue"in t}function wM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lp(t){return!!t&&"mapValue"in t}function DP(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[ub])===null||n===void 0?void 0:n.stringValue)===lb}function el(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return cs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=el(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=el(t.arrayValue.values[n]);return e}return Object.assign({},t)}function CP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===bP}var iae={mapValue:{fields:{[ub]:{stringValue:lb},[Ra]:{arrayValue:{}}}}};var kn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!lp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=el(n)}setAll(e){let n=on.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=el(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());lp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];lp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){cs(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(el(this.value))}};function TP(t){let e=[];return cs(t.fields,(n,r)=>{let i=new on([n]);if(lp(r)){let o=TP(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new ar(e)}var Fn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ie.min(),ie.min(),ie.min(),kn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ie.min(),ie.min(),kn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ie.min(),ie.min(),kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Pa=class{constructor(e,n){this.position=e,this.inclusive=n}};function bM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=q.comparator(q.fromName(s.referenceValue),n.key):r=Na(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function DM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hr(t.position[n],e.position[n]))return!1;return!0}var rs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function z3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ep=class{},Je=class t extends Ep{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new xI(e,n,r):n==="array-contains"?new FI(e,r):n==="in"?new LI(e,r):n==="not-in"?new VI(e,r):n==="array-contains-any"?new jI(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new OI(e,r):new kI(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Na(n,this.value)):n!==null&&Hi(this.value)===Hi(n)&&this.matchesComparison(Na(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ln=class t extends Ep{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return SP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function SP(t){return t.op==="and"}function AP(t){return q3(t)&&SP(t)}function q3(t){for(let e of t.filters)if(e instanceof Ln)return!1;return!0}function PI(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+Ma(t.value);if(AP(t))return t.filters.map(e=>PI(e)).join(",");{let e=t.filters.map(n=>PI(n)).join(",");return`${t.op}(${e})`}}function RP(t,e){return t instanceof Je?(function(r,i){return i instanceof Je&&r.op===i.op&&r.field.isEqual(i.field)&&hr(r.value,i.value)})(t,e):t instanceof Ln?(function(r,i){return i instanceof Ln&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&RP(s,i.filters[a]),!0):!1})(t,e):void K(19439)}function NP(t){return t instanceof Je?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ma(n.value)}`})(t):t instanceof Ln?(function(n){return n.op.toString()+" {"+n.getFilters().map(NP).join(" ,")+"}"})(t):"Filter"}var xI=class extends Je{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){let n=q.comparator(e.key,this.key);return this.matchesComparison(n)}},OI=class extends Je{constructor(e,n){super(e,"in",n),this.keys=MP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},kI=class extends Je{constructor(e,n){super(e,"not-in",n),this.keys=MP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function MP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}var FI=class extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return db(n)&&cl(n.arrayValue,this.value)}},LI=class extends Je{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&cl(this.value.arrayValue,n)}},VI=class extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!cl(this.value.arrayValue,n)}},jI=class extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!db(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>cl(this.value.arrayValue,r))}};var UI=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function CM(t,e=null,n=[],r=[],i=null,o=null,s=null){return new UI(t,e,n,r,i,o,s)}function hb(t){let e=ne(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>PI(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),Wp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ma(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ma(r)).join(",")),e.Pe=n}return e.Pe}function fb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!z3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!RP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!DM(t.startAt,e.startAt)&&DM(t.endAt,e.endAt)}function BI(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var zi=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function G3(t,e,n,r,i,o,s,a){return new zi(t,e,n,r,i,o,s,a)}function PP(t){return new zi(t)}function TM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xP(t){return t.collectionGroup!==null}function tl(t){let e=ne(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ut(on.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new rs(o,r))}),n.has(on.keyField().canonicalString())||e.Te.push(new rs(on.keyField(),r))}return e.Te}function lr(t){let e=ne(t);return e.Ie||(e.Ie=W3(e,tl(t))),e.Ie}function W3(t,e){if(t.limitType==="F")return CM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new rs(i.field,o)});let n=t.endAt?new Pa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Pa(t.startAt.position,t.startAt.inclusive):null;return CM(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $I(t,e){let n=t.filters.concat([e]);return new zi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ip(t,e,n){return new zi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qp(t,e){return fb(lr(t),lr(e))&&t.limitType===e.limitType}function OP(t){return`${hb(lr(t))}|lt:${t.limitType}`}function _a(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>NP(i)).join(", ")}]`),Wp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ma(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ma(i)).join(",")),`Target(${r})`})(lr(t))}; limitType=${t.limitType})`}function Yp(t,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(let o of tl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=bM(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,tl(r),i)||r.endAt&&!(function(s,a,u){let l=bM(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,tl(r),i))})(t,e)}function K3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kP(t){return(e,n)=>{let r=!1;for(let i of tl(t)){let o=Q3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Q3(t,e,n){let r=t.field.isKeyField()?q.comparator(e.key,n.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Na(u,l):K(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return K(19790,{direction:t.dir})}}var Wr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){cs(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return vP(this.inner)}size(){return this.innerSize}};var Y3=new je(q.comparator);function Kr(){return Y3}var FP=new je(q.comparator);function Xu(...t){let e=FP;for(let n of t)e=e.insert(n.key,n);return e}function LP(t){let e=FP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Jo(){return nl()}function VP(){return nl()}function nl(){return new Wr(t=>t.toString(),(t,e)=>t.isEqual(e))}var Z3=new je(q.comparator),J3=new ut(q.comparator);function fe(...t){let e=J3;for(let n of t)e=e.add(n);return e}var X3=new ut(le);function ez(){return X3}function pb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sl(e)?"-0":e}}function jP(t){return{integerValue:""+t}}function tz(t,e){return N3(e)?jP(e):pb(t,e)}var xa=class{constructor(){this._=void 0}};function nz(t,e,n){return t instanceof Oa?(function(i,o){let s={fields:{[EP]:{stringValue:_P},[wP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&cb(o)&&(o=Kp(o)),o&&(s.fields[IP]=o),{mapValue:s}})(n,e):t instanceof is?BP(t,e):t instanceof os?$P(t,e):(function(i,o){let s=UP(i,o),a=SM(s)+SM(i.Ee);return MI(s)&&MI(i.Ee)?jP(a):pb(i.serializer,a)})(t,e)}function rz(t,e,n){return t instanceof is?BP(t,e):t instanceof os?$P(t,e):n}function UP(t,e){return t instanceof ka?(function(r){return MI(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Oa=class extends xa{},is=class extends xa{constructor(e){super(),this.elements=e}};function BP(t,e){let n=HP(e);for(let r of t.elements)n.some(i=>hr(i,r))||n.push(r);return{arrayValue:{values:n}}}var os=class extends xa{constructor(e){super(),this.elements=e}};function $P(t,e){let n=HP(e);for(let r of t.elements)n=n.filter(i=>!hr(i,r));return{arrayValue:{values:n}}}var ka=class extends xa{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function SM(t){return Pe(t.integerValue||t.doubleValue)}function HP(t){return db(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function iz(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof is&&i instanceof is||r instanceof os&&i instanceof os?Aa(r.elements,i.elements,hr):r instanceof ka&&i instanceof ka?hr(r.Ee,i.Ee):r instanceof Oa&&i instanceof Oa})(t.transform,e.transform)}var HI=class{constructor(e,n){this.version=e,this.transformResults=n}},es=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function dp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Fa=class{};function zP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wp(t.key,es.none()):new ss(t.key,t.data,es.none());{let n=t.data,r=kn.empty(),i=new ut(on.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Qr(t.key,r,new ar(i.toArray()),es.none())}}function oz(t,e,n){t instanceof ss?(function(i,o,s){let a=i.value.clone(),u=RM(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(t,e,n):t instanceof Qr?(function(i,o,s){if(!dp(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=RM(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(qP(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function rl(t,e,n,r){return t instanceof ss?(function(o,s,a,u){if(!dp(o.precondition,s))return a;let l=o.value.clone(),h=NM(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(t,e,n,r):t instanceof Qr?(function(o,s,a,u){if(!dp(o.precondition,s))return a;let l=NM(o.fieldTransforms,u,s),h=s.data;return h.setAll(qP(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(t,e,n,r):(function(o,s,a){return dp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(t,e,n)}function sz(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=UP(r.transform,i||null);o!=null&&(n===null&&(n=kn.empty()),n.set(r.field,o))}return n||null}function AM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Aa(r,i,(o,s)=>iz(o,s))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ss=class extends Fa{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Qr=class extends Fa{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function qP(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function RM(t,e,n){let r=new Map;we(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,rz(s,a,n[i]))}return r}function NM(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,nz(o,s,e))}return r}var wp=class extends Fa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},zI=class extends Fa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var qI=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&oz(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=rl(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=rl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=VP();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=zP(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&Aa(this.mutations,e.mutations,(n,r)=>AM(n,r))&&Aa(this.baseMutations,e.baseMutations,(n,r)=>AM(n,r))}},GI=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){we(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return Z3})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var WI=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var KI=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ye,me;function az(t){switch(t){case N.OK:return K(64938);case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return K(15467,{code:t})}}function GP(t){if(t===void 0)return zr("GRPC error has no .code"),N.UNKNOWN;switch(t){case Ye.OK:return N.OK;case Ye.CANCELLED:return N.CANCELLED;case Ye.UNKNOWN:return N.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return N.INTERNAL;case Ye.UNAVAILABLE:return N.UNAVAILABLE;case Ye.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Ye.NOT_FOUND:return N.NOT_FOUND;case Ye.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Ye.ABORTED:return N.ABORTED;case Ye.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Ye.DATA_LOSS:return N.DATA_LOSS;default:return K(39323,{code:t})}}(me=Ye||(Ye={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";var MM=null;var cz=new $r([4294967295,4294967295],0);function PM(t){let e=tP().encode(t),n=new lI;return n.update(e),new Uint8Array(n.digest())}function xM(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new $r([n,r],0),new $r([i,o],0)]}var QI=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xo(`Invalid padding: ${n}`);if(r<0)throw new Xo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xo(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=$r.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply($r.fromNumber(r)));return i.compare(cz)===1&&(i=new $r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let n=PM(e),[r,i]=xM(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let n=PM(e),[r,i]=xM(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Xo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var bp=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ul.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ie.min(),i,new je(le),Kr(),fe())}},ul=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,fe(),fe(),fe())}};var Da=class{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}},Dp=class{constructor(e,n){this.targetId=e,this.De=n}},Cp=class{constructor(e,n,r=Mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Tp=class{constructor(){this.ve=0,this.Ce=OM(),this.Fe=Mt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=fe(),n=fe(),r=fe();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:K(38017,{changeType:o})}}),new ul(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=OM()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,we(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},YI=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Kr(),this.je=ap(),this.Je=ap(),this.He=new je(le)}Ye(e){for(let n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(let n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{let r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:K(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){let n=e.targetId,r=e.De.count,i=this.st(n);if(i){let o=i.target;if(BI(o))if(r===0){let s=new q(o.path);this.Xe(n,s,Fn.newNoDocument(s,ie.min()))}else we(r===1,20013,{expectedCount:r});else{let s=this.ot(n);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,l)}MM?.ct((function(h,p,m,y,T){var R,M,L,Z,X,Te;let Pt={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},be=p.unchangedNames;return be&&(Pt.bloomFilter={applied:T===0,hashCount:(R=be?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(Z=(L=(M=be?.bits)===null||M===void 0?void 0:M.bitmap)===null||L===void 0?void 0:L.length)!==null&&Z!==void 0?Z:0,padding:(Te=(X=be?.bits)===null||X===void 0?void 0:X.padding)!==null&&Te!==void 0?Te:0,mightContain:b=>{var _;return(_=y?.mightContain(b))!==null&&_!==void 0&&_}}),Pt})(s,e.De,this.We.lt(),a,u))}}}}_t(e){let n=e.De.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Gr(r).toUint8Array()}catch(u){if(u instanceof yp)return $i("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new QI(s,i,o)}catch(u){return $i(u instanceof Xo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){let r=this.We.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,o,null),i++)}),i}Pt(e){let n=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&BI(a.target)){let u=new q(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,Fn.newNoDocument(u,e))}o.Ne&&(n.set(s,o.Le()),o.ke())}});let r=fe();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new bp(e,n,this.He,this.ze,r);return this.ze=Kr(),this.je=ap(),this.Je=ap(),this.He=new je(le),i}Ze(e,n){if(!this.nt(e))return;let r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new Tp,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new ut(le),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new ut(le),this.je=this.je.insert(e,n)),n}nt(e){let n=this.st(e)!==null;return n||B("WatchChangeAggregator","Detected inactive target",e),n}st(e){let n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Tp),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}};function ap(){return new je(q.comparator)}function OM(){return new je(q.comparator)}var uz={asc:"ASCENDING",desc:"DESCENDING"},lz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dz={and:"AND",or:"OR"},ZI=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function JI(t,e){return t.useProto3Json||Wp(e)?e:{value:e}}function Sp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hz(t,e){return Sp(t,e.toTimestamp())}function dr(t){return we(!!t,49232),ie.fromTimestamp((function(n){let r=qr(n);return new et(r.seconds,r.nanos)})(t))}function gb(t,e){return XI(t,e).canonicalString()}function XI(t,e){let n=(function(i){return new xe(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function KP(t){let e=xe.fromString(t);return we(XP(e),10190,{key:e.toString()}),e}function ew(t,e){return gb(t.databaseId,e.path)}function mI(t,e){let n=KP(e);if(n.get(1)!==t.databaseId.projectId)throw new V(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(YP(n))}function QP(t,e){return gb(t.databaseId,e)}function fz(t){let e=KP(t);return e.length===4?xe.emptyPath():YP(e)}function tw(t){return new xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YP(t){return we(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function kM(t,e,n){return{name:ew(t,e),fields:n.value.mapValue.fields}}function pz(t,e){let n;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:K(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(we(h===void 0||typeof h=="string",58123),Mt.fromBase64String(h||"")):(we(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Mt.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?N.UNKNOWN:GP(l.code);return new V(h,l.message||"")})(s);n=new Cp(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=mI(t,r.document.name),o=dr(r.document.updateTime),s=r.document.createTime?dr(r.document.createTime):ie.min(),a=new kn({mapValue:{fields:r.document.fields}}),u=Fn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Da(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=mI(t,r.document),o=r.readTime?dr(r.readTime):ie.min(),s=Fn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Da([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=mI(t,r.document),o=r.removedTargetIds||[];n=new Da([],o,i,null)}else{if(!("filter"in e))return K(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new KI(i,o),a=r.targetId;n=new Dp(a,s)}}return n}function gz(t,e){let n;if(e instanceof ss)n={update:kM(t,e.key,e.value)};else if(e instanceof wp)n={delete:ew(t,e.key)};else if(e instanceof Qr)n={update:kM(t,e.key,e.data),updateMask:Dz(e.fieldMask)};else{if(!(e instanceof zI))return K(16599,{Rt:e.type});n={verify:ew(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof Oa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof is)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof os)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ka)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw K(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:hz(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:K(27497)})(t,e.precondition)),n}function mz(t,e){return t&&t.length>0?(we(e!==void 0,14353),t.map(n=>(function(i,o){let s=i.updateTime?dr(i.updateTime):dr(o);return s.isEqual(ie.min())&&(s=dr(o)),new HI(s,i.transformResults||[])})(n,e))):[]}function yz(t,e){return{documents:[QP(t,e.path)]}}function vz(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=QP(t,i);let o=(function(l){if(l.length!==0)return JP(Ln.create(l,"and"))})(e.filters);o&&(n.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(m){return{field:Ea(m.field),direction:Iz(m.dir)}})(h))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=JI(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:n,parent:i}}function _z(t){let e=fz(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){we(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(p){let m=ZP(p);return m instanceof Ln&&AP(m)?m.getFilters():[m]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map(m=>(function(T){return new rs(Ia(T.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(m))})(n.orderBy));let a=null;n.limit&&(a=(function(p){let m;return m=typeof p=="object"?p.value:p,Wp(m)?null:m})(n.limit));let u=null;n.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new Pa(y,m)})(n.startAt));let l=null;return n.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new Pa(y,m)})(n.endAt)),G3(e,i,s,o,a,"F",u,l)}function Ez(t,e){let n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ZP(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ia(n.unaryFilter.field);return Je.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ia(n.unaryFilter.field);return Je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ia(n.unaryFilter.field);return Je.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ia(n.unaryFilter.field);return Je.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return K(61313);default:return K(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Je.create(Ia(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return K(58110);default:return K(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ln.create(n.compositeFilter.filters.map(r=>ZP(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K(1026)}})(n.compositeFilter.op))})(t):K(30097,{filter:t})}function Iz(t){return uz[t]}function wz(t){return lz[t]}function bz(t){return dz[t]}function Ea(t){return{fieldPath:t.canonicalString()}}function Ia(t){return on.fromServerFormat(t.fieldPath)}function JP(t){return t instanceof Je?(function(n){if(n.op==="=="){if(wM(n.value))return{unaryFilter:{field:Ea(n.field),op:"IS_NAN"}};if(IM(n.value))return{unaryFilter:{field:Ea(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wM(n.value))return{unaryFilter:{field:Ea(n.field),op:"IS_NOT_NAN"}};if(IM(n.value))return{unaryFilter:{field:Ea(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ea(n.field),op:wz(n.op),value:n.value}}})(t):t instanceof Ln?(function(n){let r=n.getFilters().map(i=>JP(i));return r.length===1?r[0]:{compositeFilter:{op:bz(n.op),filters:r}}})(t):K(54877,{filter:t})}function Dz(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function XP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var ll=class t{constructor(e,n,r,i,o=ie.min(),s=ie.min(),a=Mt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var nw=class{constructor(e){this.gt=e}};function Cz(t){let e=_z({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ip(e,e.limit,"L"):e}var Ap=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(Pe(e.integerValue));else if("doubleValue"in e){let r=Pe(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),sl(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=qr(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(Gr(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?CP(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):DP(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):K(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=Ra,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(Pe(a)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),q.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};Ap.Ut=new Ap;var rw=class{constructor(){this.Dn=new iw}addToCollectionParentIndex(e,n){return this.Dn.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(ns.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},iw=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ut(xe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ut(xe.comparator)).toArray()}};var oae=new Uint8Array(0);var FM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ex=41943040,yn=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(ex,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);var dl=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var LM="LruGarbageCollector",Tz=1048576;function VM([t,e],[n,r]){let i=le(t,n);return i===0?le(e,r):i}var ow=class{constructor(e){this.Tr=e,this.buffer=new ut(VM),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();VM(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},sw=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){B(LM,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ba(n)?B(LM,"Ignoring IndexedDB error during garbage collection: ",n):yield Ua(n)}yield this.Rr(3e5)}))}},aw=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return x.resolve(sb.ue);let r=new ow(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(FM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FM):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),va()<=de.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function Sz(t,e){return new aw(t,e)}var cw=class{constructor(){this.changes=new Wr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var uw=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var lw=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&rl(r.mutation,i,ar.empty(),et.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){let i=Jo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Xu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Jo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Kr(),s=nl(),a=(function(){return nl()})();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Qr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),rl(h.mutation,l,h.mutation.getFieldMask(),et.now())):s.set(l.key,ar.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new uw(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=nl(),i=new je((s,a)=>s-a),o=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||ar.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||fe()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=VP();h.forEach(m=>{if(!o.has(m)){let y=zP(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):x.resolve(Jo()),a=ol,u=o;return s.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,fe())).next(h=>({batchId:a,changes:LP(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=Xu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Xu();return this.indexManager.getCollectionParents(e,o).next(a=>x.forEach(a,u=>{let l=(function(p,m){return new zi(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Fn.newInvalidDocument(h)))});let a=Xu();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&rl(h.mutation,l,ar.empty(),et.now()),Yp(n,l)&&(a=a.insert(u,l))}),a})}};var dw=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return x.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:dr(i.createTime)}})(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(i){return{name:i.name,query:Cz(i.bundledQuery),readTime:dr(i.readTime)}})(n)),x.resolve()}};var hw=class{constructor(){this.overlays=new je(q.comparator),this.kr=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Jo();return x.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=Jo(),o=n.length+1,s=new q(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new je((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Jo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Jo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new WI(n,r));let o=this.kr.get(n);o===void 0&&(o=fe(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var fw=class{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}};var hl=class{constructor(){this.qr=new ut(Ze.Qr),this.$r=new ut(Ze.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new Ze(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Ze(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new q(new xe([])),r=new Ze(n,e),i=new Ze(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new q(new xe([])),r=new Ze(n,e),i=new Ze(n,e+1),o=fe();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ze(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ze=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return q.comparator(e.key,n.key)||le(e.Hr,n.Hr)}static Ur(e,n){return le(e.Hr,n.Hr)||q.comparator(e.key,n.key)}};var pw=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new ut(Ze.Qr)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new qI(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new Ze(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,n){return x.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?ab:this.er-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ze(n,0),i=new Ze(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(le);return n.forEach(i=>{let o=new Ze(i,0),s=new Ze(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),x.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;q.isDocumentKey(o)||(o=o.child(""));let s=new Ze(new q(o),0),a=new ut(le);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),x.resolve(this.ei(a))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){we(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return x.forEach(n.mutations,i=>{let o=new Ze(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new Ze(n,0),i=this.Yr.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var gw=class{constructor(e){this.ni=e,this.docs=(function(){return new je(q.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():Fn.newInvalidDocument(n))}getEntries(e,n){let r=Kr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Fn.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Kr(),s=n.path,a=new q(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||S3(T3(h),r)<=0||(i.has(h.key)||Yp(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,n,r,i){K(9500)}ri(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new mw(this)}getSize(e){return x.resolve(this.size)}},mw=class extends cw{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var yw=class{constructor(e){this.persistence=e,this.ii=new Wr(n=>hb(n),fb),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.si=0,this.oi=new hl,this.targetCount=0,this._i=dl.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),x.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new dl(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.hr(n),x.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.oi.containsKey(n))}};var Rp=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new sb(0),this.ci=!1,this.ci=!0,this.li=new fw,this.referenceDelegate=e(this),this.hi=new yw(this),this.indexManager=new rw,this.remoteDocumentCache=(function(i){return new gw(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new nw(n),this.Ti=new dw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hw,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new pw(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){B("MemoryPersistence","Starting transaction:",e);let i=new vw(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return x.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},vw=class extends AI{constructor(e){super(),this.currentSequenceNumber=e}},_w=class t{constructor(e){this.persistence=e,this.Ai=new hl,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw K(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),x.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.mi,r=>{let i=q.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,ie.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return x.or([()=>x.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},Np=class t{constructor(e,n){this.persistence=e,this.gi=new Wr(r=>M3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Sz(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return x.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return x.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?x.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,ie.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),x.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),x.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),x.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),x.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=up(e.data.value)),n}Sr(e,n,r){return x.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return x.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Ew=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=fe(),i=fe();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Iw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var ww=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return DR()?8:R3(st())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Iw;return this.ws(e,n,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,n,s,a.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(va()<=de.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",_a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),x.resolve()):(va()<=de.DEBUG&&B("QueryEngine","Query:",_a(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(va()<=de.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",_a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,lr(n))):x.resolve())}ps(e,n){if(TM(n))return x.resolve(null);let r=lr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ip(n,null,"F"),r=lr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=fe(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(n,a);return this.Ds(n,l,s,u.readTime)?this.ps(e,Ip(n,null,"F")):this.vs(e,l,n,u)}))})))}ys(e,n,r,i){return TM(n)||i.isEqual(ie.min())?x.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?x.resolve(null):(va()<=de.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_a(n)),this.vs(e,s,n,C3(i,ol)).next(a=>a))})}bs(e,n){let r=new ut(kP(e));return n.forEach((i,o)=>{Yp(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return va()<=de.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",_a(n)),this.gs.getDocumentsMatchingQuery(e,n,ns.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var mb="LocalStore",Az=3e8,bw=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new je(le),this.Ms=new Wr(o=>hb(o),fb),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lw(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function Rz(t,e,n,r){return new bw(t,e,n,r)}function tx(t,e){return v(this,null,function*(){let n=ne(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=fe();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function Nz(t,e){let n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,h){let p=l.batch,m=p.keys(),y=x.resolve();return m.forEach(T=>{y=y.next(()=>h.getEntry(u,T)).next(R=>{let M=l.docVersions.get(T);we(M!==null,48541),R.version.compareTo(M)<0&&(p.applyToRemoteDocument(R,l),R.isValidDocument()&&(R.setReadTime(l.commitVersion),h.addEntry(R)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=fe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function nx(t){let e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function Mz(t,e){let n=ne(t),r=e.snapshotVersion,i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Mt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(R,M,L){return R.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=Az?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(m,y,h)&&a.push(n.hi.updateTargetData(o,y))});let u=Kr(),l=fe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(Pz(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(ie.min())){let h=n.hi.getLastRemoteSnapshotVersion(o).next(p=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Fs=i,o))}function Pz(t,e,n){let r=fe(),i=fe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Kr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ie.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):B(mb,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function xz(t,e){let n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ab),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Oz(t,e){let n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new ll(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}function Dw(t,e,n){return v(this,null,function*(){let r=ne(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ba(s))throw s;B(mb,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function jM(t,e,n){let r=ne(t),i=ie.min(),o=fe();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=ne(u),m=p.Ms.get(h);return m!==void 0?x.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)})(r,s,lr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:ie.min(),n?o:fe())).next(a=>(kz(r,K3(e),a),{documents:a,qs:o})))}function kz(t,e,n){let r=t.xs.get(e)||ie.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}var Mp=class{constructor(){this.activeTargetIds=ez()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Cw=class{constructor(){this.Fo=new Mp,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Mp,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Tw=class{xo(e){}shutdown(){}};var UM="ConnectivityMonitor",Pp=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){B(UM,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){B(UM,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var cp=null;function Sw(){return cp===null?cp=(function(){return 268435456+Math.round(2147483648*Math.random())})():cp++,"0x"+cp.toString(16)}var yI="RestConnection",Fz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Aw=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===vp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=Sw(),a=this.Go(e,n.toUriEncodedString());B(yI,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=Si(l);return this.jo(e,a,u,r,h).then(p=>(B(yI,`Received RPC '${e}' ${s}: `,p),p),p=>{throw $i(yI,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ja})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=Fz[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var Rw=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Nt="WebChannelConnection",Nw=class extends Aw{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=Sw();return new Promise((a,u)=>{let l=new dI;l.setWithCredentials(!0),l.listenOnce(hI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ju.NO_ERROR:let p=l.getResponseJson();B(Nt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Ju.TIMEOUT:B(Nt,`RPC '${e}' ${s} timed out`),u(new V(N.DEADLINE_EXCEEDED,"Request time out"));break;case Ju.HTTP_ERROR:let m=l.getStatus();if(B(Nt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let T=y?.error;if(T&&T.status&&T.message){let R=(function(L){let Z=L.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(Z)>=0?Z:N.UNKNOWN})(T.status);u(new V(R,T.message))}else u(new V(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new V(N.UNAVAILABLE,"Connection failed."));break;default:K(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{B(Nt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);B(Nt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}P_(e,n,r){let i=Sw(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=gI(),a=pI(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");B(Nt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,y=!1,T=new Rw({Ho:M=>{y?B(Nt,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(m||(B(Nt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),B(Nt,`RPC '${e}' stream ${i} sending:`,M),p.send(M))},Yo:()=>p.close()}),R=(M,L,Z)=>{M.listen(L,X=>{try{Z(X)}catch(Te){setTimeout(()=>{throw Te},0)}})};return R(p,ya.EventType.OPEN,()=>{y||(B(Nt,`RPC '${e}' stream ${i} transport opened.`),T.s_())}),R(p,ya.EventType.CLOSE,()=>{y||(y=!0,B(Nt,`RPC '${e}' stream ${i} transport closed`),T.__(),this.I_(p))}),R(p,ya.EventType.ERROR,M=>{y||(y=!0,$i(Nt,`RPC '${e}' stream ${i} transport errored. Name:`,M.name,"Message:",M.message),T.__(new V(N.UNAVAILABLE,"The operation could not be completed")))}),R(p,ya.EventType.MESSAGE,M=>{var L;if(!y){let Z=M.data[0];we(!!Z,16349);let X=Z,Te=X?.error||((L=X[0])===null||L===void 0?void 0:L.error);if(Te){B(Nt,`RPC '${e}' stream ${i} received error:`,Te);let Pt=Te.status,be=(function(I){let w=Ye[I];if(w!==void 0)return GP(w)})(Pt),b=Te.message;be===void 0&&(be=N.INTERNAL,b="Unknown error status: "+Pt+" with message "+Te.message),y=!0,T.__(new V(be,b)),p.close()}else B(Nt,`RPC '${e}' stream ${i} received:`,Z),T.a_(Z)}}),R(a,fI.STAT_EVENT,M=>{M.stat===op.PROXY?B(Nt,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===op.NOPROXY&&B(Nt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.o_()},0),T}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function vI(){return typeof document<"u"?document:null}function Zp(t){return new ZI(t,!0)}var xp=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var BM="PersistentStream",Op=class{constructor(e,n,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new xp(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return v(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return v(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,n){return v(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(zr(n.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(n)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new V(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>v(this,null,function*(){this.state=0,this.start()}))}G_(e){return B(BM,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(B(BM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Mw=class extends Op{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let n=pz(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ie.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ie.min():s.readTime?dr(s.readTime):ie.min()})(e);return this.listener.J_(n,r)}H_(e){let n={};n.database=tw(this.serializer),n.addTarget=(function(o,s){let a,u=s.target;if(a=BI(u)?{documents:yz(o,u)}:{query:vz(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=WP(o,s.resumeToken);let l=JI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ie.min())>0){a.readTime=Sp(o,s.snapshotVersion.toTimestamp());let l=JI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=Ez(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){let n={};n.database=tw(this.serializer),n.removeTarget=e,this.k_(n)}},Pw=class extends Op{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return we(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){we(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let n=mz(e.writeResults,e.commitTime),r=dr(e.commitTime);return this.listener.ta(r,n)}na(){let e={};e.database=tw(this.serializer),this.k_(e)}X_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>gz(this.serializer,r))};this.k_(n)}};var xw=class{},Ow=class extends xw{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new V(N.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,XI(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(N.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,XI(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(N.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},kw=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(zr(n),this._a=!1):B("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var as="RemoteStore",Fw=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>v(this,null,function*(){us(this)&&(B(as,"Restarting streams for network reachability change."),yield(function(u){return v(this,null,function*(){let l=ne(u);l.Ia.add(4),yield vl(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield Jp(l)})})(this))}))}),this.Aa=new kw(r,i)}};function Jp(t){return v(this,null,function*(){if(us(t))for(let e of t.da)yield e(!0)})}function vl(t){return v(this,null,function*(){for(let e of t.da)yield e(!1)})}function rx(t,e){let n=ne(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Eb(n)?_b(n):$a(n).x_()&&vb(n,e))}function yb(t,e){let n=ne(t),r=$a(n);n.Ta.delete(e),r.x_()&&ix(n,e),n.Ta.size===0&&(r.x_()?r.B_():us(n)&&n.Aa.set("Unknown"))}function vb(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$a(t).H_(e)}function ix(t,e){t.Ra.$e(e),$a(t).Y_(e)}function _b(t){t.Ra=new YI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),$a(t).start(),t.Aa.aa()}function Eb(t){return us(t)&&!$a(t).M_()&&t.Ta.size>0}function us(t){return ne(t).Ia.size===0}function ox(t){t.Ra=void 0}function Lz(t){return v(this,null,function*(){t.Aa.set("Online")})}function Vz(t){return v(this,null,function*(){t.Ta.forEach((e,n)=>{vb(t,e)})})}function jz(t,e){return v(this,null,function*(){ox(t),Eb(t)?(t.Aa.la(e),_b(t)):t.Aa.set("Unknown")})}function Uz(t,e,n){return v(this,null,function*(){if(t.Aa.set("Online"),e instanceof Cp&&e.state===2&&e.cause)try{yield(function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(t,e)}catch(r){B(as,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield kp(t,r)}else if(e instanceof Da?t.Ra.Ye(e):e instanceof Dp?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ie.min()))try{let r=yield nx(t.localStore);n.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(Mt.EMPTY_BYTE_STRING,h.snapshotVersion)),ix(o,u);let p=new ll(h.target,u,l,h.sequenceNumber);vb(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(t,n))}catch(r){B(as,"Failed to raise snapshot:",r),yield kp(t,r)}})}function kp(t,e,n){return v(this,null,function*(){if(!Ba(e))throw e;t.Ia.add(1),yield vl(t),t.Aa.set("Offline"),n||(n=()=>nx(t.localStore)),t.asyncQueue.enqueueRetryable(()=>v(null,null,function*(){B(as,"Retrying IndexedDB access"),yield n(),t.Ia.delete(1),yield Jp(t)}))})}function sx(t,e){return e().catch(n=>kp(t,n,e))}function Xp(t){return v(this,null,function*(){let e=ne(t),n=qi(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:ab;for(;Bz(e);)try{let i=yield xz(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,$z(e,i)}catch(i){yield kp(e,i)}ax(e)&&cx(e)})}function Bz(t){return us(t)&&t.Pa.length<10}function $z(t,e){t.Pa.push(e);let n=qi(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function ax(t){return us(t)&&!qi(t).M_()&&t.Pa.length>0}function cx(t){qi(t).start()}function Hz(t){return v(this,null,function*(){qi(t).na()})}function zz(t){return v(this,null,function*(){let e=qi(t);for(let n of t.Pa)e.X_(n.mutations)})}function qz(t,e,n){return v(this,null,function*(){let r=t.Pa.shift(),i=GI.from(r,e,n);yield sx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Xp(t)})}function Gz(t,e){return v(this,null,function*(){e&&qi(t).Z_&&(yield(function(r,i){return v(this,null,function*(){if((function(s){return az(s)&&s!==N.ABORTED})(i.code)){let o=r.Pa.shift();qi(r).N_(),yield sx(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Xp(r)}})})(t,e)),ax(t)&&cx(t)})}function $M(t,e){return v(this,null,function*(){let n=ne(t);n.asyncQueue.verifyOperationInProgress(),B(as,"RemoteStore received new credentials");let r=us(n);n.Ia.add(3),yield vl(n),r&&n.Aa.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),yield Jp(n)})}function Wz(t,e){return v(this,null,function*(){let n=ne(t);e?(n.Ia.delete(2),yield Jp(n)):e||(n.Ia.add(2),yield vl(n),n.Aa.set("Unknown"))})}function $a(t){return t.Va||(t.Va=(function(n,r,i){let o=ne(n);return o.ia(),new Mw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:Lz.bind(null,t),e_:Vz.bind(null,t),n_:jz.bind(null,t),J_:Uz.bind(null,t)}),t.da.push(e=>v(null,null,function*(){e?(t.Va.N_(),Eb(t)?_b(t):t.Aa.set("Unknown")):(yield t.Va.stop(),ox(t))}))),t.Va}function qi(t){return t.ma||(t.ma=(function(n,r,i){let o=ne(n);return o.ia(),new Pw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:Hz.bind(null,t),n_:Gz.bind(null,t),ea:zz.bind(null,t),ta:qz.bind(null,t)}),t.da.push(e=>v(null,null,function*(){e?(t.ma.N_(),yield Xp(t)):(yield t.ma.stop(),t.Pa.length>0&&(B(as,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}var Lw=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Ib(t,e){if(zr("AsyncQueue",`${e}: ${t}`),Ba(t))return new V(N.UNAVAILABLE,`${e}: ${t}`);throw t}var Fp=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=Xu(),this.sortedSet=new je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Lp=class{constructor(){this.fa=new je(q.comparator)}track(e){let n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):K(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){let e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}},La=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Fp.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Vw=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},jw=class{constructor(){this.queries=HM(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=ne(n),o=i.queries;i.queries=HM(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new V(N.ABORTED,"Firestore shutting down"))}};function HM(){return new Wr(t=>OP(t),Qp)}function Kz(t,e){return v(this,null,function*(){let n=ne(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new Vw,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield n.onListen(i,!0);break;case 1:o.ya=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=Ib(s,`Initialization of query '${_a(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&wb(n)})}function Qz(t,e){return v(this,null,function*(){let n=ne(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function Yz(t,e){let n=ne(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&wb(n)}function Zz(t,e,n){let r=ne(t),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(n);r.queries.delete(e)}function wb(t){t.Da.forEach(e=>{e.next()})}var Uw,zM;(zM=Uw||(Uw={})).Fa="default",zM.Cache="cache";var Bw=class{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new La(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;let r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=La.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Uw.Cache}};var Vp=class{constructor(e){this.key=e}},jp=class{constructor(e){this.key=e}},$w=class{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=fe(),this.mutatedKeys=fe(),this.Xa=kP(e),this.eu=new Fp(this.Xa)}get tu(){return this.Ha}nu(e,n){let r=n?n.ru:new Lp,i=n?n.eu:this.eu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Yp(this.query,p)?p:null,T=!!m&&this.mutatedKeys.has(m.key),R=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),M=!1;m&&y?m.data.isEqual(y.data)?T!==R&&(r.track({type:3,doc:y}),M=!0):this.iu(m,y)||(r.track({type:2,doc:y}),M=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),M=!0):m&&!y&&(r.track({type:1,doc:m}),M=!0,(u||l)&&(a=!0)),M&&(y?(s=s.add(y),o=R?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(y,T){let R=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K(20277,{At:M})}};return R(y)-R(T)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=n&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new La(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Lp,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=fe(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new jp(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new Vp(r))}),n}uu(e){this.Ha=e.qs,this.Za=fe();let n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return La.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},bb="SyncEngine",Hw=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},zw=class{constructor(e){this.key=e,this.lu=!1}},qw=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Wr(a=>OP(a),Qp),this.Tu=new Map,this.Iu=new Set,this.du=new je(q.comparator),this.Eu=new Map,this.Au=new hl,this.Ru={},this.Vu=new Map,this.mu=dl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function Jz(t,e,n=!0){return v(this,null,function*(){let r=px(t),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield ux(r,e,n,!0),i})}function Xz(t,e){return v(this,null,function*(){let n=px(t);yield ux(n,e,!0,!1)})}function ux(t,e,n,r){return v(this,null,function*(){let i=yield Oz(t.localStore,lr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield e5(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&rx(t.remoteStore,i),a})}function e5(t,e,n,r,i){return v(this,null,function*(){t.gu=(p,m,y)=>(function(R,M,L,Z){return v(this,null,function*(){let X=M.view.nu(L);X.Ds&&(X=yield jM(R.localStore,M.query,!1).then(({documents:b})=>M.view.nu(b,X)));let Te=Z&&Z.targetChanges.get(M.targetId),Pt=Z&&Z.targetMismatches.get(M.targetId)!=null,be=M.view.applyChanges(X,R.isPrimaryClient,Te,Pt);return GM(R,M.targetId,be._u),be.snapshot})})(t,p,m,y);let o=yield jM(t.localStore,e,!0),s=new $w(e,o.qs),a=s.nu(o.documents),u=ul.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);GM(t,n,l._u);let h=new Hw(e,n,s);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),l.snapshot})}function t5(t,e,n){return v(this,null,function*(){let r=ne(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Qp(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Dw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&yb(r.remoteStore,i.targetId),Gw(r,i.targetId)}).catch(Ua))):(Gw(r,i.targetId),yield Dw(r.localStore,i.targetId,!0))})}function n5(t,e){return v(this,null,function*(){let n=ne(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),yb(n.remoteStore,r.targetId))})}function r5(t,e,n){return v(this,null,function*(){let r=l5(t);try{let i=yield(function(s,a){let u=ne(s),l=et.now(),h=a.reduce((y,T)=>y.add(T.key),fe()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=Kr(),R=fe();return u.Os.getEntries(y,h).next(M=>{T=M,T.forEach((L,Z)=>{Z.isValidDocument()||(R=R.add(L))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,T)).next(M=>{p=M;let L=[];for(let Z of a){let X=sz(Z,p.get(Z.key).overlayedDocument);X!=null&&L.push(new Qr(Z.key,X,TP(X.value.mapValue),es.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,L,a)}).next(M=>{m=M;let L=M.applyToLocalDocumentSet(p,R);return u.documentOverlayCache.saveOverlays(y,M.batchId,L)})}).then(()=>({batchId:m.batchId,changes:LP(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new je(le)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,n),yield _l(r,i.changes),yield Xp(r.remoteStore)}catch(i){let o=Ib(i,"Failed to persist write");n.reject(o)}})}function lx(t,e){return v(this,null,function*(){let n=ne(t);try{let r=yield Mz(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(we(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?we(s.lu,14607):i.removedDocuments.size>0&&(we(s.lu,42227),s.lu=!1))}),yield _l(n,r,e)}catch(r){yield Ua(r)}})}function qM(t,e,n){let r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=ne(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(a)&&(l=!0)}),l&&wb(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function i5(t,e,n){return v(this,null,function*(){let r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new je(q.comparator);s=s.insert(o,Fn.newNoDocument(o,ie.min()));let a=fe().add(o),u=new bp(ie.min(),new Map,new je(le),s,a);yield lx(r,u),r.du=r.du.remove(o),r.Eu.delete(e),Db(r)}else yield Dw(r.localStore,e,!1).then(()=>Gw(r,e,n)).catch(Ua)})}function o5(t,e){return v(this,null,function*(){let n=ne(t),r=e.batch.batchId;try{let i=yield Nz(n.localStore,e);hx(n,r,null),dx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield _l(n,i)}catch(i){yield Ua(i)}})}function s5(t,e,n){return v(this,null,function*(){let r=ne(t);try{let i=yield(function(s,a){let u=ne(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(we(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);hx(r,e,n),dx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield _l(r,i)}catch(i){yield Ua(i)}})}function dx(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function hx(t,e,n){let r=ne(t),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Gw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||fx(t,r)})}function fx(t,e){t.Iu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(yb(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),Db(t))}function GM(t,e,n){for(let r of n)r instanceof Vp?(t.Au.addReference(r.key,e),a5(t,r)):r instanceof jp?(B(bb,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||fx(t,r.key)):K(19791,{yu:r})}function a5(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(B(bb,"New document in limbo: "+n),t.Iu.add(r),Db(t))}function Db(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Iu.values().next().value;t.Iu.delete(e);let n=new q(xe.fromString(e)),r=t.mu.next();t.Eu.set(r,new zw(n)),t.du=t.du.insert(n,r),rx(t.remoteStore,new ll(lr(PP(n.path)),r,"TargetPurposeLimboResolution",sb.ue))}}function _l(t,e,n){return v(this,null,function*(){let r=ne(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Ew.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(u,l){return v(this,null,function*(){let h=ne(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,m=>x.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>x.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Ba(p))throw p;B(mb,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Fs.get(m),T=y.snapshotVersion,R=y.withLastLimboFreeSnapshotVersion(T);h.Fs=h.Fs.insert(m,R)}}})})(r.localStore,o))})}function c5(t,e){return v(this,null,function*(){let n=ne(t);if(!n.currentUser.isEqual(e)){B(bb,"User change. New user:",e.toKey());let r=yield tx(n.localStore,e);n.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new V(N.CANCELLED,s))})}),o.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield _l(n,r.Bs)}})}function u5(t,e){let n=ne(t),r=n.Eu.get(e);if(r&&r.lu)return fe().add(r.key);{let i=fe(),o=n.Tu.get(e);if(!o)return i;for(let s of o){let a=n.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function px(t){let e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i5.bind(null,e),e.hu.J_=Yz.bind(null,e.eventManager),e.hu.pu=Zz.bind(null,e.eventManager),e}function l5(t){let e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=o5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=s5.bind(null,e),e}var gx=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return v(this,null,function*(){this.serializer=Zp(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),yield this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)})}Cu(n,r){return null}Fu(n,r){return null}vu(n){return Rz(this.persistence,new ww,n.initialUser,this.serializer)}Du(n){return new Rp(_w.Vi,this.serializer)}bu(n){return new Cw}terminate(){return v(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),Ww=class extends gx{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){we(this.persistence.referenceDelegate instanceof Np,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new sw(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new Rp(r=>Np.Vi(r,n),this.serializer)}};var d5=(()=>{class t{initialize(n,r){return v(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>qM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=c5.bind(null,this.syncEngine),yield Wz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return(function(){return new jw})()}createDatastore(n){let r=Zp(n.databaseInfo.databaseId),i=(function(s){return new Nw(s)})(n.databaseInfo);return(function(s,a,u,l){return new Ow(s,a,u,l)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,o,s,a,u){return new Fw(i,o,s,a,u)})(this.localStore,this.datastore,n.asyncQueue,r=>qM(this.syncEngine,r,0),(function(){return Pp.C()?new Pp:new Tw})())}createSyncEngine(n,r){return(function(o,s,a,u,l,h,p){let m=new qw(o,s,a,u,l,h);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var n,r;yield(function(o){return v(this,null,function*(){let s=ne(o);B(as,"RemoteStore shutting down."),s.Ia.add(5),yield vl(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Kw=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Gi="FirestoreClient",Qw=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ct.UNAUTHENTICATED,this.clientId=il.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){B(Gi,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(B(Gi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Ib(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function _I(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),B(Gi,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>v(null,null,function*(){r.isEqual(i)||(yield tx(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{$i("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{B("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{$i("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e})}function WM(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield h5(t);B(Gi,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>$M(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>$M(e.remoteStore,i)),t._onlineComponents=e})}function h5(t){return v(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){B(Gi,"Using user provided OfflineComponentProvider");try{yield _I(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;$i("Error using user provided cache. Falling back to memory cache: "+n),yield _I(t,new gx)}}else B(Gi,"Using default OfflineComponentProvider"),yield _I(t,new Ww(void 0));return t._offlineComponents})}function mx(t){return v(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(B(Gi,"Using user provided OnlineComponentProvider"),yield WM(t,t._uninitializedComponentsProvider._online)):(B(Gi,"Using default OnlineComponentProvider"),yield WM(t,new d5))),t._onlineComponents})}function f5(t){return mx(t).then(e=>e.syncEngine)}function p5(t){return v(this,null,function*(){let e=yield mx(t),n=e.eventManager;return n.onListen=Jz.bind(null,e.syncEngine),n.onUnlisten=t5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Xz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=n5.bind(null,e.syncEngine),n})}function g5(t,e,n={}){let r=new cr;return t.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return(function(o,s,a,u,l){let h=new Kw({next:m=>{h.Ou(),s.enqueueAndForget(()=>Qz(o,p)),m.fromCache&&u.source==="server"?l.reject(new V(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Bw(a,h,{includeMetadataChanges:!0,ka:!0});return Kz(o,p)})(yield p5(t),t.asyncQueue,e,n,r)})),r.promise}function yx(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var KM=new Map;var vx="firestore.googleapis.com",QM=!0,Up=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vx,this.ssl=QM}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:QM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ex;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Tz)throw new V(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}b3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new V(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new V(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new V(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Va=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Up({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new V(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new V(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Up(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new EI;switch(r.type){case"firstParty":return new DI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=KM.get(n);r&&(B("ComponentProvider","Removing Datastore"),KM.delete(n),r.terminate())})(this),Promise.resolve()}};function _x(t,e,n,r={}){var i;t=gp(t,Va);let o=Si(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(Pf(`https://${u}`),xf("Firestore",!0)),s.host!==vx&&s.host!==u&&$i("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!nr(l,a)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=ct.MOCK_USER;else{h=vR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new V(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ct(m)}t._authCredentials=new II(new hp(h,p))}}var Wi=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},$t=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(yl(n,t._jsonSchema))return new t(e,r||null,new q(xe.fromString(n.referencePath)))}};$t._jsonSchemaVersion="firestore/documentReference/1.0",$t._jsonSchema={type:Xe("string",$t._jsonSchemaVersion),referencePath:Xe("string")};var Vi=class t extends Wi{constructor(e,n,r){super(e,n,PP(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Ex(t,e,...n){if(t=pt(t),nP("collection","path",e),t instanceof Va){let r=xe.fromString(e,...n);return fM(r),new Vi(t,null,r)}{if(!(t instanceof $t||t instanceof Vi))throw new V(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(xe.fromString(e,...n));return fM(r),new Vi(t.firestore,null,r)}}function Ix(t,e,...n){if(t=pt(t),arguments.length===1&&(e=il.newId()),nP("doc","path",e),t instanceof Va){let r=xe.fromString(e,...n);return hM(r),new $t(t,null,new q(r))}{if(!(t instanceof $t||t instanceof Vi))throw new V(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(xe.fromString(e,...n));return hM(r),new $t(t.firestore,t instanceof Vi?t.converter:null,new q(r))}}var YM="AsyncQueue",Bp=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new xp(this,"async_queue_retry"),this.oc=()=>{let r=vI();r&&B(YM,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=vI();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=vI();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new cr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return v(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ba(e))throw e;B(YM,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,zr("INTERNAL UNHANDLED ERROR: ",ZM(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=Lw.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&K(47125,{hc:ZM(this.tc)})}verifyOperationInProgress(){}Pc(){return v(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function ZM(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}var fl=class extends Va{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Bp,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Bp(e),this._firestoreClient=void 0,yield e}})}};function wx(t,e){let n=typeof t=="object"?t:zo(),r=typeof t=="string"?t:e||vp,i=ha(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=yR("firestore");o&&_x(i,...o)}return i}function bx(t){if(t._terminated)throw new V(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||m5(t),t._firestoreClient}function m5(t){var e,n,r;let i=t._freezeSettings(),o=(function(a,u,l,h){return new RI(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,yx(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Qw(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(t._componentsProvider))}var ji=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Mt.fromBase64String(e))}catch(n){throw new V(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yl(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};ji._jsonSchemaVersion="firestore/bytes/1.0",ji._jsonSchema={type:Xe("string",ji._jsonSchemaVersion),bytes:Xe("string")};var pl=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new V(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var $p=class{constructor(e){this._methodName=e}};var Ui=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(yl(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:Xe("string",Ui._jsonSchemaVersion),latitude:Xe("number"),longitude:Xe("number")};var Bi=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yl(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new V(N.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:Xe("string",Bi._jsonSchemaVersion),vectorValues:Xe("object")};var y5=/^__.*__$/,Yw=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ss(e,this.data,n,this.fieldTransforms)}};function Dx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K(40011,{Ec:t})}}var Zw=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Hp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Dx(this.Ec)&&y5.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},Jw=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zp(e)}Dc(e,n,r,i=!1){return new Zw({Ec:e,methodName:n,bc:r,path:on.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Cx(t){let e=t._freezeSettings(),n=Zp(t._databaseId);return new Jw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function v5(t,e,n,r,i,o={}){let s=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);Ax("Data must be an object, but it was:",s,r);let a=Tx(r,s),u,l;if(o.merge)u=new ar(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=E5(e,p,n);if(!s.contains(m))throw new V(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);w5(h,m)||h.push(m)}u=new ar(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new Yw(new kn(a),u,l)}function _5(t,e,n,r=!1){return Cb(n,t.Dc(r?4:3,e))}function Cb(t,e){if(Sx(t=pt(t)))return Ax("Unsupported field value:",e,t),Tx(t,e);if(t instanceof $p)return(function(r,i){if(!Dx(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=Cb(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=et.fromDate(r);return{timestampValue:Sp(i.serializer,o)}}if(r instanceof et){let o=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sp(i.serializer,o)}}if(r instanceof Ui)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ji)return{bytesValue:WP(i.serializer,r._byteString)};if(r instanceof $t){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:gb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Bi)return(function(s,a){return{mapValue:{fields:{[ub]:{stringValue:lb},[Ra]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return pb(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${Gp(r)}`)})(t,e)}function Tx(t,e){let n={};return vP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cs(t,(r,i)=>{let o=Cb(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Sx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof Ui||t instanceof ji||t instanceof $t||t instanceof $p||t instanceof Bi)}function Ax(t,e,n){if(!Sx(n)||!rP(n)){let r=Gp(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function E5(t,e,n){if((e=pt(e))instanceof pl)return e._internalPath;if(typeof e=="string")return Rx(t,e);throw Hp("Field path arguments must be of type string or ",t,!1,void 0,n)}var I5=new RegExp("[~\\*/\\[\\]]");function Rx(t,e,n){if(e.search(I5)>=0)throw Hp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pl(...e.split("."))._internalPath}catch{throw Hp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hp(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new V(N.INVALID_ARGUMENT,a+t+u)}function w5(t,e){return t.some(n=>n.isEqual(e))}var zp=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Xw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(eg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Xw=class extends zp{data(){return super.data()}};function eg(t,e){return typeof e=="string"?Rx(t,e):e instanceof pl?e._internalPath:e._delegate._internalPath}function b5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new V(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var gl=class{},ml=class extends gl{};function Nx(t,e,...n){let r=[];e instanceof gl&&r.push(e),r=r.concat(n),(function(o){let s=o.filter(u=>u instanceof eb).length,a=o.filter(u=>u instanceof qp).length;if(s>1||s>0&&a>0)throw new V(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)t=i._apply(t);return t}var qp=class t extends ml{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return Ox(e._query,n),new Wi(e.firestore,e.converter,$I(e._query,n))}_parse(e){let n=Cx(e.firestore);return(function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new V(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){XM(p,h);let T=[];for(let R of p)T.push(JM(u,o,R));m={arrayValue:{values:T}}}else m=JM(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||XM(p,h),m=_5(a,s,p,h==="in"||h==="not-in");return Je.create(l,h,m)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function Mx(t,e,n){let r=e,i=eg("where",t);return qp._create(i,r,n)}var eb=class t extends gl{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ln.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)Ox(s,u),s=$I(s,u)})(e._query,n),new Wi(e.firestore,e.converter,$I(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var tb=class t extends ml{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=(function(i,o,s){if(i.startAt!==null)throw new V(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new V(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rs(o,s)})(e._query,this._field,this._direction);return new Wi(e.firestore,e.converter,(function(i,o){let s=i.explicitOrderBy.concat([o]);return new zi(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}};function Px(t,e="asc"){let n=e,r=eg("orderBy",t);return tb._create(r,n)}var nb=class t extends ml{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new Wi(e.firestore,e.converter,Ip(e._query,this._limit,this._limitType))}};function xx(t){return D3("limit",t),nb._create("limit",t,"F")}function JM(t,e,n){if(typeof(n=pt(n))=="string"){if(n==="")throw new V(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xP(e)&&n.indexOf("/")!==-1)throw new V(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(xe.fromString(n));if(!q.isDocumentKey(r))throw new V(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return EM(t,new q(r))}if(n instanceof $t)return EM(t,n._key);throw new V(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gp(n)}.`)}function XM(t,e){if(!Array.isArray(t)||t.length===0)throw new V(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ox(t,e){let n=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new V(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new V(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var rb=class{convertValue(e,n="none"){switch(Hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw K(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return cs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Ra].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Pe(s.doubleValue));return new Bi(o)}convertGeoPoint(e){return new Ui(Pe(e.latitude),Pe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Kp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(al(e));default:return null}}convertTimestamp(e){let n=qr(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=xe.fromString(e);we(XP(r),9688,{name:e});let i=new _p(r.get(1),r.get(3)),o=new q(r.popFirst(5));return i.isEqual(n)||zr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function D5(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var ba=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ca=class t extends zp{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ta(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(eg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new V(N.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ca._jsonSchema={type:Xe("string",Ca._jsonSchemaVersion),bundleSource:Xe("string","DocumentSnapshot"),bundleName:Xe("string"),bundle:Xe("string")};var Ta=class extends Ca{data(e={}){return super.data(e)}},Sa=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ba(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ta(this._firestore,this._userDataWriter,r.key,r,new ba(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Ta(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ba(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Ta(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ba(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:C5(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new V(N.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=il.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function C5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K(61501,{type:t})}}Sa._jsonSchemaVersion="firestore/querySnapshot/1.0",Sa._jsonSchema={type:Xe("string",Sa._jsonSchemaVersion),bundleSource:Xe("string","QuerySnapshot"),bundleName:Xe("string"),bundle:Xe("string")};var ib=class extends rb{constructor(e){super(),this.firestore=e}convertBytes(e){return new ji(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,n)}};function kx(t){t=gp(t,Wi);let e=gp(t.firestore,fl),n=bx(e),r=new ib(e);return b5(t._query),g5(n,t._query).then(i=>new Sa(e,r,t,i))}function Fx(t,e){let n=gp(t.firestore,fl),r=Ix(t),i=D5(t.converter,e);return T5(n,[v5(Cx(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,es.exists(!1))]).then(()=>r)}function T5(t,e){return(function(r,i){let o=new cr;return r.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return r5(yield f5(r),i,o)})),o.promise})(bx(t),e)}(function(e,n=!0){(function(i){ja=i})(Ri),xn(new Bt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new fl(new wI(r.getProvider("auth-internal")),new CI(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _p(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ve(cM,uM,e),Ve(cM,uM,"esm2017")})();var ls=class{constructor(e){return e}},Lx="firestore",Tb=class{constructor(){return pa(Lx)}};var Sb=new U("angularfire2.firestore-instances");function S5(t,e){let n=Vu(Lx,t,e);return n&&new ls(n)}function A5(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ls(r)}}var R5={provide:Tb,deps:[[new Wt,Sb]]},N5={provide:ls,useFactory:S5,deps:[[new Wt,Sb],Vr]};function Vx(t,...e){return Ve("angularfire",Ni.full,"fst"),Gt([N5,R5,{provide:Sb,useFactory:A5(t),multi:!0,deps:[_e,Fe,Mi,Go,[new Wt,Zu],[new Wt,ga],...e]}])}var jx=at(Fx,!0,2);var Ab=at(Ex,!0,2);var Ux=at(kx,!0);var Bx=at(wx,!0);var $x=at(xx,!0,2);var Hx=at(Px,!0,2),zx=at(Nx,!0,2);var qx=at(Mx,!0,2);var Gx={production:!0,firebase:{apiKey:"YOUR_PRODUCTION_API_KEY",authDomain:"YOUR_PRODUCTION_AUTH_DOMAIN",projectId:"YOUR_PRODUCTION_PROJECT_ID",storageBucket:"YOUR_PRODUCTION_STORAGE_BUCKET",messagingSenderId:"YOUR_PRODUCTION_MESSAGING_SENDER_ID",appId:"YOUR_PRODUCTION_APP_ID",measurementId:"YOUR_PRODUCTION_MEASUREMENT_ID"}};var tO=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(Q(mi),Q(hn))};static \u0275dir=ze({type:t})}return t})(),P5=(()=>{class t extends tO{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ar(t)))(i||t)}})();static \u0275dir=ze({type:t,features:[fn]})}return t})(),nO=new U("");var x5={provide:nO,useExisting:In(()=>Ga),multi:!0};function O5(){let t=pn()?pn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var k5=new U(""),Ga=(()=>{class t extends tO{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!O5())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(Q(mi),Q(hn),Q(k5,8))};static \u0275dir=ze({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ft("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Ei([x5]),fn]})}return t})();function rO(t){return t==null||iO(t)===0}function iO(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var Tl=new U(""),oO=new U(""),F5=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function L5(t){return rO(t.value)?{required:!0}:null}function V5(t){return rO(t.value)||F5.test(t.value)?null:{email:!0}}function j5(t){return e=>{let n=e.value?.length??iO(e.value);return n===null||n===0?null:n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}function Wx(t){return null}function sO(t){return t!=null}function aO(t){return yi(t)?Ae(t):t}function cO(t){let e={};return t.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function uO(t,e){return e.map(n=>n(t))}function U5(t){return!t.validate}function lO(t){return t.map(e=>U5(e)?e:n=>e.validate(n))}function B5(t){if(!t)return null;let e=t.filter(sO);return e.length==0?null:function(n){return cO(uO(n,e))}}function Pb(t){return t!=null?B5(lO(t)):null}function $5(t){if(!t)return null;let e=t.filter(sO);return e.length==0?null:function(n){let r=uO(n,e).map(aO);return hm(r).pipe(ce(cO))}}function xb(t){return t!=null?$5(lO(t)):null}function Kx(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function H5(t){return t._rawValidators}function z5(t){return t._rawAsyncValidators}function Rb(t){return t?Array.isArray(t)?t:[t]:[]}function ng(t,e){return Array.isArray(t)?t.includes(e):t===e}function Qx(t,e){let n=Rb(e);return Rb(t).forEach(i=>{ng(n,i)||n.push(i)}),n}function Yx(t,e){return Rb(e).filter(n=>!ng(t,n))}var rg=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Pb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=xb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},qa=class extends rg{name;get formDirective(){return null}get path(){return null}},Cl=class extends rg{_parent=null;name=null;valueAccessor=null},ig=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},q5={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Rce=ee(O({},q5),{"[class.ng-submitted]":"isSubmitted"}),cg=(()=>{class t extends ig{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(Q(Cl,2))};static \u0275dir=ze({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Xc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[fn]})}return t})(),ug=(()=>{class t extends ig{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(Q(qa,10))};static \u0275dir=ze({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Xc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[fn]})}return t})();var El="VALID",tg="INVALID",Ha="PENDING",Il="DISABLED",Ki=class{},og=class extends Ki{value;source;constructor(e,n){super(),this.value=e,this.source=n}},bl=class extends Ki{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Dl=class extends Ki{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},za=class extends Ki{status;source;constructor(e,n){super(),this.status=e,this.source=n}},Nb=class extends Ki{source;constructor(e){super(),this.source=e}},Mb=class extends Ki{source;constructor(e){super(),this.source=e}};function dO(t){return(lg(t)?t.validators:t)||null}function G5(t){return Array.isArray(t)?Pb(t):t||null}function hO(t,e){return(lg(e)?e.asyncValidators:t)||null}function W5(t){return Array.isArray(t)?xb(t):t||null}function lg(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function K5(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new j(1e3,"");if(!r[n])throw new j(1001,"")}function Q5(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new j(1002,"")})}var sg=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ot(this.statusReactive)}set status(e){ot(()=>this.statusReactive.set(e))}_status=Qs(()=>this.statusReactive());statusReactive=dn(void 0);get valid(){return this.status===El}get invalid(){return this.status===tg}get pending(){return this.status==Ha}get disabled(){return this.status===Il}get enabled(){return this.status!==Il}errors;get pristine(){return ot(this.pristineReactive)}set pristine(e){ot(()=>this.pristineReactive.set(e))}_pristine=Qs(()=>this.pristineReactive());pristineReactive=dn(!0);get dirty(){return!this.pristine}get touched(){return ot(this.touchedReactive)}set touched(e){ot(()=>this.touchedReactive.set(e))}_touched=Qs(()=>this.touchedReactive());touchedReactive=dn(!1);get untouched(){return!this.touched}_events=new Ue;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Qx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Qx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Yx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Yx(e,this._rawAsyncValidators))}hasValidator(e){return ng(this._rawValidators,e)}hasAsyncValidator(e){return ng(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ee(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Dl(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Dl(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ee(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new bl(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new bl(!0,r))}markAsPending(e={}){this.status=Ha;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new za(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ee(O({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Il,this.errors=null,this._forEachChild(i=>{i.disable(ee(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new og(this.value,r)),this._events.next(new za(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ee(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=El,this._forEachChild(r=>{r.enable(ee(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ee(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===El||this.status===Ha)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new og(this.value,n)),this._events.next(new za(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ee(O({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Il:El}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Ha,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=aO(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new za(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ke,this.statusChanges=new Ke}_calculateStatus(){return this._allControlsDisabled()?Il:this.errors?tg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ha)?Ha:this._anyControlsHaveStatus(tg)?tg:El}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new bl(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Dl(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){lg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=G5(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=W5(this._rawAsyncValidators)}},ag=class extends sg{constructor(e,n,r){super(dO(n),hO(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Q5(this,!0,e),Object.keys(e).forEach(r=>{K5(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ob=new U("",{providedIn:"root",factory:()=>kb}),kb="always";function Y5(t,e){return[...e.path,t]}function fO(t,e,n=kb){pO(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),J5(t,e),eq(t,e),X5(t,e),Z5(t,e)}function Zx(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Z5(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function pO(t,e){let n=H5(t);e.validator!==null?t.setValidators(Kx(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=z5(t);e.asyncValidator!==null?t.setAsyncValidators(Kx(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Zx(e._rawValidators,i),Zx(e._rawAsyncValidators,i)}function J5(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&gO(t,e)})}function X5(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&gO(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function gO(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function eq(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function tq(t,e){t==null,pO(t,e)}function nq(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function rq(t){return Object.getPrototypeOf(t.constructor)===P5}function iq(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function oq(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Ga?n=o:rq(o)?r=o:i=o}),i||r||n||null}var sq={provide:qa,useExisting:In(()=>Sl)},wl=Promise.resolve(),Sl=(()=>{class t extends qa{callSetDisabledState;get submitted(){return ot(this.submittedReactive)}_submitted=Qs(()=>this.submittedReactive());submittedReactive=dn(!1);_directives=new Set;form;ngSubmit=new Ke;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new ag({},Pb(n),xb(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){wl.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),fO(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){wl.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){wl.then(()=>{let r=this._findContainer(n.path),i=new ag({});tq(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){wl.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){wl.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),iq(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new Nb(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new Mb(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(Q(Tl,10),Q(oO,10),Q(Ob,8))};static \u0275dir=ze({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&ft("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ei([sq]),fn]})}return t})();function Jx(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Xx(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var aq=class extends sg{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(dO(n),hO(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lg(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Xx(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Jx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Jx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Xx(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var cq={provide:Cl,useExisting:In(()=>Al)},eO=Promise.resolve(),Al=(()=>{class t extends Cl{_changeDetectorRef;callSetDisabledState;control=new aq;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ke;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=oq(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),nq(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){fO(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){eO.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&xr(r);eO.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Y5(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(Q(qa,9),Q(Tl,10),Q(oO,10),Q(nO,10),Q(Oo,8),Q(Ob,8))};static \u0275dir=ze({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ei([cq]),fn,Sr]})}return t})();var dg=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=ze({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();function uq(t){return typeof t=="number"?t:parseInt(t,10)}var Fb=(()=>{class t{_validator=Wx;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Wx,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ze({type:t,features:[Sr]})}return t})();var lq={provide:Tl,useExisting:In(()=>Rl),multi:!0};var Rl=(()=>{class t extends Fb{required;inputName="required";normalizeInput=xr;createValidator=n=>L5;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ar(t)))(i||t)}})();static \u0275dir=ze({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&No("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Ei([lq]),fn]})}return t})();var dq={provide:Tl,useExisting:In(()=>Nl),multi:!0},Nl=(()=>{class t extends Fb{email;inputName="email";normalizeInput=xr;createValidator=n=>V5;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ar(t)))(i||t)}})();static \u0275dir=ze({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},standalone:!1,features:[Ei([dq]),fn]})}return t})(),hq={provide:Tl,useExisting:In(()=>Lb),multi:!0},Lb=(()=>{class t extends Fb{minlength;inputName="minlength";normalizeInput=n=>uq(n);createValidator=n=>j5(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ar(t)))(i||t)}})();static \u0275dir=ze({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&No("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[Ei([hq]),fn]})}return t})();var fq=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Wn({type:t});static \u0275inj=wn({})}return t})();var hg=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Ob,useValue:n.callSetDisabledState??kb}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Wn({type:t});static \u0275inj=wn({imports:[fq]})}return t})();var Qi=class t{constructor(e){this.auth=e;this.user$=tM(this.auth)}user$;register(e,n){return v(this,null,function*(){try{yield nM(this.auth,e,n)}catch(r){throw r.code==="auth/email-already-in-use"?new Error("This email is already registered. Please use a different email or try logging in."):r}})}login(e,n){return v(this,null,function*(){try{yield iM(this.auth,e,n)}catch(r){throw r.code==="auth/invalid-credential"?new Error("Invalid email or password. Please check your credentials and try again."):r}})}logout(){return v(this,null,function*(){try{yield oM(this.auth)}catch(e){throw e}})}getCurrentUser(){return this.auth.currentUser}static \u0275fac=function(n){return new(n||t)(z(Zo))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};function pq(t,e){if(t&1&&(H(0,"div",20)(1,"span",21),W(2,"\u26A0\uFE0F"),F(),W(3),F()),t&2){let n=Po();pe(3),Qn(" ",n.error," ")}}var fg=class t{constructor(e,n){this.authService=e;this.router=n}email="";password="";loading=!1;error="";onLogin(){return v(this,null,function*(){if(!(!this.email||!this.password)){this.loading=!0,this.error="";try{yield this.authService.login(this.email,this.password),this.router.navigate(["/game"])}catch(e){this.error=e.message||"Login failed. Please try again."}finally{this.loading=!1}}})}static \u0275fac=function(n){return new(n||t)(Q(Qi),Q(Rt))};static \u0275cmp=Sn({type:t,selectors:[["app-login"]],decls:28,vars:5,consts:[["loginForm","ngForm"],[1,"auth-container"],[1,"auth-card"],[1,"card-header"],[1,"auth-title"],[1,"title-decoration"],[1,"auth-form",3,"ngSubmit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","email","","placeholder","ENTER YOUR EMAIL",1,"form-input",3,"ngModelChange","ngModel"],[1,"input-glow"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","placeholder","ENTER YOUR PASSWORD",1,"form-input",3,"ngModelChange","ngModel"],["type","submit",1,"submit-btn",3,"disabled"],[1,"btn-text"],[1,"btn-glow"],["class","error-message",4,"ngIf"],[1,"auth-links"],[1,"link-text"],["routerLink","/register",1,"link-btn"],[1,"error-message"],[1,"error-icon"]],template:function(n,r){if(n&1){let i=Mo();H(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),W(4,"LOGIN"),F(),Me(5,"div",5),F(),H(6,"form",6,0),ft("ngSubmit",function(){return Dt(i),Ct(r.onLogin())}),H(8,"div",7)(9,"label",8),W(10,"EMAIL ADDRESS"),F(),H(11,"input",9),Pr("ngModelChange",function(s){return Dt(i),_i(r.email,s)||(r.email=s),Ct(s)}),F(),Me(12,"div",10),F(),H(13,"div",7)(14,"label",11),W(15,"PASSWORD"),F(),H(16,"input",12),Pr("ngModelChange",function(s){return Dt(i),_i(r.password,s)||(r.password=s),Ct(s)}),F(),Me(17,"div",10),F(),H(18,"button",13)(19,"span",14),W(20),F(),Me(21,"div",15),F(),Kn(22,pq,4,1,"div",16),F(),H(23,"div",17)(24,"p",18),W(25," NEW PLAYER? "),H(26,"a",19),W(27,"REGISTER HERE"),F()()()()()}if(n&2){let i=Jc(7);pe(11),Mr("ngModel",r.email),pe(5),Mr("ngModel",r.password),pe(2),ht("disabled",!i.valid||r.loading),pe(2),jt(r.loading?"LOGGING IN...":"START GAME"),pe(2),ht("ngIf",r.error)}},dependencies:[Yn,ko,hg,dg,Ga,cg,ug,Rl,Nl,Al,Sl,Mu,ua],styles:['.auth-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:80vh;padding:2rem;position:relative;z-index:5}.auth-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0a0a0af2,#1e1e1ef2);border:3px solid var(--neon-pink);border-radius:20px;padding:3rem;width:100%;max-width:500px;box-shadow:0 0 40px #f0f6,inset 0 0 40px #ff00ff1a;position:relative;overflow:hidden}.auth-card[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,transparent 48%,rgba(255,0,255,.1) 50%,transparent 52%),linear-gradient(-45deg,transparent 48%,rgba(0,255,255,.1) 50%,transparent 52%);background-size:30px 30px;pointer-events:none;z-index:1}.card-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2.5rem;position:relative;z-index:5}.auth-title[_ngcontent-%COMP%]{font-family:"Press Start 2P",cursive;font-size:1.8rem;color:var(--neon-pink);text-shadow:0 0 15px var(--neon-pink),0 0 25px var(--neon-pink);margin:0 0 1rem;text-transform:uppercase;letter-spacing:2px;animation:_ngcontent-%COMP%_titleGlow 2s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_titleGlow{0%{text-shadow:0 0 15px var(--neon-pink),0 0 25px var(--neon-pink)}to{text-shadow:0 0 20px var(--neon-pink),0 0 30px var(--neon-pink),0 0 40px var(--neon-pink)}}.title-decoration[_ngcontent-%COMP%]{height:4px;background:repeating-linear-gradient(90deg,var(--neon-blue) 0px,var(--neon-blue) 12px,transparent 12px,transparent 24px);box-shadow:0 0 15px var(--neon-blue);border-radius:2px}.auth-form[_ngcontent-%COMP%]{position:relative;z-index:5}.form-group[_ngcontent-%COMP%]{margin-bottom:2rem;position:relative}.form-label[_ngcontent-%COMP%]{display:block;font-family:"Press Start 2P",cursive;font-size:.7rem;color:var(--neon-blue);text-shadow:0 0 5px var(--neon-blue);margin-bottom:.8rem;text-transform:uppercase;letter-spacing:1px}.form-input[_ngcontent-%COMP%]{width:100%;padding:1rem 1.5rem;background:#0009;border:2px solid var(--neon-green);border-radius:10px;color:#fff;font-family:Orbitron,monospace;font-size:1rem;font-weight:500;transition:all .3s ease;box-shadow:0 0 15px #00ff004d;position:relative;z-index:2}.form-input[_ngcontent-%COMP%]::placeholder{color:#ffffff80;font-family:Orbitron,monospace;text-transform:uppercase;letter-spacing:1px}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--neon-yellow);box-shadow:0 0 25px #ffff0080,inset 0 0 15px #ffff001a;transform:translateY(-2px)}.input-glow[_ngcontent-%COMP%]{position:absolute;inset:0;background:radial-gradient(circle,var(--neon-green) 0%,transparent 70%);opacity:0;transition:opacity .3s ease;border-radius:10px;z-index:1}.form-input[_ngcontent-%COMP%]:focus + .input-glow[_ngcontent-%COMP%]{opacity:.2}.submit-btn[_ngcontent-%COMP%]{width:100%;background:linear-gradient(45deg,var(--neon-green),#00cc00);border:3px solid var(--neon-green);color:#fff;padding:1.2rem 2rem;border-radius:12px;font-family:"Press Start 2P",cursive;font-size:.9rem;cursor:pointer;transition:all .3s ease;box-shadow:0 0 25px #0f06;text-transform:uppercase;letter-spacing:2px;position:relative;overflow:hidden;margin-bottom:1.5rem}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 0 35px #0f09;background:linear-gradient(45deg,#00cc00,var(--neon-green))}.submit-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.btn-text[_ngcontent-%COMP%]{position:relative;z-index:2}.btn-glow[_ngcontent-%COMP%]{position:absolute;inset:0;background:radial-gradient(circle,var(--neon-green) 0%,transparent 70%);opacity:0;transition:opacity .3s ease}.submit-btn[_ngcontent-%COMP%]:hover   .btn-glow[_ngcontent-%COMP%]{opacity:.3}.error-message[_ngcontent-%COMP%]{background:#ff00001a;border:2px solid #ff0000;border-radius:8px;padding:1rem;color:#ff6b6b;font-family:Orbitron,monospace;font-size:.9rem;text-align:center;margin-bottom:1.5rem;box-shadow:0 0 15px #ff00004d;display:flex;align-items:center;justify-content:center;gap:.5rem}.error-icon[_ngcontent-%COMP%]{font-size:1.2rem}.auth-links[_ngcontent-%COMP%]{text-align:center;position:relative;z-index:5}.link-text[_ngcontent-%COMP%]{font-family:Orbitron,monospace;font-size:.9rem;color:#ffffffb3;margin:0}.link-btn[_ngcontent-%COMP%]{color:var(--neon-blue);text-decoration:none;font-weight:700;text-shadow:0 0 5px var(--neon-blue);transition:all .3s ease;text-transform:uppercase;letter-spacing:1px;cursor:pointer}.link-btn[_ngcontent-%COMP%]:hover{color:var(--neon-yellow);text-shadow:0 0 10px var(--neon-yellow)}@media (max-width: 768px){.auth-container[_ngcontent-%COMP%]{padding:1rem}.auth-card[_ngcontent-%COMP%]{padding:2rem}.auth-title[_ngcontent-%COMP%]{font-size:1.4rem}}@media (max-width: 480px){.auth-card[_ngcontent-%COMP%]{padding:1.5rem}.auth-title[_ngcontent-%COMP%]{font-size:1.2rem}.form-input[_ngcontent-%COMP%]{padding:.8rem 1.2rem;font-size:.9rem}.submit-btn[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-size:.8rem}}']})};function gq(t,e){if(t&1&&(H(0,"div",22)(1,"span",23),W(2,"\u26A0\uFE0F"),F(),W(3),F()),t&2){let n=Po();pe(3),Qn(" ",n.error," ")}}function mq(t,e){t&1&&(H(0,"div",22)(1,"span",23),W(2,"\u274C"),F(),W(3," PASSWORDS DO NOT MATCH "),F())}var pg=class t{constructor(e,n){this.authService=e;this.router=n}email="";password="";confirmPassword="";loading=!1;error="";onRegister(){return v(this,null,function*(){if(!(!this.email||!this.password||this.password!==this.confirmPassword)){this.loading=!0,this.error="";try{yield this.authService.register(this.email,this.password),this.router.navigate(["/game"])}catch(e){this.error=e.message||"Registration failed. Please try again."}finally{this.loading=!1}}})}static \u0275fac=function(n){return new(n||t)(Q(Qi),Q(Rt))};static \u0275cmp=Sn({type:t,selectors:[["app-register"]],decls:34,vars:7,consts:[["registerForm","ngForm"],[1,"auth-container"],[1,"auth-card"],[1,"card-header"],[1,"auth-title"],[1,"title-decoration"],[1,"auth-form",3,"ngSubmit"],[1,"form-group"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","email","","placeholder","ENTER YOUR EMAIL",1,"form-input",3,"ngModelChange","ngModel"],[1,"input-glow"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","minlength","6","placeholder","ENTER YOUR PASSWORD (MIN 6 CHARS)",1,"form-input",3,"ngModelChange","ngModel"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","name","confirmPassword","required","","placeholder","CONFIRM YOUR PASSWORD",1,"form-input",3,"ngModelChange","ngModel"],["type","submit",1,"submit-btn",3,"disabled"],[1,"btn-text"],[1,"btn-glow"],["class","error-message",4,"ngIf"],[1,"auth-links"],[1,"link-text"],["routerLink","/login",1,"link-btn"],[1,"error-message"],[1,"error-icon"]],template:function(n,r){if(n&1){let i=Mo();H(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),W(4,"REGISTER"),F(),Me(5,"div",5),F(),H(6,"form",6,0),ft("ngSubmit",function(){return Dt(i),Ct(r.onRegister())}),H(8,"div",7)(9,"label",8),W(10,"EMAIL ADDRESS"),F(),H(11,"input",9),Pr("ngModelChange",function(s){return Dt(i),_i(r.email,s)||(r.email=s),Ct(s)}),F(),Me(12,"div",10),F(),H(13,"div",7)(14,"label",11),W(15,"PASSWORD"),F(),H(16,"input",12),Pr("ngModelChange",function(s){return Dt(i),_i(r.password,s)||(r.password=s),Ct(s)}),F(),Me(17,"div",10),F(),H(18,"div",7)(19,"label",13),W(20,"CONFIRM PASSWORD"),F(),H(21,"input",14),Pr("ngModelChange",function(s){return Dt(i),_i(r.confirmPassword,s)||(r.confirmPassword=s),Ct(s)}),F(),Me(22,"div",10),F(),H(23,"button",15)(24,"span",16),W(25),F(),Me(26,"div",17),F(),Kn(27,gq,4,1,"div",18)(28,mq,4,0,"div",18),F(),H(29,"div",19)(30,"p",20),W(31," ALREADY A PLAYER? "),H(32,"a",21),W(33,"LOGIN HERE"),F()()()()()}if(n&2){let i=Jc(7);pe(11),Mr("ngModel",r.email),pe(5),Mr("ngModel",r.password),pe(5),Mr("ngModel",r.confirmPassword),pe(2),ht("disabled",!i.valid||r.loading||r.password!==r.confirmPassword),pe(2),jt(r.loading?"CREATING ACCOUNT...":"JOIN ARCADE"),pe(2),ht("ngIf",r.error),pe(),ht("ngIf",r.password!==r.confirmPassword&&r.confirmPassword)}},dependencies:[Yn,ko,hg,dg,Ga,cg,ug,Rl,Lb,Nl,Al,Sl,Mu,ua],styles:['.auth-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:80vh;padding:2rem;position:relative;z-index:5}.auth-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0a0a0af2,#1e1e1ef2);border:3px solid var(--neon-blue);border-radius:20px;padding:3rem;width:100%;max-width:500px;box-shadow:0 0 40px #0ff6,inset 0 0 40px #00ffff1a;position:relative;overflow:hidden}.auth-card[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,transparent 48%,rgba(0,255,255,.1) 50%,transparent 52%),linear-gradient(-45deg,transparent 48%,rgba(255,0,255,.1) 50%,transparent 52%);background-size:30px 30px;pointer-events:none;z-index:1}.card-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2.5rem;position:relative;z-index:5}.auth-title[_ngcontent-%COMP%]{font-family:"Press Start 2P",cursive;font-size:1.8rem;color:var(--neon-blue);text-shadow:0 0 15px var(--neon-blue),0 0 25px var(--neon-blue);margin:0 0 1rem;text-transform:uppercase;letter-spacing:2px;animation:_ngcontent-%COMP%_titleGlow 2s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_titleGlow{0%{text-shadow:0 0 15px var(--neon-blue),0 0 25px var(--neon-blue)}to{text-shadow:0 0 20px var(--neon-blue),0 0 30px var(--neon-blue),0 0 40px var(--neon-blue)}}.title-decoration[_ngcontent-%COMP%]{height:4px;background:repeating-linear-gradient(90deg,var(--neon-pink) 0px,var(--neon-pink) 12px,transparent 12px,transparent 24px);box-shadow:0 0 15px var(--neon-pink);border-radius:2px}.auth-form[_ngcontent-%COMP%]{position:relative;z-index:5}.form-group[_ngcontent-%COMP%]{margin-bottom:2rem;position:relative}.form-label[_ngcontent-%COMP%]{display:block;font-family:"Press Start 2P",cursive;font-size:.7rem;color:var(--neon-green);text-shadow:0 0 5px var(--neon-green);margin-bottom:.8rem;text-transform:uppercase;letter-spacing:1px}.form-input[_ngcontent-%COMP%]{width:100%;padding:1rem 1.5rem;background:#0009;border:2px solid var(--neon-green);border-radius:10px;color:#fff;font-family:Orbitron,monospace;font-size:1rem;font-weight:500;transition:all .3s ease;box-shadow:0 0 15px #00ff004d;position:relative;z-index:2}.form-input[_ngcontent-%COMP%]::placeholder{color:#ffffff80;font-family:Orbitron,monospace;text-transform:uppercase;letter-spacing:1px}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--neon-yellow);box-shadow:0 0 25px #ffff0080,inset 0 0 15px #ffff001a;transform:translateY(-2px)}.input-glow[_ngcontent-%COMP%]{position:absolute;inset:0;background:radial-gradient(circle,var(--neon-green) 0%,transparent 70%);opacity:0;transition:opacity .3s ease;border-radius:10px;z-index:1}.form-input[_ngcontent-%COMP%]:focus + .input-glow[_ngcontent-%COMP%]{opacity:.2}.submit-btn[_ngcontent-%COMP%]{width:100%;background:linear-gradient(45deg,var(--neon-blue),#0099cc);border:3px solid var(--neon-blue);color:#fff;padding:1.2rem 2rem;border-radius:12px;font-family:"Press Start 2P",cursive;font-size:.9rem;cursor:pointer;transition:all .3s ease;box-shadow:0 0 25px #0ff6;text-transform:uppercase;letter-spacing:2px;position:relative;overflow:hidden;margin-bottom:1.5rem}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 0 35px #0ff9;background:linear-gradient(45deg,#0099cc,var(--neon-blue))}.submit-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.btn-text[_ngcontent-%COMP%]{position:relative;z-index:2}.btn-glow[_ngcontent-%COMP%]{position:absolute;inset:0;background:radial-gradient(circle,var(--neon-blue) 0%,transparent 70%);opacity:0;transition:opacity .3s ease}.submit-btn[_ngcontent-%COMP%]:hover   .btn-glow[_ngcontent-%COMP%]{opacity:.3}.error-message[_ngcontent-%COMP%]{background:#ff00001a;border:2px solid #ff0000;border-radius:8px;padding:1rem;color:#ff6b6b;font-family:Orbitron,monospace;font-size:.9rem;text-align:center;margin-bottom:1.5rem;box-shadow:0 0 15px #ff00004d;display:flex;align-items:center;justify-content:center;gap:.5rem}.error-icon[_ngcontent-%COMP%]{font-size:1.2rem}.auth-links[_ngcontent-%COMP%]{text-align:center;position:relative;z-index:5}.link-text[_ngcontent-%COMP%]{font-family:Orbitron,monospace;font-size:.9rem;color:#ffffffb3;margin:0}.link-btn[_ngcontent-%COMP%]{color:var(--neon-pink);text-decoration:none;font-weight:700;text-shadow:0 0 5px var(--neon-pink);transition:all .3s ease;text-transform:uppercase;letter-spacing:1px;cursor:pointer}.link-btn[_ngcontent-%COMP%]:hover{color:var(--neon-yellow);text-shadow:0 0 10px var(--neon-yellow)}@media (max-width: 768px){.auth-container[_ngcontent-%COMP%]{padding:1rem}.auth-card[_ngcontent-%COMP%]{padding:2rem}.auth-title[_ngcontent-%COMP%]{font-size:1.4rem}}@media (max-width: 480px){.auth-card[_ngcontent-%COMP%]{padding:1.5rem}.auth-title[_ngcontent-%COMP%]{font-size:1.2rem}.form-input[_ngcontent-%COMP%]{padding:.8rem 1.2rem;font-size:.9rem}.submit-btn[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-size:.8rem}}']})};var gg=class t{gameState=new tt({ballX:50,ballY:10,isMoving:!0,isFalling:!1,velocityX:1,velocityY:0,score:0,gameOver:!1});GRAVITY=.1;BALL_SPEED=1;TARGET_CENTER_X=50;TARGET_CENTER_Y=85;gameState$=this.gameState.asObservable();startGame(){this.gameState.next({ballX:50,ballY:10,isMoving:!0,isFalling:!1,velocityX:this.BALL_SPEED,velocityY:0,score:0,gameOver:!1})}dropBall(){let e=this.gameState.value;e.gameOver||this.gameState.next(ee(O({},e),{isMoving:!1,isFalling:!0,velocityX:0}))}updateGame(){let e=this.gameState.value;if(e.gameOver)return;let n=O({},e);e.isMoving&&(n.ballX+=e.velocityX,(n.ballX<=5||n.ballX>=95)&&(n.velocityX=-n.velocityX)),e.isFalling&&(n.velocityY+=this.GRAVITY,n.ballY+=n.velocityY,n.ballY>=this.TARGET_CENTER_Y&&(n.gameOver=!0,n.score=this.calculateScore(n.ballX))),this.gameState.next(n)}calculateScore(e){let n=Math.abs(e-this.TARGET_CENTER_X);return n<=1?100:n<=2?75:n<=5?50:n<=8?25:0}getCurrentState(){return this.gameState.value}resetGame(){this.startGame()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};var mg=class t{constructor(e){this.firestore=e}saveScore(e,n){return v(this,null,function*(){try{let r={score:e,date:new Date,userId:n};yield jx(Ab(this.firestore,"gameResults"),r)}catch(r){throw console.error("Error saving score:",r),r}})}getUserScores(e){let n=Ab(this.firestore,"gameResults"),r=zx(n,qx("userId","==",e),Hx("date","desc"),$x(10));return Ae(Ux(r)).pipe(ce(i=>i.docs.map(o=>ee(O({},o.data()),{date:o.data().date.toDate()}))))}static \u0275fac=function(n){return new(n||t)(z(ls))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};var _q=["gameCanvas"];function Eq(t,e){t&1&&(H(0,"p",36),W(1,"\u{1F3C6} GREAT JOB! SCORE SAVED! \u{1F3C6}"),F())}function Iq(t,e){t&1&&(H(0,"p",36),W(1,"\u{1F480} TRY AGAIN FOR BETTER SCORE! \u{1F480}"),F())}function wq(t,e){if(t&1&&(H(0,"div",31)(1,"div",32)(2,"h3",33),W(3,"GAME OVER!"),F(),H(4,"div",34)(5,"div",10),W(6,"FINAL SCORE"),F(),H(7,"div",11),W(8),F()(),Kn(9,Eq,2,0,"p",35)(10,Iq,2,0,"p",35),F()()),t&2){let n=Po();pe(8),jt(n.currentScore),pe(),ht("ngIf",n.currentScore>0),pe(),ht("ngIf",n.currentScore===0)}}function bq(t,e){if(t&1&&(H(0,"div",37)(1,"div",38),W(2),F(),H(3,"div",39),W(4),F(),H(5,"div",40),W(6),$v(7,"date"),F()()),t&2){let n=e.$implicit,r=e.index;pe(2),Qn("#",r+1),pe(2),Qn("",n.score," PTS"),pe(2),jt(Hv(7,3,n.date,"MMM dd"))}}function Dq(t,e){t&1&&(H(0,"div",41)(1,"div",42),W(2,"\u{1F3AF}"),F(),H(3,"div",43),W(4,"NO SCORES YET! PLAY TO SEE RESULTS!"),F()())}var yg=class t{constructor(e,n,r,i){this.authService=e;this.gameService=n;this.scoreService=r;this.router=i}gameCanvas;ctx;gameLoop;gameStateSubscription;userScoresSubscription;userEmail="";currentUserId="";currentScore=0;highScore=0;gameOver=!1;canDrop=!0;userScores=[];ngOnInit(){this.authService.user$.subscribe(e=>{if(!e){this.router.navigate(["/login"]);return}this.userEmail=e.email||"",this.currentUserId=e.uid,this.loadUserScores(),this.gameService.resetGame()}),this.gameStateSubscription=this.gameService.gameState$.subscribe(e=>{this.currentScore=e.score,this.gameOver=e.gameOver,this.canDrop=!e.isFalling&&!e.gameOver,e.gameOver&&e.score>0&&this.currentUserId&&this.saveScore()})}ngAfterViewInit(){this.initializeCanvas(),this.startGameLoop(),this.focusContainer()}ngOnDestroy(){this.gameLoop&&clearInterval(this.gameLoop),this.gameStateSubscription&&this.gameStateSubscription.unsubscribe(),this.userScoresSubscription&&this.userScoresSubscription.unsubscribe()}onKeyDown(e){e.code==="Space"&&this.canDrop&&!this.gameOver&&(e.preventDefault(),this.dropBall())}focusContainer(){let e=document.querySelector(".game-container");e&&e.focus()}initializeCanvas(){let e=this.gameCanvas.nativeElement;this.ctx=e.getContext("2d"),this.ctx&&(this.ctx.imageSmoothingEnabled=!0,this.ctx.imageSmoothingQuality="high")}startGameLoop(){this.gameLoop=setInterval(()=>{this.gameService.updateGame(),this.drawGame()},16)}drawGame(){if(!this.ctx)return;let e=this.gameCanvas.nativeElement,n=this.ctx;n.clearRect(0,0,e.width,e.height);let r=this.gameService.getCurrentState();this.drawArcadeBackground(n,e),this.drawRetroTarget(n,e),this.drawRetroBall(n,e,r)}drawArcadeBackground(e,n){e.strokeStyle="rgba(0, 255, 255, 0.1)",e.lineWidth=1;for(let r=0;r<n.width;r+=40)e.beginPath(),e.moveTo(r,0),e.lineTo(r,n.height),e.stroke();for(let r=0;r<n.height;r+=40)e.beginPath(),e.moveTo(0,r),e.lineTo(n.width,r),e.stroke();e.strokeStyle="rgba(255, 0, 255, 0.3)",e.lineWidth=2,e.beginPath(),e.moveTo(n.width*.5,0),e.lineTo(n.width*.5,n.height),e.stroke()}drawRetroTarget(e,n){let r=n.width*.5,i=n.height*.9;e.fillStyle="#ff00ff",e.shadowColor="#ff00ff",e.shadowBlur=15,e.beginPath(),e.arc(r,i,60,0,2*Math.PI),e.fill(),e.fillStyle="#ff6b6b",e.shadowBlur=10,e.beginPath(),e.arc(r,i,40,0,2*Math.PI),e.fill(),e.fillStyle="#ff5252",e.shadowBlur=20,e.beginPath(),e.arc(r,i,20,0,2*Math.PI),e.fill(),e.shadowBlur=0}drawRetroBall(e,n,r){let i=r.ballX/100*n.width,o=r.ballY/100*n.height;e.fillStyle="rgba(0, 255, 255, 0.3)",e.shadowColor="#00ffff",e.shadowBlur=20,e.beginPath(),e.arc(i,o,20,0,2*Math.PI),e.fill(),e.fillStyle="#00ffff",e.shadowBlur=10,e.beginPath(),e.arc(i,o,15,0,2*Math.PI),e.fill(),e.fillStyle="rgba(255, 255, 255, 0.8)",e.shadowBlur=0,e.beginPath(),e.arc(i-5,o-5,5,0,2*Math.PI),e.fill(),e.shadowBlur=0}dropBall(){this.gameService.dropBall()}resetGame(){this.gameService.resetGame(),this.gameOver=!1,this.currentScore=0,this.canDrop=!0,setTimeout(()=>this.focusContainer(),100)}saveScore(){return v(this,null,function*(){if(this.currentUserId&&this.currentScore>0)try{yield this.scoreService.saveScore(this.currentScore,this.currentUserId),this.loadUserScores()}catch(e){console.error("Error saving score:",e)}})}loadUserScores(){let e=this.authService.getCurrentUser();e&&(this.userScoresSubscription=this.scoreService.getUserScores(e.uid).subscribe(n=>{this.userScores=n,this.highScore=n.length>0?Math.max(...n.map(r=>r.score)):0}))}logout(){this.authService.logout().then(()=>{this.router.navigate(["/login"])})}closeGameOver(){this.gameOver=!1}static \u0275fac=function(n){return new(n||t)(Q(Qi),Q(gg),Q(mg),Q(Rt))};static \u0275cmp=Sn({type:t,selectors:[["app-game"]],viewQuery:function(n,r){if(n&1&&Bv(_q,5),n&2){let i;Ph(i=xh())&&(r.gameCanvas=i.first)}},hostBindings:function(n,r){n&1&&ft("keydown",function(o){return r.onKeyDown(o)},dv)},decls:48,vars:9,consts:[["gameCanvas",""],["tabindex","0",1,"game-container",3,"keydown"],[1,"game-header"],[1,"user-info"],[1,"user-badge"],[1,"user-label"],[1,"user-email"],[1,"logout-btn",3,"click"],[1,"score-info"],[1,"score-display"],[1,"score-label"],[1,"score-value"],[1,"game-area"],[1,"game-frame"],[1,"frame-border"],["width","800","height","600"],[1,"game-controls"],[1,"control-hints"],[1,"hint-text"],[1,"control-section"],[1,"control-btn","drop-btn",3,"click","disabled"],[1,"btn-text"],[1,"btn-glow"],[1,"control-btn","reset-btn",3,"click","disabled"],["class","game-over-notification",4,"ngIf"],[1,"latest-scores"],[1,"latest-scores-header"],[1,"latest-scores-decoration"],[1,"scores-list"],["class","score-item",4,"ngFor","ngForOf"],["class","no-scores",4,"ngIf"],[1,"game-over-notification"],[1,"notification-content"],[1,"notification-title"],[1,"final-score"],["class","score-message",4,"ngIf"],[1,"score-message"],[1,"score-item"],[1,"score-rank"],[1,"score-points"],[1,"score-date"],[1,"no-scores"],[1,"no-scores-icon"],[1,"no-scores-text"]],template:function(n,r){if(n&1){let i=Mo();H(0,"div",1),ft("keydown",function(s){return Dt(i),Ct(r.onKeyDown(s))}),H(1,"div",2)(2,"div",3)(3,"div",4)(4,"span",5),W(5,"PLAYER:"),F(),H(6,"span",6),W(7),F()(),H(8,"button",7),ft("click",function(){return Dt(i),Ct(r.logout())}),W(9,"EXIT GAME"),F()(),H(10,"div",8)(11,"div",9)(12,"div",10),W(13,"SCORE"),F(),H(14,"div",11),W(15),F()(),H(16,"div",9)(17,"div",10),W(18,"HIGH SCORE"),F(),H(19,"div",11),W(20),F()()()(),H(21,"div",12)(22,"div",13)(23,"div",14),Me(24,"canvas",15,0),F()(),H(26,"div",16)(27,"div",17)(28,"p",18),W(29,"\u{1F4A1} Press SPACEBAR to drop ball"),F()(),H(30,"div",19)(31,"button",20),ft("click",function(){return Dt(i),Ct(r.dropBall())}),H(32,"span",21),W(33),F(),Me(34,"div",22),F(),H(35,"button",23),ft("click",function(){return Dt(i),Ct(r.resetGame())}),H(36,"span",21),W(37,"NEW GAME"),F(),Me(38,"div",22),F()()()(),Kn(39,wq,11,3,"div",24),H(40,"div",25)(41,"div",26)(42,"h3"),W(43,"LATEST SCORES"),F(),Me(44,"div",27),F(),H(45,"div",28),Kn(46,bq,8,6,"div",29)(47,Dq,5,0,"div",30),F()()()}n&2&&(pe(7),jt(r.userEmail),pe(8),jt(r.currentScore),pe(5),jt(r.highScore),pe(11),ht("disabled",!r.canDrop||r.gameOver),pe(2),jt(r.canDrop?"DROP BALL":"BALL DROPPED"),pe(2),ht("disabled",!r.gameOver),pe(4),ht("ngIf",r.gameOver),pe(7),ht("ngForOf",r.userScores),pe(),ht("ngIf",r.userScores.length===0))},dependencies:[Yn,Qh,ko,a_],styles:['.game-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0a0a0ae6,#141414e6);border-radius:15px;padding:2rem;box-shadow:0 0 30px #ff00ff4d,inset 0 0 30px #00000080;position:relative;overflow:hidden}.game-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(45deg,transparent 48%,rgba(255,0,255,.1) 50%,transparent 52%),linear-gradient(-45deg,transparent 48%,rgba(0,255,255,.1) 50%,transparent 52%);background-size:20px 20px;pointer-events:none;z-index:1}.game-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding:1.5rem;background:linear-gradient(90deg,#ff00ff1a,#00ffff1a,#ff00ff1a);border:2px solid var(--neon-pink);border-radius:10px;box-shadow:0 0 20px #ff00ff4d,inset 0 0 20px #ff00ff1a;position:relative;z-index:5}.user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.user-badge[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.user-label[_ngcontent-%COMP%]{font-family:"Press Start 2P",cursive;font-size:.7rem;color:var(--neon-blue);text-shadow:0 0 5px var(--neon-blue);margin-bottom:.3rem}.user-email[_ngcontent-%COMP%]{font-family:Orbitron,monospace;font-size:1rem;color:var(--neon-green);text-shadow:0 0 5px var(--neon-green);font-weight:700}.logout-btn[_ngcontent-%COMP%]{background:linear-gradient(45deg,red,#ff6b6b);border:2px solid #ff0000;color:#fff;padding:.8rem 1.5rem;border-radius:8px;font-family:"Press Start 2P",cursive;font-size:.7rem;cursor:pointer;transition:all .3s ease;box-shadow:0 0 15px #ff000080;text-transform:uppercase;letter-spacing:1px}.logout-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(45deg,#ff6b6b,red);box-shadow:0 0 25px #f00c;transform:translateY(-2px)}.score-info[_ngcontent-%COMP%]{display:flex;gap:2rem}.score-display[_ngcontent-%COMP%]{text-align:center;padding:1rem;background:#0000004d;border:2px solid var(--neon-yellow);border-radius:8px;box-shadow:0 0 15px #ffff004d;min-width:120px}.score-label[_ngcontent-%COMP%]{font-family:"Press Start 2P",cursive;font-size:.6rem;color:var(--neon-yellow);text-shadow:0 0 5px var(--neon-yellow);margin-bottom:.5rem;text-transform:uppercase}.score-value[_ngcontent-%COMP%]{font-family:Orbitron,monospace;font-size:1.5rem;font-weight:900;color:var(--neon-yellow);text-shadow:0 0 10px var(--neon-yellow)}.game-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:2rem;margin-bottom:2rem;position:relative;z-index:5}.game-frame[_ngcontent-%COMP%]{position:relative;border:4px solid var(--neon-blue);border-radius:15px;box-shadow:0 0 30px #00ffff80,inset 0 0 30px #00ffff1a;overflow:hidden}.frame-border[_ngcontent-%COMP%]{position:relative;padding:10px;background:linear-gradient(45deg,#00ffff1a,#ff00ff1a)}.frame-border[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(90deg,transparent 0%,rgba(0,255,255,.3) 50%,transparent 100%);animation:_ngcontent-%COMP%_borderGlow 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_borderGlow{0%,to{opacity:.3}50%{opacity:.8}}canvas[_ngcontent-%COMP%]{display:block;border-radius:10px;background:#000}.game-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px}.game-controls[_ngcontent-%COMP%]   .control-hints[_ngcontent-%COMP%]{margin-bottom:15px;text-align:center}.game-controls[_ngcontent-%COMP%]   .control-hints[_ngcontent-%COMP%]   .hint-text[_ngcontent-%COMP%]{color:#0ff;font-size:12px;font-weight:600;text-shadow:0 0 10px rgba(0,255,255,.5);margin:0;opacity:.8;animation:_ngcontent-%COMP%_hint-pulse 2s ease-in-out infinite}.game-controls[_ngcontent-%COMP%]   .control-section[_ngcontent-%COMP%]{display:flex;gap:20px;justify-content:center}.control-btn[_ngcontent-%COMP%]{position:relative;background:linear-gradient(45deg,var(--neon-pink),var(--accent-purple));border:3px solid var(--neon-pink);color:#fff;padding:1rem 2rem;border-radius:10px;font-family:"Press Start 2P",cursive;font-size:.8rem;cursor:pointer;transition:all .3s ease;box-shadow:0 0 20px #ff00ff80;text-transform:uppercase;letter-spacing:1px;overflow:hidden}.control-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-3px);box-shadow:0 0 30px #f0fc}.control-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.btn-text[_ngcontent-%COMP%]{position:relative;z-index:2}.btn-glow[_ngcontent-%COMP%]{position:absolute;inset:0;background:radial-gradient(circle,var(--neon-pink) 0%,transparent 70%);opacity:0;transition:opacity .3s ease}.control-btn[_ngcontent-%COMP%]:hover   .btn-glow[_ngcontent-%COMP%]{opacity:.3}.drop-btn[_ngcontent-%COMP%]{background:linear-gradient(45deg,var(--neon-green),#00cc00);border-color:var(--neon-green);box-shadow:0 0 20px #00ff0080}.drop-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 0 30px #0f0c}.reset-btn[_ngcontent-%COMP%]{background:linear-gradient(45deg,var(--neon-orange),#ff8c00);border-color:var(--neon-orange);box-shadow:0 0 20px #ff8c0080}.reset-btn[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 0 30px #ff8c00cc}.game-over-notification[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff00ff26,#00ffff26);border:2px solid var(--neon-pink);border-radius:15px;padding:2rem;text-align:center;box-shadow:0 0 20px #ff00ff4d,inset 0 0 15px #ff00ff0d;margin:2rem 0;animation:_ngcontent-%COMP%_notificationSlide .5s ease-out;position:relative;z-index:5}@keyframes _ngcontent-%COMP%_notificationSlide{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}.notification-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.5rem}.notification-title[_ngcontent-%COMP%]{font-family:"Press Start 2P",cursive;font-size:1.5rem;color:var(--neon-pink);text-shadow:0 0 10px var(--neon-pink);margin:0;text-transform:uppercase}.final-score[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}.score-label[_ngcontent-%COMP%]{font-family:"Press Start 2P",cursive;font-size:.8rem;color:var(--neon-yellow);text-shadow:0 0 5px var(--neon-yellow);text-transform:uppercase}.score-value[_ngcontent-%COMP%]{font-family:Orbitron,monospace;font-size:2rem;font-weight:900;color:var(--neon-yellow);text-shadow:0 0 10px var(--neon-yellow)}.score-message[_ngcontent-%COMP%]{font-family:Orbitron,monospace;font-size:1rem;color:var(--neon-green);text-shadow:0 0 5px var(--neon-green);font-weight:700;text-transform:uppercase;margin:0}.latest-scores[_ngcontent-%COMP%]{background:linear-gradient(135deg,#000c,#141414cc);border:2px solid var(--neon-blue);border-radius:15px;padding:2rem;box-shadow:0 0 25px #00ffff4d;position:relative;z-index:5}.latest-scores-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.latest-scores-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:"Press Start 2P",cursive;font-size:1.2rem;color:var(--neon-blue);text-shadow:0 0 10px var(--neon-blue);margin-bottom:1rem;text-transform:uppercase}.latest-scores-decoration[_ngcontent-%COMP%]{height:3px;background:repeating-linear-gradient(90deg,var(--neon-blue) 0px,var(--neon-blue) 10px,transparent 10px,transparent 20px);box-shadow:0 0 10px var(--neon-blue)}.scores-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.score-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;background:#00ffff1a;border:1px solid rgba(0,255,255,.3);border-radius:8px;transition:all .3s ease}.score-item[_ngcontent-%COMP%]:hover{background:#0ff3;border-color:var(--neon-blue);box-shadow:0 0 15px #00ffff4d}.score-rank[_ngcontent-%COMP%]{font-family:"Press Start 2P",cursive;font-size:.8rem;color:var(--neon-yellow);text-shadow:0 0 5px var(--neon-yellow);min-width:40px}.score-points[_ngcontent-%COMP%]{font-family:Orbitron,monospace;font-size:1.1rem;font-weight:700;color:var(--neon-green);text-shadow:0 0 5px var(--neon-green);flex:1;text-align:center}.score-date[_ngcontent-%COMP%]{font-family:Orbitron,monospace;font-size:.9rem;color:var(--neon-blue);text-shadow:0 0 5px var(--neon-blue);min-width:80px;text-align:right}.no-scores[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:#fff9}.no-scores-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.no-scores-text[_ngcontent-%COMP%]{font-family:"Press Start 2P",cursive;font-size:.8rem;color:var(--neon-blue);text-shadow:0 0 5px var(--neon-blue);text-transform:uppercase}@keyframes _ngcontent-%COMP%_hint-pulse{0%,to{opacity:.6}50%{opacity:1}}@media (max-width: 768px){.game-container[_ngcontent-%COMP%]{padding:1rem}.game-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}.score-info[_ngcontent-%COMP%]{gap:1rem}.score-display[_ngcontent-%COMP%]{min-width:100px}.control-section[_ngcontent-%COMP%]{flex-direction:column}.game-over-notification[_ngcontent-%COMP%]{padding:1.5rem;margin:1rem}.notification-title[_ngcontent-%COMP%]{font-size:1.2rem}.score-value[_ngcontent-%COMP%]{font-size:1.8rem}.score-message[_ngcontent-%COMP%]{font-size:.9rem}}@media (max-width: 480px){.score-value[_ngcontent-%COMP%]{font-size:1.2rem}.control-btn[_ngcontent-%COMP%]{padding:.8rem 1.5rem;font-size:.7rem}}']})};var yO=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:fg},{path:"register",component:pg},{path:"game",component:yg},{path:"**",redirectTo:"/login"}];var vO={providers:[my(),Gv({eventCoalescing:!0}),G_(yO),qR(()=>GR(Gx.firebase)),eM(()=>rM()),Vx(()=>Bx())]};var vg=class t{title="\u{1F3AE} ARCADE ZONE \u{1F3AE}";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Sn({type:t,selectors:[["app-root"]],decls:24,vars:1,consts:[[1,"app-container"],[1,"scanlines"],[1,"noise"],[1,"app-header"],[1,"header-content"],[1,"logo-container"],[1,"arcade-logo"],[1,"logo-glow"],[1,"header-decoration"],[1,"pixel-border"],[1,"app-main"],[1,"app-footer"],[1,"footer-content"],[1,"footer-decoration"],[1,"pixel"]],template:function(n,r){n&1&&(H(0,"div",0),Me(1,"div",1)(2,"div",2),H(3,"header",3)(4,"div",4)(5,"div",5)(6,"h1",6),W(7),F(),Me(8,"div",7),F(),H(9,"div",8),Me(10,"div",9),F()()(),H(11,"main",10),Me(12,"router-outlet"),F(),H(13,"footer",11)(14,"div",12)(15,"p"),W(16,"\xA9 1995 ARCADE ZONE - INSERT COINS TO CONTINUE"),F(),H(17,"div",13)(18,"span",14),W(19,"\u2588"),F(),H(20,"span",14),W(21,"\u2588"),F(),H(22,"span",14),W(23,"\u2588"),F()()()()()),n&2&&(pe(7),jt(r.title))},dependencies:[Tu,Yn],styles:[`@font-face{font-family:Orbitron;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/orbitron/v35/yMJRMIlzdpvBhQQL_Qq7dy0.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Orbitron;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/orbitron/v35/yMJRMIlzdpvBhQQL_Qq7dy0.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Orbitron;font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/orbitron/v35/yMJRMIlzdpvBhQQL_Qq7dy0.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:"Press Start 2P";font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/pressstart2p/v15/e3t4euO8T-267oIAQAu6jDQyK3nYivN04w.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:"Press Start 2P";font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/pressstart2p/v15/e3t4euO8T-267oIAQAu6jDQyK3nRivN04w.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:"Press Start 2P";font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/pressstart2p/v15/e3t4euO8T-267oIAQAu6jDQyK3nWivN04w.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:"Press Start 2P";font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/pressstart2p/v15/e3t4euO8T-267oIAQAu6jDQyK3nbivN04w.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:"Press Start 2P";font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/pressstart2p/v15/e3t4euO8T-267oIAQAu6jDQyK3nVivM.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}[_ngcontent-%COMP%]:root{--neon-pink: #ff00ff;--neon-blue: #00ffff;--neon-green: #00ff00;--neon-yellow: #ffff00;--dark-bg: #0a0a0a;--darker-bg: #050505;--accent-purple: #8a2be2;--accent-orange: #ff8c00;--text-glow: 0 0 10px currentColor;--box-shadow: 0 0 20px rgba(255, 0, 255, .5)}*[_ngcontent-%COMP%]{box-sizing:border-box}body[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Orbitron,monospace;background:var(--dark-bg);color:#fff;overflow-x:hidden}.app-container[_ngcontent-%COMP%]{min-height:100vh;background:radial-gradient(circle at 20% 80%,var(--accent-purple) 0%,transparent 50%),radial-gradient(circle at 80% 20%,var(--accent-orange) 0%,transparent 50%),linear-gradient(135deg,var(--darker-bg) 0%,var(--dark-bg) 100%);position:relative;font-family:Orbitron,monospace}.scanlines[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(to bottom,transparent 50%,rgba(0,0,0,.05) 50%);background-size:100% 4px;pointer-events:none;z-index:1}.noise[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");opacity:.01;pointer-events:none;z-index:2}.app-header[_ngcontent-%COMP%]{position:relative;z-index:10;background:linear-gradient(90deg,#ff00ff1a,#00ffff1a,#ff00ff1a);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);padding:1rem 2rem;border-bottom:3px solid var(--neon-pink);box-shadow:0 0 30px #ff00ff4d}.header-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;text-align:center}.logo-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.arcade-logo[_ngcontent-%COMP%]{color:var(--neon-pink);margin:0;font-size:2.5rem;font-weight:900;font-family:"Press Start 2P",cursive;text-shadow:0 0 8px var(--neon-pink),0 0 15px var(--neon-pink);animation:_ngcontent-%COMP%_logoGlow 4s ease-in-out infinite alternate;letter-spacing:2px}.logo-glow[_ngcontent-%COMP%]{position:absolute;inset:0;background:radial-gradient(circle,var(--neon-pink) 0%,transparent 70%);opacity:.2;filter:blur(15px);animation:_ngcontent-%COMP%_glowPulse 4s ease-in-out infinite}.header-decoration[_ngcontent-%COMP%]{margin-top:1rem}.pixel-border[_ngcontent-%COMP%]{height:4px;background:repeating-linear-gradient(90deg,var(--neon-blue) 0px,var(--neon-blue) 8px,transparent 8px,transparent 16px);box-shadow:0 0 10px var(--neon-blue)}.app-main[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto;position:relative;z-index:5}.app-footer[_ngcontent-%COMP%]{position:relative;z-index:10;background:linear-gradient(90deg,#00ffff1a,#ff00ff1a,#00ffff1a);border-top:3px solid var(--neon-blue);padding:1rem 2rem;text-align:center;box-shadow:0 0 30px #00ffff4d}.footer-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.footer-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--neon-blue);font-family:"Press Start 2P",cursive;font-size:.8rem;margin:0;text-shadow:0 0 5px var(--neon-blue)}.footer-decoration[_ngcontent-%COMP%]{margin-top:.5rem}.footer-decoration[_ngcontent-%COMP%]   .pixel[_ngcontent-%COMP%]{color:var(--neon-blue);margin:0 .2rem;animation:_ngcontent-%COMP%_pixelBlink 1.5s ease-in-out infinite}.footer-decoration[_ngcontent-%COMP%]   .pixel[_ngcontent-%COMP%]:nth-child(2){animation-delay:.5s}.footer-decoration[_ngcontent-%COMP%]   .pixel[_ngcontent-%COMP%]:nth-child(3){animation-delay:1s}@keyframes _ngcontent-%COMP%_logoGlow{0%{text-shadow:0 0 8px var(--neon-pink),0 0 15px var(--neon-pink)}to{text-shadow:0 0 12px var(--neon-pink),0 0 20px var(--neon-pink)}}@keyframes _ngcontent-%COMP%_glowPulse{0%,to{opacity:.2;transform:scale(1)}50%{opacity:.4;transform:scale(1.05)}}@keyframes _ngcontent-%COMP%_pixelBlink{0%,to{opacity:1}50%{opacity:.5}}@media (max-width: 768px){.arcade-logo[_ngcontent-%COMP%]{font-size:1.8rem}.app-main[_ngcontent-%COMP%]{padding:1rem}}@media (max-width: 480px){.arcade-logo[_ngcontent-%COMP%]{font-size:1.4rem}.app-header[_ngcontent-%COMP%], .app-footer[_ngcontent-%COMP%]{padding:1rem}}`]})};v_(vg,vO).catch(t=>console.error(t));
